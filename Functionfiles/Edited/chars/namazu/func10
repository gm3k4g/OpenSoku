void __thiscall char_namazu::func10(char_namazu *a1)
{
 
 startpoint
 
  v1 = a1;
  a1->char_c.x_delta = 0;
  a1->char_c.y_delta = 90;
  if ( char_c::char_is_shock(&a1->char_c) )
    sub_5586E0((int)v1);
  if ( LOBYTE(v1->char_c.controlling_type) == 2 )
  {
    v1->char_c.field_4AA = 2;
    v1->char_c.field_534 = 0.25;
    v1->char_c.field_55C = 2.0;
    v1->char_c.field_538 = 0.0;
    v1->char_c.field_86A = 0;
    if ( v1->char_c.cards_added >= 1 )
    {
      switch ( get_added_card_by_id((def_deque *)&v1->char_c.cards_active, 0)->id )
      {
        case 0:
        case 1:
        case 2:
        case 3:
          v1->char_c.field_4AA = 2;
          v1->char_c.field_534 = 0.1;
          v1->char_c.field_55C = 5.0;
          v1->char_c.field_538 = 0.0;
          v1->char_c.field_86A = 1;
          if ( *(_WORD *)&v1->char_c.meta.current_frame_params->extra_6byte[4] == 1 )
          {
            v1->char_c.field_86A = 3;
            v1->char_c.field_55C = 7.5;
          }
          if ( *(_WORD *)&v1->char_c.meta.current_frame_params->extra_6byte[4] == 2 )
          {
            v1->char_c.field_86A = 3;
            v1->char_c.field_55C = 15.0;
          }
          break;
        case 4:
        case 5:
        case 6:
        case 7:
          v1->char_c.field_4AA = 2;
          v1->char_c.field_534 = 0.1;
          v1->char_c.field_55C = 5.0;
          v1->char_c.field_538 = 0.0;
          v1->char_c.field_86A = 1;
          if ( *(_WORD *)&v1->char_c.meta.current_frame_params->extra_6byte[4] == 1 )
          {
            v1->char_c.field_86A = 3;
            v1->char_c.field_55C = 10.0;
          }
          if ( *(_WORD *)&v1->char_c.meta.current_frame_params->extra_6byte[4] == 2 )
          {
            v1->char_c.field_86A = 3;
            v1->char_c.field_55C = 20.0;
          }
          break;
        case 8:
        case 9:
        case 10:
        case 11:
          v1->char_c.field_4AA = 2;
          v1->char_c.field_534 = 0.1;
          v2 = 3.0;
          goto LABEL_15;
        case 12:
        case 13:
        case 14:
        case 15:
          v1->char_c.field_4AA = 2;
          v1->char_c.field_534 = 0.1;
          v2 = 2.5;
LABEL_15:
          v1->char_c.field_55C = v2;
          v1->char_c.field_538 = 0.0;
          v1->char_c.field_86A = 1;
          if ( *(_WORD *)&v1->char_c.meta.current_frame_params->extra_6byte[4] == 1 )
          {
            v1->char_c.field_86A = 3;
            v1->char_c.field_55C = 5.0;
          }
          if ( *(_WORD *)&v1->char_c.meta.current_frame_params->extra_6byte[4] == 2 )
          {
            v1->char_c.field_86A = 3;
            v1->char_c.field_55C = 10.0;
          }
          break;
        case 16:
        case 17:
        case 18:
        case 19:
          v1->char_c.field_4AA = 2;
          v1->char_c.field_534 = 0.1;
          v1->char_c.field_55C = 2.5;
          v1->char_c.field_538 = 0.0;
          v1->char_c.field_86A = 1;
          if ( *(_WORD *)&v1->char_c.meta.current_frame_params->extra_6byte[4] == 1 )
          {
            v1->char_c.field_86A = 3;
            v1->char_c.field_534 = 0.2;
          }
          if ( *(_WORD *)&v1->char_c.meta.current_frame_params->extra_6byte[4] == 2 )
          {
            v1->char_c.field_86A = 3;
            v1->char_c.field_534 = 0.30000001;
          }
          break;
        default:
          break;
      }
    }
    if ( v1->char_c.field_882 == 1 )
    {
      if ( v1->char_c.meta.field_188 >= v1->char_c.meta.max_health && !v1->char_c.field_574 )
      {
        v1->char_c.field_86A = 2;
        v1->char_c.field_882 = 2;
        char_c::flip_with_force(&v1->char_c);
        v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 149);
        v3 = v1->char_c.meta.cEffectSprite.y + 100.0;
        scene_add_effect(&v1->char_c, 53, v1->char_c.meta.cEffectSprite.x, v3, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
        if ( v1->char_c.cards_added >= 1 )
        {
          v4 = get_added_card_by_id((def_deque *)&v1->char_c.cards_active, 0)->id;
          if ( v4 <= 0xF )
          {
            v5 = (unsigned __int8)byte_7E98AC[v4];
            v1->char_c.field_884 = 300;
            v1->char_c.field_886 = 300;
          }
        }
      }
      if ( v1->char_c.meta.health <= 0 )
        v1->char_c.field_882 = 2;
    }
    if ( v1->char_c.field_884 > 0 )
    {
      v6 = v1->char_c.damage_limit;
      if ( v6 > 0 && v6 < 100 )
        v1->char_c.damage_limit = 0;
      if ( v1->char_c.field_884 == 1 || v1->char_c.meta.health <= 0 )
      {
        v1->char_c.field_4AA = 0;
        v1->char_c.field_884 = 0;
        v1->char_c.field_4BA = 0;
        v1->char_c.meta.field_188 = 0;
        *(_DWORD *)&v1->char_c.field_81E = 1;
        v1->char_c.field_81A = 0;
        v1->char_c.field_81C = 0;
        v1->char_c.field_818 = 0;
        v1->char_c.field_882 = 1;
        if ( v1->char_c.meta.health <= 0 )
        {
LABEL_42:
          v1->char_c.field_86A = 0;
          goto LABEL_43;
        }
        *(float *)&a7 = 0.0;
        v1930 = 0.0;
        v1931 = 0.0;
        addbullet(&v1->char_c, 1201, 180.0, 130.0, 1, 2, (int)&a7, 3);
      }
      else
      {
        v1->char_c.field_86A = 2;
        v1->char_c.field_4AA = 2;
        v1->char_c.field_538 = 1.0;
        v1->char_c.field_534 = 1.0;
        --v1->char_c.field_884;
        v1->char_c.field_4BA = 6000;
      }
    }
    if ( v1->char_c.meta.health > 0 )
      goto LABEL_43;
    goto LABEL_42;
  }
LABEL_43:
  v7 = v1->char_c.meta.playing_seq;
  if ( v7 > 149 && v7 < 159 && !v1->char_c.bbarrier_show )
  {
    v1->char_c.bbarrier_show = 1;
    v8 = v1->char_c.meta.playing_seq;
    if ( v8 > 149 && v8 < 154 )
    {
      v9 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
      v10 = v1->char_c.meta.cEffectSprite.y + 94.0;
      v11 = v10;
      v12 = (double)(57 * (char)v9) + v1->char_c.meta.cEffectSprite.x;
      addbullet(&v1->char_c, 998, v12, v11, v9, 1, 0, 0);
    }
    v13 = v1->char_c.meta.playing_seq;
    if ( v13 > 153 && v13 < 158 )
    {
      v14 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
      v15 = v1->char_c.meta.cEffectSprite.y + 60.0;
      v16 = v15;
      v17 = (double)(57 * (char)v14) + v1->char_c.meta.cEffectSprite.x;
      addbullet(&v1->char_c, 998, v17, v16, v14, 1, 0, 0);
    }
    if ( v1->char_c.meta.playing_seq == 158 )
    {
      v18 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
      v19 = v1->char_c.meta.cEffectSprite.y + 100.0;
      v20 = v19;
      v21 = (double)(57 * (char)v18) + v1->char_c.meta.cEffectSprite.x;
      addbullet(&v1->char_c, 998, v21, v20, v18, 1, 0, 0);
    }
  }
  if ( v1->char_c.meta.hit_stop || v1->char_c.meta.enemy->time_stop )
    return;
  v22 = v1->char_c.meta.playing_seq;
  if ( v22 > 300 )
  {
    if ( v22 <= 500 )
    {
      if ( v22 == 500 )
      {
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 0;
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
        if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
        {
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
          {
            v495 = 0;
            v1693 = 6.0;
            v1694 = 12.0;
            v496 = v1->char_c.skills_1[0];
            if ( (char)v496 < 4 )
            {
              if ( (char)v496 < 1 )
              {
                v1496 = 0;
                do
                {
                  *(float *)&v1692 = -20.0 - (double)v1496;
                  v505 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v506 = v1->char_c.meta.cEffectSprite.y + 177.0;
                  v507 = v506;
                  v508 = (double)(38 * (char)v505) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 810, v508, v507, v505, 1, (int)&v1692, 3);
                  v495 += 10;
                  v1496 = v495;
                }
                while ( v495 < 40 );
              }
              else
              {
                v1495 = 0;
                do
                {
                  *(float *)&v1692 = -20.0 - (double)v1495;
                  v501 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v502 = v1->char_c.meta.cEffectSprite.y + 177.0;
                  v503 = v502;
                  v504 = (double)(38 * (char)v501) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 810, v504, v503, v501, 1, (int)&v1692, 3);
                  v495 += 10;
                  v1495 = v495;
                }
                while ( v495 < 50 );
              }
            }
            else
            {
              v1494 = 0;
              do
              {
                *(float *)&v1692 = -20.0 - (double)v1494;
                v497 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v498 = v1->char_c.meta.cEffectSprite.y + 177.0;
                v499 = v498;
                v500 = (double)(38 * (char)v497) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 810, v500, v499, v497, 1, (int)&v1692, 3);
                v495 += 10;
                v1494 = v495;
              }
              while ( v495 < 60 );
            }
LABEL_1355:
            char_c::add_card_energy(&v1->char_c, 50);
            char_c::spell_energy_spend(&v1->char_c, 200, 120);
            char_c::play_sfx(&v1->char_c, 10);
          }
          return;
        }
LABEL_499:
        v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
        return;
      }
      switch ( v22 )
      {
        case 301:
          char_c::sub10func(&v1->char_c);
          if ( get_true(0) )
            return;
          if ( v1->char_c.field_49A )
          {
            v239 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v239;
            v240 = 0.0;
            if ( v239 < 0.0 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v1->char_c.field_49A = 0;
            }
          }
          else
          {
            v240 = 0.0;
          }
          if ( v1->char_c.meta.viz.get_frame >= 5 )
          {
            v241 = v1->char_c.meta.cEffectSprite.h_inerc - 0.1500000059604645;
            v1->char_c.meta.cEffectSprite.h_inerc = v241;
            if ( v241 < v240 )
              v1->char_c.meta.cEffectSprite.h_inerc = v240;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          if ( v1->char_c.meta.viz.get_frame_time )
            return;
          if ( v1->char_c.meta.viz.get_frame == 2 )
          {
            v1->char_c.meta.cEffectSprite.h_inerc = 4.0;
            v1->char_c.field_49A = 0;
            *(float *)&v1968 = 0.0;
            v1969 = 0.0;
            v1970 = 3.0;
            addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1968, 3);
          }
          goto LABEL_684;
        case 302:
          char_c::sub10func(&v1->char_c);
          if ( get_true(1) )
            return;
          if ( v1->char_c.field_49A )
          {
            v242 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v242;
            if ( v242 < 0.0 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v1->char_c.field_49A = 0;
            }
          }
          if ( !v1->char_c.down_A )
            v1->char_c.not_charge_attack = 0;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            goto LABEL_92;
          if ( v1->char_c.meta.viz.get_subseq )
            goto LABEL_711;
          if ( v1->char_c.meta.viz.get_frame_time )
            goto LABEL_708;
          if ( v1->char_c.meta.viz.get_frame != 4 )
            goto LABEL_705;
          if ( v1->char_c.not_charge_attack )
          {
            ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v243 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v244 = v1->char_c.meta.cEffectSprite.y + 162.0;
            v245 = v244;
            v246 = v1->char_c.meta.cEffectSprite.x - (double)(43 * (char)v243);
            scene_add_effect(&v1->char_c, 62, v246, v245, v243, 1);
          }
          else
          {
            *(float *)&v1974 = 0.0;
            v1975 = 0.0;
            v1976 = 4.0;
            addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1974, 3);
            v1->char_c.meta.cEffectSprite.h_inerc = 10.0;
            v1->char_c.field_49A = 0;
LABEL_705:
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
              char_c::play_sfx(&v1->char_c, 0);
LABEL_708:
            if ( v1->char_c.meta.viz.get_frame < 6 )
            {
LABEL_711:
              v248 = 0.0;
            }
            else
            {
              v247 = v1->char_c.meta.cEffectSprite.h_inerc - 1.200000047683716;
              v1->char_c.meta.cEffectSprite.h_inerc = v247;
              v248 = 0.0;
              if ( v247 < 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 1 )
                {
                  v1->char_c.meta.cEffectSprite.h_inerc = 10.0;
                  v1->char_c.field_49A = 0;
                  *(float *)&v1980 = v248;
                  v1981 = v248;
                  v1982 = 4.0;
                  addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1980, 3);
                  v248 = 0.0;
                }
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
                {
                  char_c::play_sfx(&v1->char_c, 0);
                  v248 = 0.0;
                }
              }
              if ( v1->char_c.meta.viz.get_frame >= 3 )
              {
                v249 = v1->char_c.meta.cEffectSprite.h_inerc - 1.200000047683716;
                v1->char_c.meta.cEffectSprite.h_inerc = v249;
                if ( v249 < v248 )
                  v1->char_c.meta.cEffectSprite.h_inerc = v248;
              }
            }
          }
          return;
        case 303:
          char_c::sub10func(&v1->char_c);
          if ( !get_true(0) )
          {
            if ( v1->char_c.field_49A > 0 )
            {
              v250 = v1->char_c.meta.cEffectSprite.h_inerc - 0.6000000238418579;
              v1->char_c.meta.cEffectSprite.h_inerc = v250;
              if ( v250 < 0.0 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                v1->char_c.field_49A = 0;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 2);
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 1 )
            {
              scene_play_sfx(28);
              *(float *)&v1986 = 0.0;
              v1987 = 0.0;
              v1988 = 2.0;
              addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1986, 3);
            }
          }
          return;
        case 304:
          char_c::sub10func(&v1->char_c);
          if ( get_true(1) )
            return;
          if ( v1->char_c.field_49A > 0 )
          {
            v251 = v1->char_c.meta.cEffectSprite.h_inerc - 0.6000000238418579;
            v1->char_c.meta.cEffectSprite.h_inerc = v251;
            if ( v251 < 0.0 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v1->char_c.field_49A = 0;
            }
          }
          if ( !v1->char_c.down_A )
            v1->char_c.not_charge_attack = 0;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 2);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          {
LABEL_79:
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 2);
            return;
          }
          if ( v1->char_c.meta.viz.get_subseq )
            goto LABEL_756;
          if ( v1->char_c.meta.viz.get_frame_time )
            goto LABEL_753;
          if ( v1->char_c.meta.viz.get_frame == 3 )
          {
            *(float *)&v1992 = 0.0;
            v1993 = 0.0;
            v1994 = 5.0;
            addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1992, 3);
          }
          if ( v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 3 )
            goto LABEL_753;
          if ( v1->char_c.not_charge_attack )
          {
            ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v252 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v253 = v1->char_c.meta.cEffectSprite.y + 50.0;
            v254 = v253;
            v255 = v1->char_c.meta.cEffectSprite.x - (double)(20 * (char)v252);
            scene_add_effect(&v1->char_c, 62, v255, v254, v252, 1);
          }
          else
          {
            v1->char_c.meta.cEffectSprite.h_inerc = 2.0;
            scene_play_sfx(29);
LABEL_753:
            if ( v1->char_c.meta.viz.get_frame < 5 )
            {
LABEL_756:
              v257 = 0.0;
            }
            else
            {
              v256 = v1->char_c.meta.cEffectSprite.h_inerc - 0.1500000059604645;
              v1->char_c.meta.cEffectSprite.h_inerc = v256;
              v257 = 0.0;
              if ( v256 < 0.0 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                v1->char_c.field_49A = 0;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 1 )
                {
                  v1->char_c.meta.cEffectSprite.h_inerc = 2.0;
                  scene_play_sfx(29);
                  v257 = 0.0;
                }
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 1 )
                {
                  *(float *)&v1797 = v257;
                  v1798 = v257;
                  v1799 = 5.0;
                  addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1797, 3);
                  v257 = 0.0;
                }
              }
              if ( v1->char_c.meta.viz.get_frame >= 3 )
              {
                v258 = v1->char_c.meta.cEffectSprite.h_inerc - 0.1500000059604645;
                v1->char_c.meta.cEffectSprite.h_inerc = v258;
                if ( v258 < v257 )
                {
                  v1->char_c.meta.cEffectSprite.h_inerc = v257;
                  v1->char_c.field_49A = 0;
                }
              }
            }
          }
          return;
        case 305:
          char_c::sub10func(&v1->char_c);
          if ( !get_true(1) )
          {
            v259 = v1->char_c.meta.cEffectSprite.h_inerc - 0.2000000029802322;
            v1->char_c.meta.cEffectSprite.h_inerc = v259;
            if ( v259 < 0.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 1 )
              {
                *(float *)&v1989 = 0.0;
                v1990 = 0.0;
                v1991 = 10.0;
                v260 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v261 = v1->char_c.meta.cEffectSprite.y + 120.0;
                v262 = v261;
                v263 = v1->char_c.meta.cEffectSprite.x - (double)(40 * (char)v260);
                addbullet(&v1->char_c, 848, v263, v262, v260, 1, (int)&v1989, 3);
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
                scene_play_sfx(28);
            }
          }
          return;
        case 306:
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v264 = char_c::char_on_ground_down(&v1->char_c);
          v198 = v1;
          if ( v264 )
            goto LABEL_582;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 9);
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 2 )
              scene_play_sfx(28);
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
            {
              *(float *)&v1803 = 0.0;
              v1804 = 0.0;
              v1805 = 6.0;
              addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1803, 3);
            }
          }
          return;
        case 307:
          if ( !v1->char_c.down_A )
            v1->char_c.not_charge_attack = 0;
          v265 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v1->char_c.meta.cEffectSprite.h_inerc = v265;
          if ( v265 < 2.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 2.0;
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v266 = char_c::char_on_ground_down(&v1->char_c);
          v119 = v1;
          if ( v266 )
            goto LABEL_282;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 9);
          if ( v1->char_c.meta.viz.get_subseq )
            return;
          if ( v1->char_c.meta.viz.get_frame_time )
            return;
          if ( v1->char_c.meta.viz.get_frame == 1 )
          {
            v1->char_c.meta.cEffectSprite.h_inerc = 12.5;
            v1->char_c.meta.cEffectSprite.v_inerc = 10.0;
            v1->char_c.meta.cEffectSprite.v_force = 0.5;
          }
          if ( v1->char_c.meta.viz.get_frame_time )
            return;
          if ( v1->char_c.meta.viz.get_frame == 2 )
          {
            *(float *)&v1899 = 0.0;
            v1900 = 0.0;
            v1901 = 7.0;
            addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1899, 3);
          }
          if ( v1->char_c.meta.viz.get_frame_time )
            return;
          if ( v1->char_c.meta.viz.get_frame == 3 )
            char_c::play_sfx(&v1->char_c, 0);
          if ( v1->char_c.meta.viz.get_frame_time )
            return;
          v267 = v1->char_c.meta.viz.get_frame == 8;
          goto LABEL_807;
        case 308:
          if ( !v1->char_c.down_A )
            v1->char_c.not_charge_attack = 0;
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v268 = char_c::char_on_ground_down(&v1->char_c);
          v198 = v1;
          if ( v268 )
          {
LABEL_582:
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v198, 10);
            goto LABEL_140;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 9);
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 4 )
            {
              *(float *)&v1809 = 0.0;
              v1810 = 0.0;
              v1811 = 8.0;
              addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1809, 3);
            }
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 5 )
                scene_play_sfx(29);
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 6 )
                  v1->char_c.meta.field_190 = 0;
                if ( !v1->char_c.meta.viz.get_frame_time )
                {
                  if ( v1->char_c.meta.viz.get_frame == 7 )
                    v1->char_c.meta.field_190 = 0;
                  if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 8 )
                    v1->char_c.meta.field_190 = 0;
                }
              }
            }
          }
          return;
        case 309:
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v269 = char_c::char_on_ground_down(&v1->char_c);
          v119 = v1;
          if ( v269 )
          {
LABEL_282:
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v119, 10);
            goto LABEL_140;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 9);
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 2 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.meta.cEffectSprite.h_inerc * 0.5;
              v1->char_c.meta.cEffectSprite.v_inerc = 5.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
              scene_play_sfx(29);
            }
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
          }
          return;
        case 310:
          if ( v1->char_c.meta.field_190 )
          {
            if ( ++v1->char_c.field_7D0 > 5 )
            {
              v1->char_c.meta.field_190 = 0;
              v1->char_c.field_7D0 = 0;
            }
          }
          if ( v1->char_c.meta.viz.get_subseq == 1 )
          {
            if ( !v1->char_c.meta.viz.get_elaps_frames )
              v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
            if ( !(v1->char_c.meta.viz.get_elaps_frames % 8) )
              scene_play_sfx(27);
            if ( v1->char_c.meta.field_190 )
            {
              if ( ++v1->char_c.field_7D0 > 5 )
              {
                v1->char_c.meta.field_190 = 0;
                v1->char_c.field_7D0 = 0;
              }
            }
            if ( v1->char_c.meta.viz.get_elaps_frames > 30 )
            {
              ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              v1->char_c.meta.cEffectSprite.v_inerc = 6.0;
              v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.meta.cEffectSprite.h_inerc * 0.5;
            }
          }
          if ( v1->char_c.meta.viz.get_subseq != 2 )
            goto LABEL_857;
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( !char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_857;
          v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
          v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
LABEL_856:
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 9);
          return;
        case 320:
          char_c::sub10func(&v1->char_c);
          if ( !get_true(0) )
          {
            if ( v1->char_c.field_49A )
            {
              v270 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v270;
              v271 = 0.0;
              if ( v270 < 0.0 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                v1->char_c.field_49A = 0;
              }
            }
            else
            {
              v271 = 0.0;
            }
            if ( v1->char_c.meta.viz.get_frame >= 5 )
            {
              v272 = v1->char_c.meta.cEffectSprite.h_inerc - 0.1500000059604645;
              v1->char_c.meta.cEffectSprite.h_inerc = v272;
              if ( v272 < v271 )
                v1->char_c.meta.cEffectSprite.h_inerc = v271;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 2 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = 4.0;
                v1->char_c.field_49A = 0;
                v1947 = 0.0;
                v1948 = 0.0;
                v1949 = 3.0;
                addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1947, 3);
              }
LABEL_684:
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                v1->char_c.field_49A = 0;
              }
            }
          }
          return;
        case 321:
          char_c::sub10func(&v1->char_c);
          if ( !get_true(1) )
          {
            if ( v1->char_c.meta.viz.get_frame > 3 )
            {
              v273 = v1->char_c.meta.cEffectSprite.h_inerc - 0.300000011920929;
              v1->char_c.meta.cEffectSprite.h_inerc = v273;
              if ( v273 < 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 2 )
                v1->char_c.meta.cEffectSprite.h_inerc = 4.5;
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                v1->char_c.field_49A = 0;
                *(float *)&v1815 = 0.0;
                v1816 = 0.0;
                v1817 = 12.0;
                addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1815, 3);
              }
            }
          }
          return;
        case 322:
          char_c::sub10func(&v1->char_c);
          if ( !get_true(1) )
          {
            if ( v1->char_c.meta.viz.get_frame >= 4 )
            {
              v274 = v1->char_c.meta.cEffectSprite.h_inerc - 0.2000000029802322;
              v1->char_c.meta.cEffectSprite.h_inerc = v274;
              if ( v274 < 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 3 )
                v1->char_c.meta.cEffectSprite.h_inerc = 4.0;
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
                char_c::play_sfx(&v1->char_c, 0);
            }
          }
          return;
        case 330:
          goto LABEL_659;
        case 400:
          char_c::sub10func(&v1->char_c);
          if ( v1->char_c.meta.viz.get_subseq < 2 && !v1->char_c.down_B )
            v1->char_c.not_charge_attack = 0;
          v275 = v1->char_c.field_7D0;
          if ( v275 <= 0 )
            goto LABEL_912;
          v276 = v275 + 1;
          v1->char_c.field_7D0 = v276;
          v277 = v276 % 10;
          if ( v1->char_c.meta.viz.get_subseq )
          {
            if ( v277 == 1 && v1->char_c.field_7D2 < 4 )
            {
              v1->char_c.meta.field_190 = 1;
              char_c::add_card_energy(&v1->char_c, 10);
              v286 = 0;
              do
              {
                *(float *)&v1743 = (double)(v1->char_c.field_7D4 + 5 * v286 * (v1->char_c.field_7D2 + 2)) - (double)(10 * (v1->char_c.field_7D2 + 2));
                v1744 = 1.0;
                v1745 = (double)v1->char_c.field_7D2;
                v287 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v288 = v1->char_c.meta.cEffectSprite.y + 160.0;
                v289 = v288;
                v290 = (double)(60 * (char)v287) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v290, v289, v287, 1, (int)&v1743, 3);
                ++v286;
              }
              while ( v286 < 5 );
              v1473 = &v1743;
              v1745 = (double)v1->char_c.field_7D2 + 16.0;
              x = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v291 = v1->char_c.meta.cEffectSprite.y + 160.0;
              v1459 = v291;
              v292 = (double)(60 * (char)x) + v1->char_c.meta.cEffectSprite.x;
              v285 = v292;
              goto LABEL_911;
            }
          }
          else if ( v277 == 1 && v1->char_c.field_7D2 < 3 )
          {
            v1->char_c.meta.field_190 = 1;
            char_c::add_card_energy(&v1->char_c, 10);
            v278 = 0;
            do
            {
              *(float *)&v1734 = (double)(v1->char_c.field_7D4 + 5 * v278 * (v1->char_c.field_7D2 + 3)) - (double)(10 * (v1->char_c.field_7D2 + 3));
              v1735 = 1.0;
              v1736 = (double)v1->char_c.field_7D2;
              v279 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v280 = v1->char_c.meta.cEffectSprite.y + 160.0;
              v281 = v280;
              v282 = (double)(60 * (char)v279) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 800, v282, v281, v279, 1, (int)&v1734, 3);
              ++v278;
            }
            while ( v278 < 5 );
            v1473 = &v1734;
            v1736 = (double)v1->char_c.field_7D2 + 16.0;
            x = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v283 = v1->char_c.meta.cEffectSprite.y + 160.0;
            v1459 = v283;
            v284 = (double)(60 * (char)x) + v1->char_c.meta.cEffectSprite.x;
            v285 = v284;
LABEL_911:
            v293 = v285;
            addbullet(&v1->char_c, 800, v293, v1459, x, 1, (int)v1473, 3);
            char_c::play_sfx(&v1->char_c, 1);
            ++v1->char_c.field_7D2;
            goto LABEL_912;
          }
LABEL_912:
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            goto LABEL_499;
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 5 )
            {
              if ( v1->char_c.not_charge_attack )
              {
                v294 = v1->char_c.meta.cEffectSprite.y + 150.0;
                scene_add_effect(&v1->char_c, 62, v1->char_c.meta.cEffectSprite.x, v294, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              }
            }
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              v295 = v1->char_c.meta.enemy;
              v296 = (v295->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
              v297 = v296;
              v298 = v295->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
              v299 = -(signed __int16)(signed int)atan2_deg(v298, v297);
              v1->char_c.field_7D4 = v299;
              if ( v299 < -20 )
                v1->char_c.field_7D4 = -20;
              if ( v1->char_c.field_7D4 > 20 )
                v1->char_c.field_7D4 = 20;
              v1->char_c.field_7D0 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 45);
            }
          }
          if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 2 )
            return;
          v300 = v1->char_c.meta.enemy;
          v301 = (v300->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
          move_vala = v301;
          v302 = v300->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
          v303 = v302;
          goto LABEL_934;
        case 401:
          char_c::sub10func(&v1->char_c);
          if ( v1->char_c.meta.viz.get_subseq < 2 && !v1->char_c.down_B )
            v1->char_c.not_charge_attack = 0;
          v306 = v1->char_c.field_7D0;
          if ( v306 <= 0 )
            goto LABEL_954;
          v307 = v306 + 1;
          v1->char_c.field_7D0 = v307;
          v308 = v307 % 10;
          if ( v1->char_c.meta.viz.get_subseq )
          {
            if ( v308 == 1 && v1->char_c.field_7D2 < 3 )
            {
              v1->char_c.meta.field_190 = 1;
              char_c::add_card_energy(&v1->char_c, 10);
              v314 = 0;
              do
              {
                *(float *)&v1821 = (double)(v1->char_c.field_7D4 + 5 * v314 * (v1->char_c.field_7D2 + 2)) - (double)(10 * (v1->char_c.field_7D2 + 2));
                v1822 = 1.0;
                v1823 = (double)v1->char_c.field_7D2;
                v315 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v316 = v1->char_c.meta.cEffectSprite.y + 160.0;
                v317 = v316;
                v318 = (double)(60 * (char)v315) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v318, v317, v315, 1, (int)&v1821, 3);
                ++v314;
              }
              while ( v314 < 5 );
              goto LABEL_953;
            }
          }
          else if ( v308 == 1 && v1->char_c.field_7D2 < 3 )
          {
            v1->char_c.meta.field_190 = 1;
            char_c::add_card_energy(&v1->char_c, 10);
            v309 = 0;
            do
            {
              *(float *)&v1905 = (double)(v1->char_c.field_7D4 + 5 * v309 * (v1->char_c.field_7D2 + 3)) - (double)(10 * (v1->char_c.field_7D2 + 3));
              v1906 = 1.0;
              v1907 = (double)v1->char_c.field_7D2;
              v310 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v311 = v1->char_c.meta.cEffectSprite.y + 160.0;
              v312 = v311;
              v313 = (double)(60 * (char)v310) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 800, v313, v312, v310, 1, (int)&v1905, 3);
              ++v309;
            }
            while ( v309 < 5 );
LABEL_953:
            char_c::play_sfx(&v1->char_c, 1);
            ++v1->char_c.field_7D2;
            goto LABEL_954;
          }
LABEL_954:
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
          {
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 5 )
              {
                if ( v1->char_c.not_charge_attack )
                {
                  v319 = v1->char_c.meta.cEffectSprite.y + 150.0;
                  scene_add_effect(&v1->char_c, 62, v1->char_c.meta.cEffectSprite.x, v319, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                  ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                }
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
              {
                v320 = v1->char_c.meta.enemy;
                v321 = (v320->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
                v322 = v321;
                v323 = v320->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
                v324 = -(signed __int16)(signed int)atan2_deg(v323, v322);
                v1->char_c.field_7D4 = v324;
                if ( v324 < -20 )
                  v1->char_c.field_7D4 = -20;
                if ( v1->char_c.field_7D4 > 20 )
                  v1->char_c.field_7D4 = 20;
                v1->char_c.field_7D0 = 1;
                char_c::spell_energy_spend(&v1->char_c, 200, 45);
              }
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 2 )
              return;
            v325 = v1->char_c.meta.enemy;
            v326 = (v325->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
            move_vala = v326;
            v327 = v325->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
            v303 = v327;
LABEL_934:
            v304 = v303;
            v305 = -(signed __int16)(signed int)atan2_deg(v304, move_vala);
            v1->char_c.field_7D4 = v305;
            if ( v305 < -20 )
              v1->char_c.field_7D4 = -20;
            if ( v1->char_c.field_7D4 > 20 )
              v1->char_c.field_7D4 = 20;
            v1->char_c.field_7D0 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 45);
            return;
          }
          goto LABEL_499;
        case 402:
          v328 = v1->char_c.meta.viz.get_frame;
          if ( v328 <= 1 || v328 >= 7 )
            char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_B )
            v1->char_c.not_charge_attack = 0;
          if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 )
          {
            v329 = v1->char_c.meta.cEffectSprite.h_inerc + 0.75;
            v1->char_c.meta.cEffectSprite.h_inerc = v329;
            if ( v329 > 0.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
          if ( v1->char_c.field_7D0 == 1 )
          {
            if ( !(v1->char_c.field_7D2 % 3) && v1->char_c.field_7D4 < 4 )
            {
              v330 = 0;
              v1492 = 0;
              do
              {
                *(float *)&v1626 = (double)(-20 * v1->char_c.field_7D4);
                v1627 = (double)v1492 + 10.0;
                v1628 = (double)v1->char_c.field_7D4 + 12.0;
                v331 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v332 = (double)(20 * v1->char_c.field_7D4);
                v333 = sinus(v332) * 150.0 + v1->char_c.meta.cEffectSprite.y + 50.0;
                addbullet(&v1->char_c, 800, v1->char_c.meta.cEffectSprite.x, v333, v331, 1, (int)&v1626, 3);
                v330 += 10;
                v1492 = v330;
              }
              while ( v330 < 30 );
              v334 = 4;
              do
              {
                *(float *)&v1626 = (double)(unsigned int)get_MT_range(360);
                v1627 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 5.0;
                v1628 = (double)v1->char_c.field_7D4 + 4.0;
                v335 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v336 = (double)(20 * v1->char_c.field_7D4);
                v337 = sinus(v336) * 150.0 + v1->char_c.meta.cEffectSprite.y + 50.0;
                addbullet(&v1->char_c, 800, v1->char_c.meta.cEffectSprite.x, v337, v335, 1, (int)&v1626, 3);
                --v334;
              }
              while ( v334 );
              ++v1->char_c.field_7D4;
            }
            ++v1->char_c.field_7D2;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          if ( !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 2 )
              v1->char_c.meta.cEffectSprite.h_inerc = -15.0;
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
            {
              v1->char_c.meta.field_190 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 45);
              char_c::add_card_energy(&v1->char_c, 50);
              v1->char_c.field_7D0 = 1;
              char_c::play_sfx(&v1->char_c, 1);
            }
          }
          return;
        case 404:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
            char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_B )
            v1->char_c.not_charge_attack = 0;
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) && v1->char_c.meta.viz.get_subseq < 2 )
          {
            v1->char_c.field_7D0 = 0;
            v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
            v1->char_c.air_dash_cnt = 0;
            goto LABEL_140;
          }
          v338 = v1->char_c.field_7D0;
          if ( v338 <= 0 )
            goto LABEL_1021;
          v339 = v338 + 1;
          v1->char_c.field_7D0 = v339;
          v340 = v339 % 10;
          if ( v1->char_c.meta.viz.get_subseq )
          {
            if ( v340 == 1 && v1->char_c.field_7D2 < 4 )
            {
              v1->char_c.meta.field_190 = 1;
              char_c::add_card_energy(&v1->char_c, 10);
              v349 = 0;
              do
              {
                *(float *)&v1746 = (double)(v1->char_c.field_7D4 + 5 * (v1->char_c.field_7D2 + 2) * v349) - (double)(10 * (v1->char_c.field_7D2 + 2));
                v1747 = 1.0;
                v1748 = (double)v1->char_c.field_7D2;
                v350 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v351 = v1->char_c.meta.cEffectSprite.y + 160.0;
                v352 = v351;
                v353 = (double)(60 * (char)v350) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v353, v352, v350, 1, (int)&v1746, 3);
                ++v349;
              }
              while ( v349 < 5 );
              v1474 = &v1746;
              v1748 = (double)v1->char_c.field_7D2 + 16.0;
              xa = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v354 = v1->char_c.meta.cEffectSprite.y + 160.0;
              v1460 = v354;
              v355 = (double)(60 * (char)xa) + v1->char_c.meta.cEffectSprite.x;
              v348 = v355;
              goto LABEL_1020;
            }
          }
          else if ( v340 == 1 && v1->char_c.field_7D2 < 3 )
          {
            v1->char_c.meta.field_190 = 1;
            char_c::add_card_energy(&v1->char_c, 10);
            v341 = 0;
            do
            {
              *(float *)&v1737 = (double)(v1->char_c.field_7D4 + 5 * (v1->char_c.field_7D2 + 3) * v341) - (double)(10 * (v1->char_c.field_7D2 + 3));
              v1738 = 1.0;
              v1739 = (double)v1->char_c.field_7D2;
              v342 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v343 = v1->char_c.meta.cEffectSprite.y + 160.0;
              v344 = v343;
              v345 = (double)(60 * (char)v342) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 800, v345, v344, v342, 1, (int)&v1737, 3);
              ++v341;
            }
            while ( v341 < 5 );
            v1474 = &v1737;
            v1739 = (double)v1->char_c.field_7D2 + 16.0;
            xa = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v346 = v1->char_c.meta.cEffectSprite.y + 160.0;
            v1460 = v346;
            v347 = (double)(60 * (char)xa) + v1->char_c.meta.cEffectSprite.x;
            v348 = v347;
LABEL_1020:
            v356 = v348;
            addbullet(&v1->char_c, 800, v356, v1460, xa, 1, (int)v1474, 3);
            char_c::play_sfx(&v1->char_c, 1);
            ++v1->char_c.field_7D2;
            goto LABEL_1021;
          }
LABEL_1021:
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
            goto LABEL_1884;
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 5 )
            {
              if ( v1->char_c.not_charge_attack )
              {
                v357 = v1->char_c.meta.cEffectSprite.y + 150.0;
                scene_add_effect(&v1->char_c, 62, v1->char_c.meta.cEffectSprite.x, v357, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              }
            }
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 6 )
              {
                v358 = v1->char_c.meta.enemy;
                v359 = (v358->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
                v360 = v359;
                v361 = v358->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
                v362 = -(signed __int16)(signed int)atan2_deg(v361, v360);
                v1->char_c.field_7D4 = v362;
                if ( v362 < -20 )
                  v1->char_c.field_7D4 = -20;
                if ( v1->char_c.field_7D4 > 20 )
                  v1->char_c.field_7D4 = 20;
                v1->char_c.field_7D0 = 1;
                char_c::spell_energy_spend(&v1->char_c, 200, 45);
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 14 )
                v1->char_c.meta.cEffectSprite.v_force = 0.60000002;
            }
          }
          if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time )
            return;
          if ( v1->char_c.meta.viz.get_frame != 2 )
            goto LABEL_1054;
          v363 = v1->char_c.meta.enemy;
          v364 = (v363->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
          move_valb = v364;
          v365 = v363->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
          v366 = v365;
          goto LABEL_1049;
        case 406:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
            char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_B )
            v1->char_c.not_charge_attack = 0;
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) && v1->char_c.meta.viz.get_subseq < 2 )
          {
            v1->char_c.field_7D0 = 0;
            v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
            v1->char_c.air_dash_cnt = 0;
            goto LABEL_140;
          }
          v369 = v1->char_c.field_7D0;
          if ( v369 <= 0 )
            goto LABEL_1076;
          v370 = v369 + 1;
          v1->char_c.field_7D0 = v370;
          v371 = v370 % 10;
          if ( v1->char_c.meta.viz.get_subseq )
          {
            if ( v371 == 1 && v1->char_c.field_7D2 < 4 )
            {
              v1->char_c.meta.field_190 = 1;
              char_c::add_card_energy(&v1->char_c, 10);
              v380 = 0;
              do
              {
                *(float *)&v1749 = (double)(v1->char_c.field_7D4 + 5 * (v1->char_c.field_7D2 + 2) * v380) - (double)(10 * (v1->char_c.field_7D2 + 2));
                v1750 = 1.0;
                v1751 = (double)v1->char_c.field_7D2;
                v381 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v382 = v1->char_c.meta.cEffectSprite.y + 160.0;
                v383 = v382;
                v384 = (double)(60 * (char)v381) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v384, v383, v381, 1, (int)&v1749, 3);
                ++v380;
              }
              while ( v380 < 5 );
              v1475 = &v1749;
              v1751 = (double)v1->char_c.field_7D2 + 16.0;
              xb = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v385 = v1->char_c.meta.cEffectSprite.y + 160.0;
              v1461 = v385;
              v386 = (double)(60 * (char)xb) + v1->char_c.meta.cEffectSprite.x;
              v379 = v386;
              goto LABEL_1075;
            }
          }
          else if ( v371 == 1 && v1->char_c.field_7D2 < 3 )
          {
            v1->char_c.meta.field_190 = 1;
            char_c::add_card_energy(&v1->char_c, 10);
            v372 = 0;
            do
            {
              *(float *)&v1752 = (double)(v1->char_c.field_7D4 + 5 * (v1->char_c.field_7D2 + 3) * v372) - (double)(10 * (v1->char_c.field_7D2 + 3));
              v1753 = 1.0;
              v1754 = (double)v1->char_c.field_7D2;
              v373 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v374 = v1->char_c.meta.cEffectSprite.y + 160.0;
              v375 = v374;
              v376 = (double)(60 * (char)v373) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 800, v376, v375, v373, 1, (int)&v1752, 3);
              ++v372;
            }
            while ( v372 < 5 );
            v1475 = &v1752;
            v1754 = (double)v1->char_c.field_7D2 + 16.0;
            xb = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v377 = v1->char_c.meta.cEffectSprite.y + 160.0;
            v1461 = v377;
            v378 = (double)(60 * (char)xb) + v1->char_c.meta.cEffectSprite.x;
            v379 = v378;
LABEL_1075:
            v387 = v379;
            addbullet(&v1->char_c, 800, v387, v1461, xb, 1, (int)v1475, 3);
            char_c::play_sfx(&v1->char_c, 1);
            ++v1->char_c.field_7D2;
            goto LABEL_1076;
          }
LABEL_1076:
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
          {
LABEL_1884:
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 9);
            return;
          }
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 5 )
            {
              if ( v1->char_c.not_charge_attack )
              {
                v388 = v1->char_c.meta.cEffectSprite.y + 150.0;
                scene_add_effect(&v1->char_c, 62, v1->char_c.meta.cEffectSprite.x, v388, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              }
            }
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 6 )
              {
                v389 = v1->char_c.meta.enemy;
                v390 = (v389->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
                v391 = v390;
                v392 = v389->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
                v393 = -(signed __int16)(signed int)atan2_deg(v392, v391);
                v1->char_c.field_7D4 = v393;
                if ( v393 < -20 )
                  v1->char_c.field_7D4 = -20;
                if ( v1->char_c.field_7D4 > 20 )
                  v1->char_c.field_7D4 = 20;
                v1->char_c.field_7D0 = 1;
                char_c::spell_energy_spend(&v1->char_c, 200, 45);
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 14 )
                v1->char_c.meta.cEffectSprite.v_force = 0.60000002;
            }
          }
          if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time )
            return;
          if ( v1->char_c.meta.viz.get_frame == 2 )
          {
            v394 = v1->char_c.meta.enemy;
            v395 = (v394->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
            move_valb = v395;
            v396 = v394->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
            v366 = v396;
LABEL_1049:
            v367 = v366;
            v368 = -(signed __int16)(signed int)atan2_deg(v367, move_valb);
            v1->char_c.field_7D4 = v368;
            if ( v368 < -20 )
              v1->char_c.field_7D4 = -20;
            if ( v1->char_c.field_7D4 > 20 )
              v1->char_c.field_7D4 = 20;
            v1->char_c.field_7D0 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 45);
          }
LABEL_1054:
          if ( !v1->char_c.meta.viz.get_frame_time )
          {
            v267 = v1->char_c.meta.viz.get_frame == 12;
LABEL_807:
            if ( v267 )
              v1->char_c.meta.cEffectSprite.v_force = 0.60000002;
          }
          return;
        case 408:
          char_c::sub10func(&v1->char_c);
          v397 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v1->char_c.meta.cEffectSprite.h_inerc = v397;
          if ( v397 < 0.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          if ( !v1->char_c.down_A )
            v1->char_c.not_charge_attack = 0;
          if ( viz_process(&v1->char_c) )
          {
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            v1->char_c.field_49A = 0;
          }
          if ( v1->char_c.meta.viz.get_subseq )
            return;
          if ( !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 4 )
            {
              *(float *)&v1971 = 0.0;
              v1972 = 0.0;
              v1973 = 4.0;
              addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1971, 3);
              v1->char_c.field_49A = 0;
            }
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
              char_c::play_sfx(&v1->char_c, 0);
          }
          if ( v1->char_c.meta.viz.get_frame < 6 )
            return;
          v398 = v1->char_c.meta.cEffectSprite.h_inerc - 1.0;
          v399 = v398;
          goto LABEL_1119;
        case 409:
          v400 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v1->char_c.meta.cEffectSprite.v_inerc = v400;
          v401 = v400 + v1->char_c.meta.cEffectSprite.y;
          if ( c_meta::getlvl_height(&v1->char_c) < v401 || v1->char_c.meta.cEffectSprite.v_inerc >= 0.0 )
          {
LABEL_857:
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 9);
          }
          else
          {
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 10);
            char_c::reset_forces(&v1->char_c);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
          }
          return;
        case 410:
          char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_C )
            v1->char_c.not_charge_attack = 0;
          if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.field_7D0 == 1 )
          {
            if ( !(v1->char_c.field_7D2 % 5) && v1->char_c.field_7D4 <= 5 )
            {
              char_c::play_sfx(&v1->char_c, 2);
              v1->char_c.meta.field_190 = 1;
              char_c::add_card_energy(&v1->char_c, 10);
              *(float *)&v1680 = (double)(-135 - 10 * v1->char_c.field_7D4);
              v1681 = 8.0;
              v1682 = 1.0;
              v402 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v403 = v1->char_c.meta.cEffectSprite.y + 200.0;
              v404 = v403;
              v405 = (double)(57 * (char)v402) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v405, v404, v402, 1, (int)&v1680, 3);
              *(float *)&v1680 = 0.0;
              v1681 = 0.0;
              v1682 = 0.0;
              v406 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v407 = v1->char_c.meta.cEffectSprite.y + 200.0;
              v408 = v407;
              v409 = (double)(57 * (char)v406) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v409, v408, v406, 1, (int)&v1680, 3);
              ++v1->char_c.field_7D4;
            }
            ++v1->char_c.field_7D2;
          }
          if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.field_7D0 == 1 )
          {
            if ( !(v1->char_c.field_7D2 % 3) && v1->char_c.field_7D4 <= 8 )
            {
              char_c::play_sfx(&v1->char_c, 2);
              v1->char_c.meta.field_190 = 1;
              char_c::add_card_energy(&v1->char_c, 10);
              *(float *)&v1596 = (double)(-120 - 7 * v1->char_c.field_7D4);
              v1597 = 8.0;
              v1598 = 1.0;
              v410 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v411 = v1->char_c.meta.cEffectSprite.y + 200.0;
              v412 = v411;
              v413 = (double)(57 * (char)v410) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v413, v412, v410, 1, (int)&v1596, 3);
              *(float *)&v1596 = 0.0;
              v1597 = 0.0;
              v1598 = 0.0;
              v414 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v415 = v1->char_c.meta.cEffectSprite.y + 200.0;
              v416 = v415;
              v417 = (double)(57 * (char)v414) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v417, v416, v414, 1, (int)&v1596, 3);
              ++v1->char_c.field_7D4;
            }
            ++v1->char_c.field_7D2;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            goto LABEL_499;
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 5 )
            {
              if ( v1->char_c.not_charge_attack )
              {
                v418 = v1->char_c.meta.cEffectSprite.y + 155.0;
                scene_add_effect(&v1->char_c, 62, v1->char_c.meta.cEffectSprite.x, v418, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              }
            }
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
            {
              v1->char_c.field_7D0 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 60);
            }
          }
          if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
          {
            v1->char_c.field_7D0 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 60);
          }
          return;
        case 411:
          char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_C )
            v1->char_c.not_charge_attack = 0;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
          {
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 3);
              v1->char_c.meta.field_190 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 60);
              *(float *)&v1662 = 0.0;
              v1663 = 15.0;
              v1664 = 3.0;
              v419 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v420 = v1->char_c.meta.cEffectSprite.y + 150.0;
              v421 = v420;
              v422 = (double)(120 * (char)v419) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v422, v421, v419, 1, (int)&v1662, 3);
              *(float *)&v1662 = 0.0;
              v1663 = 0.0;
              v1664 = 0.0;
              v423 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v424 = v1->char_c.meta.cEffectSprite.y + 150.0;
              v425 = v424;
              v426 = (double)(120 * (char)v423) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v426, v425, v423, 1, (int)&v1662, 3);
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 3);
              v1->char_c.meta.field_190 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 60);
              *(float *)&v1827 = 0.0;
              v1828 = 15.0;
              v1829 = 3.0;
              v427 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v428 = v1->char_c.meta.cEffectSprite.y + 150.0;
              v429 = v428;
              v430 = (double)(120 * (char)v427) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v430, v429, v427, 1, (int)&v1827, 3);
            }
          }
          else
          {
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          }
          return;
        case 412:
          v431 = v1->char_c.meta.viz.get_subseq;
          if ( !v431 || v431 == 5 )
            char_c::sub10func(&v1->char_c);
          v432 = v1->char_c.meta.viz.get_subseq;
          if ( v432 >= 1 && v432 <= 4 && (v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force, (unsigned __int8)char_c::char_on_ground_down(&v1->char_c)) )
          {
            char_c::reset_forces(&v1->char_c);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 5);
          }
          else
          {
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames )
            {
              if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              {
                v1->char_c.meta.cEffectSprite.v_inerc = 10.0;
                v1->char_c.meta.cEffectSprite.v_force = 0.30000001;
              }
              if ( !v1->char_c.meta.viz.get_elaps_frames )
              {
                if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
                {
                  v1493 = 0.0;
                  v433 = 6.0;
                  v434 = (float)0.0;
                  do
                  {
                    *(float *)&v1571 = v434 * 60.0;
                    v1572 = v433;
                    v1573 = 1.0;
                    v435 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v436 = sinus(*(float *)&v1571) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                    v437 = v436;
                    v438 = -*(float *)&v1571;
                    v439 = cosinus(v438) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 801, v439, v437, v435, 1, (int)&v1571, 3);
                    *(float *)&v1571 = 0.0;
                    v1572 = 0.0;
                    v1573 = 0.0;
                    v440 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v441 = sinus(0.0) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                    v442 = v441;
                    v443 = -*(float *)&v1571;
                    v444 = cosinus(v443) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 801, v444, v442, v440, 1, (int)&v1571, 3);
                    v1493 = v1493 + 1.0;
                    v433 = 6.0;
                    v434 = v1493;
                  }
                  while ( v1493 < 6.0 );
                  v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc * 0.25;
                  char_c::spell_energy_spend(&v1->char_c, 200, 60);
                  char_c::add_card_energy(&v1->char_c, 30);
                  char_c::play_sfx(&v1->char_c, 3);
                  v1->char_c.meta.cEffectSprite.v_force = 0.0;
                  v1->char_c.meta.field_190 = 1;
                }
                if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
                  v1->char_c.meta.cEffectSprite.v_force = 0.30000001;
              }
            }
          }
          return;
        case 414:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
            char_c::sub10func(&v1->char_c);
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) && v1->char_c.meta.viz.get_subseq < 2 )
            goto LABEL_1203;
          if ( !v1->char_c.down_C )
            v1->char_c.not_charge_attack = 0;
          if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.field_7D0 == 1 )
          {
            if ( !(v1->char_c.field_7D2 % 5) && v1->char_c.field_7D4 <= 5 )
            {
              char_c::play_sfx(&v1->char_c, 2);
              v1->char_c.meta.field_190 = 1;
              char_c::add_card_energy(&v1->char_c, 10);
              *(float *)&v1602 = (double)(-135 - 10 * v1->char_c.field_7D4);
              v1603 = 8.0;
              v1604 = 1.0;
              v445 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v446 = v1->char_c.meta.cEffectSprite.y + 200.0;
              v447 = v446;
              v448 = (double)(57 * (char)v445) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v448, v447, v445, 1, (int)&v1602, 3);
              *(float *)&v1602 = 0.0;
              v1603 = 0.0;
              v1604 = 0.0;
              v449 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v450 = v1->char_c.meta.cEffectSprite.y + 200.0;
              v451 = v450;
              v452 = (double)(57 * (char)v449) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v452, v451, v449, 1, (int)&v1602, 3);
              ++v1->char_c.field_7D4;
            }
            ++v1->char_c.field_7D2;
          }
          if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.field_7D0 == 1 )
          {
            if ( !(v1->char_c.field_7D2 % 3) && v1->char_c.field_7D4 <= 10 )
            {
              char_c::play_sfx(&v1->char_c, 2);
              v1->char_c.meta.field_190 = 1;
              char_c::add_card_energy(&v1->char_c, 10);
              *(float *)&v1686 = (double)(-120 - 7 * v1->char_c.field_7D4);
              v1687 = 8.0;
              v1688 = 1.0;
              v453 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v454 = v1->char_c.meta.cEffectSprite.y + 200.0;
              v455 = v454;
              v456 = (double)(57 * (char)v453) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v456, v455, v453, 1, (int)&v1686, 3);
              *(float *)&v1686 = 0.0;
              v1687 = 0.0;
              v1688 = 0.0;
              v457 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v458 = v1->char_c.meta.cEffectSprite.y + 200.0;
              v459 = v458;
              v460 = (double)(57 * (char)v457) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v460, v459, v457, 1, (int)&v1686, 3);
              ++v1->char_c.field_7D4;
            }
            ++v1->char_c.field_7D2;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
            goto LABEL_1884;
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 5 )
            {
              if ( v1->char_c.not_charge_attack )
              {
                v461 = v1->char_c.meta.cEffectSprite.y + 155.0;
                scene_add_effect(&v1->char_c, 62, v1->char_c.meta.cEffectSprite.x, v461, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              }
            }
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 7 )
              {
                v1->char_c.field_7D0 = 1;
                char_c::spell_energy_spend(&v1->char_c, 200, 60);
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 15 )
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
            }
          }
          if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time )
            return;
          if ( v1->char_c.meta.viz.get_frame == 3 )
          {
            v1->char_c.field_7D0 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 60);
          }
          goto LABEL_1242;
        case 415:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
            char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_C )
            v1->char_c.not_charge_attack = 0;
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) && v1->char_c.meta.viz.get_subseq < 2 )
          {
            v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
            v1->char_c.meta.cEffectSprite.v_force = 0.0;
            v1->char_c.air_dash_cnt = 0;
            goto LABEL_140;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          {
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 9);
            return;
          }
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 6 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 3);
              v1->char_c.meta.field_190 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 60);
              *(float *)&v1608 = 0.0;
              v1609 = 15.0;
              v1610 = 3.0;
              v463 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v464 = v1->char_c.meta.cEffectSprite.y + 150.0;
              v465 = v464;
              v466 = (double)(120 * (char)v463) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v466, v465, v463, 1, (int)&v1608, 3);
              *(float *)&v1608 = 0.0;
              v1609 = 0.0;
              v1610 = 0.0;
              v467 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v468 = v1->char_c.meta.cEffectSprite.y + 150.0;
              v469 = v468;
              v470 = (double)(120 * (char)v467) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v470, v469, v467, 1, (int)&v1608, 3);
            }
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 15 )
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
          }
          if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time )
            return;
          if ( v1->char_c.meta.viz.get_frame == 4 )
          {
            char_c::add_card_energy(&v1->char_c, 50);
            char_c::play_sfx(&v1->char_c, 3);
            v1->char_c.meta.field_190 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 60);
            *(float *)&v1911 = 0.0;
            v1912 = 15.0;
            v1913 = 3.0;
            v471 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v472 = v1->char_c.meta.cEffectSprite.y + 150.0;
            v473 = v472;
            v474 = (double)(120 * (char)v471) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 801, v474, v473, v471, 1, (int)&v1911, 3);
          }
          goto LABEL_1242;
        case 416:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
            char_c::sub10func(&v1->char_c);
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) && v1->char_c.meta.viz.get_subseq < 2 )
          {
LABEL_1203:
            v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
            v1->char_c.meta.cEffectSprite.v_force = 0.0;
            v1->char_c.air_dash_cnt = 0;
            goto LABEL_140;
          }
          if ( !v1->char_c.down_C )
            v1->char_c.not_charge_attack = 0;
          if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.field_7D0 == 1 )
          {
            if ( !(v1->char_c.field_7D2 % 5) && v1->char_c.field_7D4 <= 5 )
            {
              char_c::play_sfx(&v1->char_c, 2);
              v1->char_c.meta.field_190 = 1;
              char_c::add_card_energy(&v1->char_c, 10);
              *(float *)&v1668 = (double)(10 * (v1->char_c.field_7D4 + 12));
              v1669 = 8.0;
              v1670 = 1.0;
              v475 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v476 = v1->char_c.meta.cEffectSprite.y + 200.0;
              v477 = v476;
              v478 = (double)(57 * (char)v475) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v478, v477, v475, 1, (int)&v1668, 3);
              *(float *)&v1668 = 0.0;
              v1669 = 0.0;
              v1670 = 0.0;
              v479 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v480 = v1->char_c.meta.cEffectSprite.y + 200.0;
              v481 = v480;
              v482 = (double)(57 * (char)v479) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v482, v481, v479, 1, (int)&v1668, 3);
              ++v1->char_c.field_7D4;
            }
            ++v1->char_c.field_7D2;
          }
          if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.field_7D0 == 1 )
          {
            if ( !(v1->char_c.field_7D2 % 3) && v1->char_c.field_7D4 <= 10 )
            {
              char_c::play_sfx(&v1->char_c, 2);
              v1->char_c.meta.field_190 = 1;
              char_c::add_card_energy(&v1->char_c, 10);
              *(float *)&v1614 = (double)(7 * (-30 - v1->char_c.field_7D4));
              v1615 = 8.0;
              v1616 = 1.0;
              v483 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v484 = v1->char_c.meta.cEffectSprite.y + 200.0;
              v485 = v484;
              v486 = (double)(57 * (char)v483) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v486, v485, v483, 1, (int)&v1614, 3);
              *(float *)&v1614 = 0.0;
              v1615 = 0.0;
              v1616 = 0.0;
              v487 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v488 = v1->char_c.meta.cEffectSprite.y + 200.0;
              v489 = v488;
              v490 = (double)(57 * (char)v487) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v490, v489, v487, 1, (int)&v1614, 3);
              ++v1->char_c.field_7D4;
            }
            ++v1->char_c.field_7D2;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
            goto LABEL_1884;
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 5 )
            {
              if ( v1->char_c.not_charge_attack )
              {
                v491 = v1->char_c.meta.cEffectSprite.y + 155.0;
                scene_add_effect(&v1->char_c, 62, v1->char_c.meta.cEffectSprite.x, v491, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              }
            }
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 7 )
              {
                v1->char_c.field_7D0 = 1;
                char_c::spell_energy_spend(&v1->char_c, 200, 60);
                char_c::add_card_energy(&v1->char_c, 30);
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 15 )
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
            }
          }
          if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time )
            return;
          if ( v1->char_c.meta.viz.get_frame == 3 )
          {
            v1->char_c.field_7D0 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 60);
            char_c::add_card_energy(&v1->char_c, 30);
          }
LABEL_1242:
          if ( v1->char_c.meta.viz.get_frame_time )
            return;
          v462 = v1->char_c.meta.viz.get_frame == 13;
          goto LABEL_1244;
        case 418:
          v492 = v1->char_c.meta.viz.get_subseq;
          if ( v492 == 1 || !v492 && v1->char_c.meta.viz.get_frame >= 3 )
          {
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v493 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v493;
            if ( v493 < 0.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
              v40 = v1->char_c.meta.vtbl->set_subseq_func3;
              move_val = 2;
LABEL_139:
              v40(&v1->char_c.meta, move_val);
              goto LABEL_140;
            }
          }
          v494 = v1->char_c.meta.viz.get_subseq;
          if ( !v494 && v1->char_c.meta.viz.get_frame <= 2 || v494 == 2 )
            char_c::sub10func(&v1->char_c);
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 9);
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 3 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
              v1->char_c.meta.cEffectSprite.v_inerc = 10.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
            }
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 3 )
                char_c::play_sfx(&v1->char_c, 0);
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
              {
                v1833 = 0.0;
                v1834 = 0.0;
                v1835 = 7.0;
                addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1833, 3);
              }
            }
          }
          return;
        default:
          goto LABEL_2803;
      }
    }
    if ( v22 <= 750 )
    {
      if ( v22 != 750 )
      {
        switch ( v22 )
        {
          case 501:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_92;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 4 )
              return;
            v509 = 0;
            v1621 = 6.0;
            v1622 = 12.0;
            v510 = v1->char_c.skills_1[0];
            if ( (char)v510 < 4 )
            {
              if ( (char)v510 < 1 )
              {
                v1499 = 0;
                do
                {
                  *(float *)&v1620 = -110.0 - (double)v1499;
                  v519 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v520 = v1->char_c.meta.cEffectSprite.y + 177.0;
                  v521 = v520;
                  v522 = (double)(38 * (char)v519) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 810, v522, v521, v519, 1, (int)&v1620, 3);
                  v509 += 10;
                  v1499 = v509;
                }
                while ( v509 < 40 );
              }
              else
              {
                v1498 = 0;
                do
                {
                  *(float *)&v1620 = -110.0 - (double)v1498;
                  v515 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v516 = v1->char_c.meta.cEffectSprite.y + 177.0;
                  v517 = v516;
                  v518 = (double)(38 * (char)v515) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 810, v518, v517, v515, 1, (int)&v1620, 3);
                  v509 += 10;
                  v1498 = v509;
                }
                while ( v509 < 50 );
              }
            }
            else
            {
              v1497 = 0;
              do
              {
                *(float *)&v1620 = -110.0 - (double)v1497;
                v511 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v512 = v1->char_c.meta.cEffectSprite.y + 177.0;
                v513 = v512;
                v514 = (double)(38 * (char)v511) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 810, v514, v513, v511, 1, (int)&v1620, 3);
                v509 += 10;
                v1497 = v509;
              }
              while ( v509 < 60 );
            }
            goto LABEL_1355;
          case 502:
            if ( v1->char_c.meta.viz.get_subseq == 2 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 0;
            if ( v1->char_c.meta.viz.get_subseq < 2 )
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.meta.viz.get_frame >= 11 && char_c::char_on_ground_down(&v1->char_c) || v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.viz.get_frame >= 11 && char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_1386;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
              goto LABEL_1884;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame != 4 )
              goto LABEL_1415;
            v523 = 0;
            v1675 = 6.0;
            v1676 = 12.0;
            v524 = v1->char_c.skills_1[0];
            if ( (char)v524 < 4 )
            {
              if ( (char)v524 < 1 )
              {
                v1502 = 0;
                do
                {
                  *(float *)&v1674 = -20.0 - (double)v1502;
                  v533 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v534 = v1->char_c.meta.cEffectSprite.y + 177.0;
                  v535 = v534;
                  v536 = (double)(38 * (char)v533) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 810, v536, v535, v533, 1, (int)&v1674, 3);
                  v523 += 10;
                  v1502 = v523;
                }
                while ( v523 < 40 );
              }
              else
              {
                v1501 = 0;
                do
                {
                  *(float *)&v1674 = -20.0 - (double)v1501;
                  v529 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v530 = v1->char_c.meta.cEffectSprite.y + 177.0;
                  v531 = v530;
                  v532 = (double)(38 * (char)v529) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 810, v532, v531, v529, 1, (int)&v1674, 3);
                  v523 += 10;
                  v1501 = v523;
                }
                while ( v523 < 50 );
              }
            }
            else
            {
              v1500 = 0;
              do
              {
                *(float *)&v1674 = -20.0 - (double)v1500;
                v525 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v526 = v1->char_c.meta.cEffectSprite.y + 177.0;
                v527 = v526;
                v528 = (double)(38 * (char)v525) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 810, v528, v527, v525, 1, (int)&v1674, 3);
                v523 += 10;
                v1500 = v523;
              }
              while ( v523 < 60 );
            }
            goto LABEL_1414;
          case 503:
            if ( v1->char_c.meta.viz.get_subseq == 2 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 0;
            if ( v1->char_c.meta.viz.get_subseq < 2 )
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.meta.viz.get_frame >= 11 && char_c::char_on_ground_down(&v1->char_c) || v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.viz.get_frame >= 11 && char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_1386;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
              goto LABEL_1884;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame == 4 )
            {
              v538 = 0;
              v1588 = 6.0;
              v1589 = 12.0;
              v539 = v1->char_c.skills_1[0];
              if ( (char)v539 < 4 )
              {
                if ( (char)v539 < 1 )
                {
                  v1505 = 0;
                  do
                  {
                    *(float *)&v1587 = -110.0 - (double)v1505;
                    v548 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v549 = v1->char_c.meta.cEffectSprite.y + 177.0;
                    v550 = v549;
                    v551 = (double)(38 * (char)v548) + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 810, v551, v550, v548, 1, (int)&v1587, 3);
                    v538 += 10;
                    v1505 = v538;
                  }
                  while ( v538 < 40 );
                }
                else
                {
                  v1504 = 0;
                  do
                  {
                    *(float *)&v1587 = -110.0 - (double)v1504;
                    v544 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v545 = v1->char_c.meta.cEffectSprite.y + 177.0;
                    v546 = v545;
                    v547 = (double)(38 * (char)v544) + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 810, v547, v546, v544, 1, (int)&v1587, 3);
                    v538 += 10;
                    v1504 = v538;
                  }
                  while ( v538 < 50 );
                }
              }
              else
              {
                v1503 = 0;
                do
                {
                  *(float *)&v1587 = -110.0 - (double)v1503;
                  v540 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v541 = v1->char_c.meta.cEffectSprite.y + 177.0;
                  v542 = v541;
                  v543 = (double)(38 * (char)v540) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 810, v543, v542, v540, 1, (int)&v1587, 3);
                  v538 += 10;
                  v1503 = v538;
                }
                while ( v538 < 60 );
              }
LABEL_1414:
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::play_sfx(&v1->char_c, 10);
            }
            goto LABEL_1415;
          case 505:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 4;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_499;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 4 )
              return;
            v1954 = 6.0;
            v1476 = &v1953;
            v1955 = 12.0;
            *(float *)&v1953 = -60.0;
            xc = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v552 = v1->char_c.meta.cEffectSprite.y + 177.0;
            v1462 = v552;
            v553 = (double)(38 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
            v554 = v553;
            goto LABEL_1462;
          case 506:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 4;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_499;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
            {
              v1840 = 6.0;
              v1476 = (int *)&v1839;
              v1841 = 12.0;
              v1839 = -45.0;
              xc = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v556 = v1->char_c.meta.cEffectSprite.y + 177.0;
              v1462 = v556;
              v557 = (double)(38 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
              v554 = v557;
LABEL_1462:
              v555 = v554;
              addbullet(&v1->char_c, 811, v555, v1462, xc, 1, (int)v1476, 3);
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::play_sfx(&v1->char_c, 6);
            }
            return;
          case 507:
            if ( v1->char_c.meta.viz.get_subseq == 2 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 4;
            if ( v1->char_c.meta.viz.get_subseq < 2 )
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.meta.viz.get_frame >= 11 && char_c::char_on_ground_down(&v1->char_c) || v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.viz.get_frame >= 11 && char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_1386;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
              goto LABEL_1884;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame != 4 )
              goto LABEL_1415;
            v1918 = 6.0;
            v1477 = &v1917;
            v1919 = 12.0;
            *(float *)&v1917 = -60.0;
            xd = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v558 = v1->char_c.meta.cEffectSprite.y + 177.0;
            v1463 = v558;
            v559 = (double)(38 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
            v560 = v559;
            goto LABEL_1496;
          case 508:
            if ( v1->char_c.meta.viz.get_subseq == 2 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 4;
            if ( v1->char_c.meta.viz.get_subseq < 2 )
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.meta.viz.get_frame >= 11 && char_c::char_on_ground_down(&v1->char_c) || v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.viz.get_frame >= 11 && char_c::char_on_ground_down(&v1->char_c) )
            {
LABEL_1386:
              v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
              goto LABEL_1387;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
              goto LABEL_1884;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame == 4 )
            {
              v1846 = 6.0;
              v1477 = (int *)&v1845;
              v1847 = 12.0;
              v1845 = -45.0;
              xd = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v562 = v1->char_c.meta.cEffectSprite.y + 177.0;
              v1463 = v562;
              v563 = (double)(38 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
              v560 = v563;
LABEL_1496:
              v561 = v560;
              addbullet(&v1->char_c, 811, v561, v1463, xd, 1, (int)v1477, 3);
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::play_sfx(&v1->char_c, 6);
            }
LABEL_1415:
            if ( v1->char_c.meta.viz.get_frame_time )
              return;
            v537 = v1->char_c.meta.viz.get_frame == 11;
            goto LABEL_1417;
          case 510:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 8;
            if ( v1->char_c.field_7D0 != 1 )
              goto LABEL_1525;
            if ( v1->char_c.dash_angle >= 16.0 )
              goto LABEL_1524;
            *(float *)&v1771 = 80.0 - v1->char_c.dash_angle * 9.0;
            v564 = v1->char_c.dash_angle * 12.0;
            v1478 = &v1771;
            v1772 = sinus(v564) * 16.0 + 2.0;
            v1773 = 0.0;
            v1774 = v1->char_c.dash_angle;
            xe = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v565 = -*(float *)&v1771;
            v566 = sinus(v565) * 40.0 + v1->char_c.meta.cEffectSprite.y + 120.0;
            v1464 = v566;
            v567 = -*(float *)&v1771;
            v568 = (cosinus(v567) * 100.0 + v1->char_c.dash_angle * 5.0 - 85.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            v569 = v568;
            goto LABEL_1523;
          case 511:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 8;
            if ( v1->char_c.field_7D0 == 1 )
            {
              if ( v1->char_c.dash_angle < 30.0 )
              {
                v1759 = 80.0 - v1->char_c.dash_angle * 9.0;
                v571 = v1->char_c.dash_angle * 10.0;
                v1478 = (int *)&v1759;
                v1760 = sinus(v571) * 20.0 + 2.0;
                v1761 = 0.0;
                v1762 = v1->char_c.dash_angle;
                xe = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v572 = -v1759;
                v573 = sinus(v572) * 40.0 + v1->char_c.meta.cEffectSprite.y + 120.0;
                v1464 = v573;
                v574 = -v1759;
                v575 = (cosinus(v574) * 100.0 + v1->char_c.dash_angle * 5.0 - 85.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                v569 = v575;
LABEL_1523:
                v570 = v569;
                addbullet(&v1->char_c, 812, v570, v1464, xe, 1, (int)v1478, 4);
              }
LABEL_1524:
              v1->char_c.dash_angle = v1->char_c.dash_angle + 1.0;
            }
LABEL_1525:
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_499;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::play_sfx(&v1->char_c, 10);
              v1->char_c.field_7D0 = 1;
            }
            return;
          case 512:
            if ( v1->char_c.meta.viz.get_subseq == 1 )
              char_c::sub10func(&v1->char_c);
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                v1->char_c.field_7D0 = 0;
              }
            }
            v1->char_c.meta.field_18C = 8;
            if ( v1->char_c.field_7D0 != 1 )
              goto LABEL_1548;
            if ( v1->char_c.dash_angle >= 16.0 )
              goto LABEL_1547;
            *(float *)&v1767 = 80.0 - v1->char_c.dash_angle * 9.0;
            v576 = v1->char_c.dash_angle * 12.0;
            v1479 = &v1767;
            v1768 = sinus(v576) * 16.0 + 2.0;
            v1769 = 0.0;
            v1770 = v1->char_c.dash_angle;
            xf = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v577 = -*(float *)&v1767;
            v578 = sinus(v577) * 40.0 + v1->char_c.meta.cEffectSprite.y + 120.0;
            v1465 = v578;
            v579 = -*(float *)&v1767;
            v580 = (cosinus(v579) * 100.0 + v1->char_c.dash_angle * 5.0 - 85.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            v581 = v580;
            goto LABEL_1546;
          case 513:
            if ( v1->char_c.meta.viz.get_subseq == 1 )
              char_c::sub10func(&v1->char_c);
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                v1->char_c.field_7D0 = 0;
              }
            }
            v1->char_c.meta.field_18C = 8;
            if ( v1->char_c.field_7D0 == 1 )
            {
              if ( v1->char_c.dash_angle < 30.0 )
              {
                v1775 = 80.0 - v1->char_c.dash_angle * 9.0;
                v583 = v1->char_c.dash_angle * 10.0;
                v1479 = (int *)&v1775;
                v1776 = sinus(v583) * 20.0 + 2.0;
                v1777 = 0.0;
                v1778 = v1->char_c.dash_angle;
                xf = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v584 = -v1775;
                v585 = sinus(v584) * 40.0 + v1->char_c.meta.cEffectSprite.y + 120.0;
                v1465 = v585;
                v586 = -v1775;
                v587 = (cosinus(v586) * 100.0 + v1->char_c.dash_angle * 5.0 - 85.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                v581 = v587;
LABEL_1546:
                v582 = v581;
                addbullet(&v1->char_c, 812, v582, v1465, xf, 1, (int)v1479, 4);
              }
LABEL_1547:
              v1->char_c.dash_angle = v1->char_c.dash_angle + 1.0;
            }
LABEL_1548:
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_1884;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 3 )
              {
                char_c::add_card_energy(&v1->char_c, 50);
                char_c::spell_energy_spend(&v1->char_c, 200, 120);
                char_c::play_sfx(&v1->char_c, 10);
                v1->char_c.field_7D0 = 1;
              }
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                v462 = v1->char_c.meta.viz.get_frame == 11;
LABEL_1244:
                if ( v462 )
                  v1->char_c.meta.cEffectSprite.v_force = 0.5;
              }
            }
            return;
          case 520:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 1;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_499;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              v1->char_c.meta.field_190 = 1;
              *(float *)&v1722 = 0.0;
              v1723 = 0.0;
              v1724 = 0.0;
              v588 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v589 = v1->char_c.meta.cEffectSprite.y + 150.0;
              v590 = v589;
              v591 = (double)(95 * (char)v588) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 815, v591, v590, v588, 1, (int)&v1722, 3);
              v592 = 0;
              v1724 = 1.0;
              v1506 = 0;
              do
              {
                *(float *)&v1722 = (double)v1506 - 10.0;
                v593 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v594 = v1->char_c.meta.cEffectSprite.y + 150.0;
                v595 = v594;
                v596 = (double)(95 * (char)v593) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 815, v596, v595, v593, 1, (int)&v1722, 3);
                v592 += 5;
                v1506 = v592;
              }
              while ( v592 < 25 );
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 12);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
            }
            return;
          case 521:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 1;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_499;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 6 )
              return;
            v1->char_c.meta.field_190 = 1;
            *(float *)&v1704 = 0.0;
            v1705 = 0.0;
            v1706 = 0.0;
            v597 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v598 = v1->char_c.meta.cEffectSprite.y + 150.0;
            v599 = v598;
            v600 = (double)(95 * (char)v597) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 815, v600, v599, v597, 1, (int)&v1704, 3);
            v601 = 0;
            v1706 = 1.0;
            v1507 = 0;
            do
            {
              *(float *)&v1704 = (double)v1507 - 16.0;
              v602 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v603 = v1->char_c.meta.cEffectSprite.y + 150.0;
              v604 = v603;
              v605 = (double)(95 * (char)v602) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 815, v605, v604, v602, 1, (int)&v1704, 3);
              v601 += 8;
              v1507 = v601;
            }
            while ( v601 < 40 );
            char_c::play_sfx(&v1->char_c, 12);
            goto LABEL_1592;
          case 522:
            if ( v1->char_c.meta.viz.get_subseq == 2 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 1;
            if ( v1->char_c.meta.viz.get_subseq <= 1 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
                goto LABEL_1597;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
              goto LABEL_1884;
            if ( v1->char_c.meta.viz.get_subseq )
              return;
            if ( v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame == 6 )
            {
              v1->char_c.meta.field_190 = 1;
              *(float *)&v1707 = 0.0;
              v1708 = 0.0;
              v1709 = 0.0;
              v606 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v607 = v1->char_c.meta.cEffectSprite.y + 150.0;
              v608 = v607;
              v609 = (double)(95 * (char)v606) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 815, v609, v608, v606, 1, (int)&v1707, 3);
              v610 = 0;
              v1709 = 1.0;
              v1508 = 0;
              do
              {
                *(float *)&v1707 = (double)v1508 - 10.0;
                v611 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v612 = v1->char_c.meta.cEffectSprite.y + 150.0;
                v613 = v612;
                v614 = (double)(95 * (char)v611) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 815, v614, v613, v611, 1, (int)&v1707, 3);
                v610 += 5;
                v1508 = v610;
              }
              while ( v610 < 25 );
              char_c::play_sfx(&v1->char_c, 12);
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
            }
            if ( v1->char_c.meta.viz.get_frame_time )
              return;
            v537 = v1->char_c.meta.viz.get_frame == 17;
            goto LABEL_1417;
          case 523:
            if ( v1->char_c.meta.viz.get_subseq == 2 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 1;
            if ( v1->char_c.meta.viz.get_subseq <= 1 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
LABEL_1597:
                v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
                goto LABEL_140;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
              goto LABEL_1884;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 6 )
              {
                v1->char_c.meta.field_190 = 1;
                *(float *)&v1713 = 0.0;
                v1714 = 0.0;
                v1715 = 0.0;
                v615 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v616 = v1->char_c.meta.cEffectSprite.y + 150.0;
                v617 = v616;
                v618 = (double)(95 * (char)v615) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 815, v618, v617, v615, 1, (int)&v1713, 3);
                v619 = 0;
                v1715 = 1.0;
                v1509 = 0;
                do
                {
                  *(float *)&v1713 = (double)v1509 - 16.0;
                  v620 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v621 = v1->char_c.meta.cEffectSprite.y + 150.0;
                  v622 = v621;
                  v623 = (double)(95 * (char)v620) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 815, v623, v622, v620, 1, (int)&v1713, 3);
                  v619 += 8;
                  v1509 = v619;
                }
                while ( v619 < 40 );
                char_c::play_sfx(&v1->char_c, 12);
                char_c::add_card_energy(&v1->char_c, 50);
                char_c::spell_energy_spend(&v1->char_c, 200, 120);
              }
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                v537 = v1->char_c.meta.viz.get_frame == 17;
LABEL_1417:
                if ( v537 )
                  v1->char_c.meta.cEffectSprite.v_force = 0.40000001;
              }
            }
            return;
          case 525:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 5;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_499;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 6 )
              return;
            v1->char_c.meta.field_190 = 1;
            *(float *)&v1779 = 0.0;
            v1780 = 20.0;
            v1781 = 12.0;
            v624 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v625 = v1->char_c.meta.cEffectSprite.y + 145.0;
            v626 = v625;
            v627 = (double)(95 * (char)v624) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 816, v627, v626, v624, 1, (int)&v1779, 3);
            v1781 = 1.0;
            char_c::play_sfx(&v1->char_c, 16);
            goto LABEL_1592;
          case 526:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 5;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_499;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              v1->char_c.meta.field_190 = 1;
              *(float *)&v1785 = 0.0;
              v1786 = 20.0;
              v1787 = 12.0;
              v628 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v629 = v1->char_c.meta.cEffectSprite.y + 145.0;
              v630 = v629;
              v631 = (double)(95 * (char)v628) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 816, v631, v630, v628, 1, (int)&v1785, 3);
              v1787 = 1.0;
              char_c::play_sfx(&v1->char_c, 16);
LABEL_1592:
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
            }
            return;
          case 540:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 2;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::play_sfx(&v1->char_c, 13);
              v632 = 0;
              v1->char_c.meta.field_190 = 1;
              v1510 = 0;
              v1486 = 0;
              do
              {
                *(float *)&v1983 = (double)v1486;
                v1984 = 300.0;
                v1985 = 4.0;
                v633 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v634 = (double)v1510;
                v635 = v634 - 6.0;
                v636 = sinus(v635) * 300.0 + v1->char_c.meta.cEffectSprite.y + 170.0;
                v637 = v636;
                v638 = v634 * 60.0;
                v639 = (cosinus(v638) * 300.0 + 50.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 820, v639, v637, v633, 1, (int)&v1983, 3);
                ++v1510;
                v632 += 60;
                v1486 = v632;
              }
              while ( v632 < 360 );
            }
            return;
          case 541:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 2;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::play_sfx(&v1->char_c, 13);
              v640 = 0;
              v1->char_c.meta.field_190 = 1;
              v1511 = 0;
              v1487 = 0;
              do
              {
                *(float *)&v1851 = (double)v1487;
                v1852 = 300.0;
                v1853 = 0.0;
                v641 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v642 = (double)v1511;
                v643 = v642 - 6.0;
                v644 = sinus(v643) * 300.0 + v1->char_c.meta.cEffectSprite.y + 170.0;
                v645 = v644;
                v646 = v642 * 60.0;
                v647 = (cosinus(v646) * 300.0 + 50.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 820, v647, v645, v641, 1, (int)&v1851, 3);
                ++v1511;
                v640 += 60;
                v1487 = v640;
              }
              while ( v640 < 360 );
            }
            return;
          case 545:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 6;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame )
              goto LABEL_1687;
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              return;
            char_c::add_card_energy(&v1->char_c, 50);
            char_c::spell_energy_spend(&v1->char_c, 200, 120);
            char_c::play_sfx(&v1->char_c, 18);
            v1->char_c.meta.field_190 = 1;
            *(float *)&v1923 = 0.0;
            v1924 = 10.0;
            v1925 = 0.0;
            v648 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v649 = v1->char_c.meta.cEffectSprite.y + 180.0;
            v650 = v649;
            v651 = (double)(55 * (char)v648) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 821, v651, v650, v648, 1, (int)&v1923, 3);
            goto LABEL_1687;
          case 546:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 6;
            if ( !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame )
              goto LABEL_1687;
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::play_sfx(&v1->char_c, 18);
              v1->char_c.meta.field_190 = 1;
              *(float *)&v1857 = -90.0;
              v1858 = 10.0;
              v1859 = 0.0;
              v653 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v654 = v1->char_c.meta.cEffectSprite.y + 180.0;
              v655 = v654;
              v656 = (double)(55 * (char)v653) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 821, v656, v655, v653, 1, (int)&v1857, 3);
LABEL_1687:
              if ( v1->char_c.meta.viz.get_subseq == 1 )
              {
                v652 = v1->char_c.meta.viz.get_elaps_frames;
                if ( v652 >= 24 && !v1->char_c.not_charge_attack || v652 >= 20 * ((char)v1->char_c.skills_1[6] + 3) )
                  ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              }
            }
            return;
          case 560:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 3;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_1712;
            v657 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v657;
            if ( v657 < 9.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 9.0;
            v658 = v1->char_c.meta.viz.get_elaps_frames;
            if ( v658 >= 25 || (v1->char_c.meta.enemy->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir <= 120.0 )
              goto LABEL_2148;
            v660 = v658 & 0x80000001;
            v659 = v660 == 0;
            if ( v660 < 0 )
              v659 = (((_BYTE)v660 - 1) | 0xFFFFFFFE) == -1;
            if ( v659 )
            {
              *(float *)&v1959 = (double)(unsigned int)get_MT_range(360);
              v1960 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 5.0;
              v1961 = 1.0;
              v661 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v662 = v1->char_c.meta.cEffectSprite.x + 50.0;
              v663 = (double)(unsigned int)get_MT_range(200) + v1->char_c.meta.cEffectSprite.y;
              v664 = v663;
              v665 = v662 - (double)(unsigned int)get_MT_range(100);
              addbullet(&v1->char_c, 825, v665, v664, v661, 1, (int)&v1959, 3);
            }
LABEL_1712:
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              v666 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v666;
              if ( v666 < 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              if ( v1->char_c.meta.viz.get_frame <= 4 && !(v1->char_c.meta.viz.get_elaps_frames % 4) )
              {
                *(float *)&v1863 = 0.0;
                v1864 = 0.0;
                v1865 = 0.0;
                v667 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v668 = v1->char_c.meta.cEffectSprite.y + 127.0;
                v669 = v668;
                v670 = (double)(56 * (char)v667) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 825, v670, v669, v667, 1, (int)&v1863, 3);
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_1726;
            v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
            char_c::spell_energy_spend(&v1->char_c, 200, 120);
            char_c::add_card_energy(&v1->char_c, 50);
            char_c::play_sfx(&v1->char_c, 14);
            goto LABEL_1725;
          case 561:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 3;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_1741;
            v671 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v671;
            if ( v671 < 11.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 11.0;
            v672 = v1->char_c.meta.viz.get_elaps_frames;
            if ( v672 >= 40 || (v1->char_c.meta.enemy->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir <= 120.0 )
              goto LABEL_2148;
            v674 = v672 & 0x80000001;
            v673 = v674 == 0;
            if ( v674 < 0 )
              v673 = (((_BYTE)v674 - 1) | 0xFFFFFFFE) == -1;
            if ( v673 )
            {
              *(float *)&v1791 = (double)(unsigned int)get_MT_range(360);
              v1792 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 5.0;
              v1793 = 1.0;
              v675 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v676 = v1->char_c.meta.cEffectSprite.x + 50.0;
              v677 = (double)(unsigned int)get_MT_range(200) + v1->char_c.meta.cEffectSprite.y;
              v678 = v677;
              v679 = v676 - (double)(unsigned int)get_MT_range(100);
              addbullet(&v1->char_c, 825, v679, v678, v675, 1, (int)&v1791, 3);
            }
LABEL_1741:
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              v680 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v680;
              if ( v680 < 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              if ( v1->char_c.meta.viz.get_frame <= 4 && !(v1->char_c.meta.viz.get_elaps_frames % 4) )
              {
                *(float *)&v1869 = 0.0;
                v1870 = 0.0;
                v1871 = 0.0;
                v681 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v682 = v1->char_c.meta.cEffectSprite.y + 127.0;
                v683 = v682;
                v684 = (double)(56 * (char)v681) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 825, v684, v683, v681, 1, (int)&v1869, 3);
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
              char_c::play_sfx(&v1->char_c, 14);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
LABEL_1725:
              scene_add_effect(&v1->char_c, 127, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1);
            }
LABEL_1726:
            if ( v1->char_c.meta.viz.get_subseq == 2 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
              char_c::play_sfx(&v1->char_c, 11);
            return;
          case 562:
            if ( v1->char_c.meta.viz.get_subseq == 5 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 3;
            v685 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v1->char_c.meta.cEffectSprite.v_inerc = v685;
            v686 = v685 + v1->char_c.meta.cEffectSprite.y;
            if ( c_meta::getlvl_height(&v1->char_c) >= v686 && v1->char_c.meta.cEffectSprite.v_inerc < 0.0 && v1->char_c.meta.viz.get_subseq < 5 )
            {
              v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 5);
              v1->char_c.meta.cEffectSprite.v_force = 0.0;
              v1->char_c.air_dash_cnt = 0;
              goto LABEL_140;
            }
            if ( v1->char_c.meta.viz.get_subseq < 2 && !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            v687 = v1->char_c.field_7D0;
            if ( v687 > 0 )
            {
              v688 = v1->char_c.meta.viz.get_subseq;
              if ( v688 == 2 || v688 == 3 )
              {
                if ( v687 % 4 == 1 )
                {
                  char_c::add_card_energy(&v1->char_c, 10);
                  v1->char_c.meta.field_190 = 1;
                  v689 = v1->char_c.meta.enemy;
                  v690 = (v689->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
                  v691 = v690;
                  v692 = v689->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
                  v693 = -(signed __int16)(signed int)atan2_deg(v692, v691);
                  v1->char_c.field_7D4 = v693;
                  if ( v693 < -10 )
                    v1->char_c.field_7D4 = -10;
                  if ( v1->char_c.field_7D4 > 10 )
                    v1->char_c.field_7D4 = 10;
                  char_c::play_sfx(&v1->char_c, 9);
                  if ( v1->char_c.field_7D8 == 1 )
                  {
                    v694 = (double)v1->char_c.field_7D4 + 30.0;
                    v1977 = v694 - (double)(MT_getnext() % 0x3Cu);
                    v1978 = 15.0;
                    v1979 = (double)(unsigned int)get_MT_range(4);
                    v1480 = (int *)&v1977;
                  }
                  else
                  {
                    v699 = (double)v1->char_c.field_7D4 + 30.0;
                    *(float *)&v1875 = v699 - (double)(MT_getnext() % 0x3Cu);
                    v1876 = 15.0;
                    v1877 = (double)(unsigned int)get_MT_range(4);
                    v1480 = &v1875;
                  }
                  v695 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v696 = v1->char_c.meta.cEffectSprite.y + 85.0;
                  v697 = v696;
                  v698 = (double)(44 * (char)v695) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 808, v698, v697, v695, 1, (int)v1480, 3);
                }
                ++v1->char_c.field_7D0;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            v700 = v1->char_c.meta.viz.get_elaps_frames;
            if ( !v700 && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 5 )
            {
LABEL_372:
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 9);
              return;
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 && v700 > 4 && (!v1->char_c.not_charge_attack || v700 > 25) )
              ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( v1->char_c.not_charge_attack == 1 )
              {
                v701 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v702 = v1->char_c.meta.cEffectSprite.y + 107.0;
                v703 = v702;
                v704 = v1->char_c.meta.cEffectSprite.x - (double)(23 * (char)v701);
                scene_add_effect(&v1->char_c, 62, v704, v703, v701, 1);
              }
              *(float *)&v1935 = 0.0;
              v1936 = 0.0;
              v1937 = 4.0;
              v705 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v706 = v1->char_c.meta.cEffectSprite.y + 107.0;
              v707 = v706;
              v708 = v1->char_c.meta.cEffectSprite.x - (double)(23 * (char)v705);
              addbullet(&v1->char_c, 808, v708, v707, v705, 1, (int)&v1935, 3);
            }
            if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_frame == 2 && !v1->char_c.meta.viz.get_frame_time )
            {
              v1->char_c.field_7D0 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
            }
            if ( v1->char_c.meta.viz.get_subseq == 3 )
            {
              v709 = v1->char_c.meta.viz.get_elaps_frames;
              if ( v709 > 10 && !v1->char_c.not_charge_attack || v709 > 25 )
                ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            }
            if ( v1->char_c.meta.viz.get_subseq != 4 || v1->char_c.meta.viz.get_frame_time )
              return;
            v267 = v1->char_c.meta.viz.get_frame == 5;
            goto LABEL_807;
          case 565:
            if ( v1->char_c.meta.viz.get_frame >= 7 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 7;
            v710 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v710;
            if ( v710 > 0.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 1 )
                v1->char_c.meta.cEffectSprite.h_inerc = -20.0;
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 2 )
                {
                  char_c::play_sfx(&v1->char_c, 17);
                  char_c::spell_energy_spend(&v1->char_c, 200, 120);
                  char_c::add_card_energy(&v1->char_c, 50);
                  *(float *)&v1881 = (double)(unsigned int)get_MT_range(360);
                  v1882 = 0.0;
                  v1883 = 0.0;
                  v711 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v712 = v1->char_c.meta.cEffectSprite.y + 26.0;
                  v713 = v712;
                  v714 = (double)(45 * (char)v711) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 826, v714, v713, v711, 1, (int)&v1881, 3);
                }
                if ( !v1->char_c.meta.viz.get_frame_time )
                {
                  if ( v1->char_c.meta.viz.get_frame == 3 )
                  {
                    *(float *)&v1965 = (double)(unsigned int)get_MT_range(360);
                    v1966 = 0.0;
                    v1967 = 0.0;
                    v715 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v716 = v1->char_c.meta.cEffectSprite.y + 217.0;
                    v717 = v716;
                    v718 = (double)(58 * (char)v715) + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 826, v718, v717, v715, 1, (int)&v1965, 3);
                  }
                  if ( !v1->char_c.meta.viz.get_frame_time )
                  {
                    if ( v1->char_c.meta.viz.get_frame == 4 )
                    {
                      *(float *)&v1887 = (double)(unsigned int)get_MT_range(360);
                      v1888 = 0.0;
                      v1889 = 0.0;
                      v719 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                      v720 = v1->char_c.meta.cEffectSprite.y + 266.0;
                      v721 = v720;
                      v722 = (double)(5 * (char)v719) + v1->char_c.meta.cEffectSprite.x;
                      addbullet(&v1->char_c, 826, v722, v721, v719, 1, (int)&v1887, 3);
                    }
                    if ( !v1->char_c.meta.viz.get_frame_time )
                    {
                      if ( v1->char_c.meta.viz.get_frame == 5 )
                      {
                        *(float *)&v1941 = (double)(unsigned int)get_MT_range(360);
                        v1942 = 0.0;
                        v1943 = 0.0;
                        v723 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                        v724 = v1->char_c.meta.cEffectSprite.y + 234.0;
                        v725 = v724;
                        v726 = v1->char_c.meta.cEffectSprite.x - (double)((signed int)(char)v723 << 6);
                        addbullet(&v1->char_c, 826, v726, v725, v723, 1, (int)&v1941, 3);
                      }
                      if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
                      {
                        *(float *)&v1893 = (double)(unsigned int)get_MT_range(360);
                        v1894 = 0.0;
                        v1895 = 0.0;
                        v727 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                        v728 = v1->char_c.meta.cEffectSprite.y + 132.0;
                        v729 = v728;
                        v730 = v1->char_c.meta.cEffectSprite.x - (double)(90 * (char)v727);
                        addbullet(&v1->char_c, 826, v730, v729, v727, 1, (int)&v1893, 3);
                      }
                    }
                  }
                }
              }
            }
            return;
          case 566:
            if ( v1->char_c.meta.viz.get_frame >= 7 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 7;
            v731 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v731;
            if ( v731 > 0.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 1 )
                v1->char_c.meta.cEffectSprite.h_inerc = -20.0;
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 2 )
                {
                  char_c::play_sfx(&v1->char_c, 17);
                  char_c::spell_energy_spend(&v1->char_c, 200, 120);
                  char_c::add_card_energy(&v1->char_c, 50);
                  *(float *)&v1794 = (double)(unsigned int)get_MT_range(360);
                  v1795 = 0.0;
                  v1796 = 0.0;
                  v732 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v733 = v1->char_c.meta.cEffectSprite.y + 26.0;
                  v734 = v733;
                  v735 = (double)(45 * (char)v732) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 826, v735, v734, v732, 1, (int)&v1794, 3);
                }
                if ( !v1->char_c.meta.viz.get_frame_time )
                {
                  if ( v1->char_c.meta.viz.get_frame == 3 )
                  {
                    *(float *)&v1800 = (double)(unsigned int)get_MT_range(360);
                    v1801 = 0.0;
                    v1802 = 0.0;
                    v736 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v737 = v1->char_c.meta.cEffectSprite.y + 217.0;
                    v738 = v737;
                    v739 = (double)(58 * (char)v736) + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 826, v739, v738, v736, 1, (int)&v1800, 3);
                  }
                  if ( !v1->char_c.meta.viz.get_frame_time )
                  {
                    if ( v1->char_c.meta.viz.get_frame == 4 )
                    {
                      *(float *)&v1806 = (double)(unsigned int)get_MT_range(360);
                      v1807 = 0.0;
                      v1808 = 0.0;
                      v740 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                      v741 = v1->char_c.meta.cEffectSprite.y + 266.0;
                      v742 = v741;
                      v743 = (double)(5 * (char)v740) + v1->char_c.meta.cEffectSprite.x;
                      addbullet(&v1->char_c, 826, v743, v742, v740, 1, (int)&v1806, 3);
                    }
                    if ( !v1->char_c.meta.viz.get_frame_time )
                    {
                      if ( v1->char_c.meta.viz.get_frame == 5 )
                      {
                        *(float *)&v1812 = (double)(unsigned int)get_MT_range(360);
                        v1813 = 0.0;
                        v1814 = 0.0;
                        v744 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                        v745 = v1->char_c.meta.cEffectSprite.y + 234.0;
                        v746 = v745;
                        v747 = v1->char_c.meta.cEffectSprite.x - (double)((signed int)(char)v744 << 6);
                        addbullet(&v1->char_c, 826, v747, v746, v744, 1, (int)&v1812, 3);
                      }
                      if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
                      {
                        *(float *)&v1818 = (double)(unsigned int)get_MT_range(360);
                        v1819 = 0.0;
                        v1820 = 0.0;
                        v748 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                        v749 = v1->char_c.meta.cEffectSprite.y + 132.0;
                        v750 = v749;
                        v751 = v1->char_c.meta.cEffectSprite.x - (double)(90 * (char)v748);
                        addbullet(&v1->char_c, 826, v751, v750, v748, 1, (int)&v1818, 3);
                      }
                    }
                  }
                }
              }
            }
            return;
          case 567:
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              char_c::sub10func(&v1->char_c);
            }
            else
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
                return;
              }
            }
            v1->char_c.meta.field_18C = 7;
            v752 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v752;
            if ( v752 > 0.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_1884;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 2 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = -20.0;
                v1->char_c.meta.cEffectSprite.v_inerc = 10.0;
                v1->char_c.meta.cEffectSprite.v_force = 0.34999999;
                char_c::play_sfx(&v1->char_c, 17);
                char_c::spell_energy_spend(&v1->char_c, 200, 120);
                char_c::add_card_energy(&v1->char_c, 50);
                *(float *)&v1824 = (double)(unsigned int)get_MT_range(360);
                v1825 = 0.0;
                v1826 = 0.0;
                v753 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v754 = v1->char_c.meta.cEffectSprite.y + 40.0;
                v755 = v754;
                v756 = (double)(80 * (char)v753) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 826, v756, v755, v753, 1, (int)&v1824, 3);
              }
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 3 )
                {
                  *(float *)&v1830 = (double)(unsigned int)get_MT_range(360);
                  v1831 = 0.0;
                  v1832 = 0.0;
                  v757 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v758 = v1->char_c.meta.cEffectSprite.y + 230.0;
                  v759 = v758;
                  v760 = (double)(95 * (char)v757) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 826, v760, v759, v757, 1, (int)&v1830, 3);
                }
                if ( !v1->char_c.meta.viz.get_frame_time )
                {
                  if ( v1->char_c.meta.viz.get_frame == 4 )
                  {
                    *(float *)&v1836 = (double)(unsigned int)get_MT_range(360);
                    v1837 = 0.0;
                    v1838 = 0.0;
                    v761 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v762 = v1->char_c.meta.cEffectSprite.y + 290.0;
                    v763 = v762;
                    v764 = (double)(20 * (char)v761) + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 826, v764, v763, v761, 1, (int)&v1836, 3);
                  }
                  if ( !v1->char_c.meta.viz.get_frame_time )
                  {
                    if ( v1->char_c.meta.viz.get_frame == 5 )
                    {
                      *(float *)&v1842 = (double)(unsigned int)get_MT_range(360);
                      v1843 = 0.0;
                      v1844 = 0.0;
                      v765 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                      v766 = v1->char_c.meta.cEffectSprite.y + 250.0;
                      v767 = v766;
                      v768 = v1->char_c.meta.cEffectSprite.x - (double)(80 * (char)v765);
                      addbullet(&v1->char_c, 826, v768, v767, v765, 1, (int)&v1842, 3);
                    }
                    if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
                    {
                      *(float *)&v1848 = (double)(unsigned int)get_MT_range(360);
                      v1849 = 0.0;
                      v1850 = 0.0;
                      v769 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                      v770 = v1->char_c.meta.cEffectSprite.y + 160.0;
                      v771 = v770;
                      v772 = v1->char_c.meta.cEffectSprite.x - (double)(110 * (char)v769);
                      addbullet(&v1->char_c, 826, v772, v771, v769, 1, (int)&v1848, 3);
                    }
                  }
                }
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.viz.get_elaps_frames >= 50 )
              goto LABEL_1884;
            return;
          case 599:
            v773 = v1->char_c.field_7D0;
            if ( v773 > 0 && v1->char_c.meta.viz.get_frame < 7 && v773 < 12 )
            {
              v774 = MT_getnext() % 0x23u;
              v1->char_c.field_7D4 = v774;
              *(float *)&v1698 = (double)(-20 - v774);
              v1699 = (double)(signed __int16)(MT_getnext() % 5u + 10);
              v1700 = 0.0;
              v775 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v776 = (double)(20 * (char)v775 * (v1->char_c.field_7D0 + 1)) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 807, v776, v1->char_c.meta.cEffectSprite.y, v775, 1, (int)&v1698, 3);
              *(float *)&v1698 = (double)(MT_getnext() % 0x168u);
              v1699 = 0.0;
              v1700 = 1.0;
              v777 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v778 = (double)(20 * (char)v777 * (v1->char_c.field_7D0 + 1)) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v778, v1->char_c.meta.cEffectSprite.y, v777, 1, (int)&v1698, 3);
              if ( v1->char_c.field_7D0 == 1 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                char_c::spell_energy_spend(&v1->char_c, 200, 120);
              }
              ++v1->char_c.field_7D0;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
              v1->char_c.field_7D0 = 1;
            return;
          case 600:
            char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 2, 2);
            if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_elaps_frames >= 48 )
              goto LABEL_2148;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
              v1->char_c.meta.viz.get_elaps_frames = 0;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 2 )
              {
                char_c::sub_4834E0(&v1->char_c, 40);
                scene_play_sfx(23);
                v779 = v1->char_c.meta.cEffectSprite.y + 125.0;
                scene_add_effect(&v1->char_c, 115, v1->char_c.meta.cEffectSprite.x, v779, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                char_c::sub_469450(&v1->char_c, 0, 0, 60);
                char_c::sub_483570(&v1->char_c);
                weather_forecast_next();
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
              {
                v1512 = 0.0;
                v780 = (float)0.0;
                do
                {
                  v781 = v780 * 30.0;
                  v1586 = v781;
                  *(float *)&v782 = v781;
                  v1544 = v782;
                  v1545 = 4.0;
                  v1546 = 0.0;
                  v783 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v784 = -*(float *)&v782;
                  v785 = sinus(v784) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                  v786 = v785;
                  v787 = -*(float *)&v1544;
                  v788 = cosinus(v787) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 850, v788, v786, v783, 1, (int)&v1544, 3);
                  v1544 = v782;
                  v1545 = 4.0;
                  v1546 = 0.0;
                  v789 = v1->char_c.meta.cEffectSprite.x;
                  v790 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
                  v791 = -*(float *)&v1544;
                  v792 = sinus(v791) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                  v793 = v792;
                  v794 = -*(float *)&v1544;
                  v795 = v789 - cosinus(v794) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir;
                  addbullet(&v1->char_c, 850, v795, v793, v790, 1, (int)&v1544, 3);
                  *(float *)&v789 = v1586 + 15.0;
                  v1544 = SLODWORD(v789);
                  v1545 = 7.0;
                  v1546 = 2.0;
                  v796 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v797 = -*(float *)&v789;
                  v798 = sinus(v797) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                  v799 = v798;
                  v800 = -*(float *)&v1544;
                  v801 = cosinus(v800) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 850, v801, v799, v796, 1, (int)&v1544, 3);
                  v1544 = SLODWORD(v789);
                  v1545 = 7.0;
                  v1546 = 2.0;
                  v802 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
                  v1586 = v1->char_c.meta.cEffectSprite.x;
                  v803 = v802;
                  v804 = -*(float *)&v789;
                  v805 = sinus(v804) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                  v806 = v805;
                  v807 = -*(float *)&v1544;
                  v808 = cosinus(v807);
                  v809 = v1586 - v808 * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir;
                  addbullet(&v1->char_c, 850, v809, v806, v803, 1, (int)&v1544, 3);
                  v1512 = v1512 + 1.0;
                  v780 = v1512;
                }
                while ( v1512 < 12.0 );
                char_c::play_sfx(&v1->char_c, 50);
              }
            }
            return;
          case 601:
            char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 2, 2);
            if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.viz.get_elaps_frames >= 48 )
              goto LABEL_170;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              *(float *)&v1854 = 0.0;
              v1855 = 0.0;
              v1856 = 4.0;
              v810 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v811 = v1->char_c.meta.cEffectSprite.y + 146.0;
              v812 = v811;
              v813 = (double)(105 * (char)v810) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 851, v813, v812, v810, 1, (int)&v1854, 3);
              char_c::play_sfx(&v1->char_c, 51);
            }
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
            {
              char_c::sub_4834E0(&v1->char_c, 40);
              scene_play_sfx(23);
              v814 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v815 = v1->char_c.meta.cEffectSprite.y + 150.0;
              v816 = v815;
              v817 = v1->char_c.meta.cEffectSprite.x - (double)(40 * (char)v814);
              scene_add_effect(&v1->char_c, 115, v817, v816, v814, 1);
              char_c::sub_469450(&v1->char_c, 0, 0, 60);
              char_c::sub_483570(&v1->char_c);
              weather_forecast_next();
            }
            return;
          case 602:
            char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 2, 2);
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 7 )
              {
                *(float *)&v1866 = 0.0;
                v1867 = 25.0;
                v1868 = 0.0;
                v827 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v828 = v1->char_c.meta.cEffectSprite.y + 140.0;
                v829 = v828;
                v830 = (double)(85 * (char)v827) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 852, v830, v829, v827, 1, (int)&v1866, 3);
                char_c::play_sfx(&v1->char_c, 52);
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
              {
                char_c::sub_4834E0(&v1->char_c, 40);
                scene_play_sfx(23);
                v831 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v832 = v1->char_c.meta.cEffectSprite.y + 145.0;
                v833 = v832;
                v834 = v1->char_c.meta.cEffectSprite.x - (double)(80 * (char)v831);
                scene_add_effect(&v1->char_c, 115, v834, v833, v831, 1);
                char_c::sub_469450(&v1->char_c, 0, 0, 60);
                char_c::sub_483570(&v1->char_c);
                weather_forecast_next();
              }
            }
            return;
          case 603:
            char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 2, 2);
            if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.field_7D2 >= 60 )
              goto LABEL_170;
            if ( v1->char_c.field_7D0 == 1 )
            {
              if ( !(v1->char_c.field_7D2 % 30) && v1->char_c.dash_angle < 6.0 )
              {
                v1513 = 0.0;
                v835 = (float)0.0;
                do
                {
                  v836 = v835 * 30.0;
                  v837 = v836;
                  *(float *)&v838 = v836;
                  v1547 = v838;
                  v1548 = v1->char_c.dash_angle + 4.0;
                  v1549 = 0.0;
                  v839 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v840 = -*(float *)&v838;
                  v841 = sinus(v840) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                  v842 = v841;
                  v843 = -*(float *)&v1547;
                  v844 = cosinus(v843) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 853, v844, v842, v839, 1, (int)&v1547, 3);
                  v1547 = v838;
                  v1548 = v1->char_c.dash_angle + 4.0;
                  v1549 = 0.0;
                  v845 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
                  v1586 = v1->char_c.meta.cEffectSprite.x;
                  v846 = v845;
                  v847 = -*(float *)&v838;
                  v848 = sinus(v847) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                  v849 = v848;
                  v850 = -*(float *)&v1547;
                  v851 = cosinus(v850);
                  v852 = v1586 - v851 * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir;
                  addbullet(&v1->char_c, 853, v852, v849, v846, 1, (int)&v1547, 3);
                  *(float *)&v853 = v837 + 15.0;
                  v1547 = v853;
                  v1548 = v1->char_c.dash_angle + 7.0;
                  v1549 = 2.0;
                  v854 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v855 = -*(float *)&v853;
                  v856 = sinus(v855) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                  v857 = v856;
                  v858 = -*(float *)&v1547;
                  v859 = cosinus(v858) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 853, v859, v857, v854, 1, (int)&v1547, 3);
                  v1547 = v853;
                  v1548 = v1->char_c.dash_angle + 7.0;
                  v1549 = 2.0;
                  v860 = v1->char_c.meta.cEffectSprite.x;
                  v861 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
                  v862 = -*(float *)&v853;
                  v863 = sinus(v862) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                  v864 = v863;
                  v865 = -*(float *)&v1547;
                  v866 = v860 - cosinus(v865) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir;
                  addbullet(&v1->char_c, 853, v866, v864, v861, 1, (int)&v1547, 3);
                  v1513 = v1513 + 1.0;
                  v835 = v1513;
                }
                while ( v1513 < 12.0 );
                char_c::play_sfx(&v1->char_c, 50);
                v1->char_c.dash_angle = v1->char_c.dash_angle + 5.0;
              }
              ++v1->char_c.field_7D2;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
              v1->char_c.meta.viz.get_elaps_frames = 0;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 2 )
              {
                char_c::sub_4834E0(&v1->char_c, 40);
                scene_play_sfx(23);
                v867 = v1->char_c.meta.cEffectSprite.y + 125.0;
                scene_add_effect(&v1->char_c, 115, v1->char_c.meta.cEffectSprite.x, v867, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                char_c::sub_469450(&v1->char_c, 0, 0, 60);
                char_c::sub_483570(&v1->char_c);
                weather_forecast_next();
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
                v1->char_c.field_7D0 = 1;
            }
            return;
          case 604:
            char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 2, 2);
            if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.viz.get_elaps_frames >= 24 )
              goto LABEL_170;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              *(float *)&v1872 = 0.0;
              v1873 = 0.0;
              v1874 = 4.0;
              addbullet(&v1->char_c, 854, v1->char_c.meta.enemy->meta.cEffectSprite.x, 0.0, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1872, 3);
              char_c::play_sfx(&v1->char_c, 54);
            }
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 1 )
            {
              char_c::sub_4834E0(&v1->char_c, 40);
              scene_play_sfx(23);
              v868 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v869 = v1->char_c.meta.cEffectSprite.y + 130.0;
              v870 = v869;
              v871 = (double)(10 * (char)v868) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 115, v871, v870, v868, 1);
              char_c::sub_469450(&v1->char_c, 0, 0, 60);
              char_c::sub_483570(&v1->char_c);
              weather_forecast_next();
            }
            return;
          case 605:
            char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 2, 2);
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 7 )
              {
                *(float *)&v1878 = 0.0;
                v1879 = 25.0;
                v1880 = 0.0;
                v872 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v873 = v1->char_c.meta.cEffectSprite.y + 140.0;
                v874 = v873;
                v875 = (double)(85 * (char)v872) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 855, v875, v874, v872, 1, (int)&v1878, 3);
                char_c::play_sfx(&v1->char_c, 52);
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
              {
                char_c::sub_4834E0(&v1->char_c, 40);
                scene_play_sfx(23);
                v876 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v877 = v1->char_c.meta.cEffectSprite.y + 145.0;
                v878 = v877;
                v879 = v1->char_c.meta.cEffectSprite.x - (double)(80 * (char)v876);
                scene_add_effect(&v1->char_c, 115, v879, v878, v876, 1);
                char_c::sub_469450(&v1->char_c, 0, 0, 60);
                char_c::sub_483570(&v1->char_c);
                weather_forecast_next();
              }
            }
            return;
          case 606:
            char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 2, 2);
            if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_elaps_frames >= 48 )
              goto LABEL_170;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
              v1->char_c.meta.viz.get_elaps_frames = 0;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 2 )
              {
                char_c::sub_4834E0(&v1->char_c, 40);
                scene_play_sfx(23);
                v880 = v1->char_c.meta.cEffectSprite.y + 125.0;
                scene_add_effect(&v1->char_c, 115, v1->char_c.meta.cEffectSprite.x, v880, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                char_c::sub_469450(&v1->char_c, 0, 0, 60);
                char_c::sub_483570(&v1->char_c);
                weather_forecast_next();
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
              {
                v1514 = 0.0;
                v881 = 12.0;
                v882 = (float)0.0;
                do
                {
                  *(float *)&v1740 = v882 * 30.0;
                  v1741 = 4.0;
                  v1742 = v881;
                  v883 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v884 = -*(float *)&v1740;
                  v885 = sinus(v884) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                  v886 = v885;
                  v887 = -*(float *)&v1740;
                  v888 = cosinus(v887) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 856, v888, v886, v883, 1, (int)&v1740, 3);
                  v1514 = v1514 + 1.0;
                  v881 = 12.0;
                  v882 = v1514;
                }
                while ( v1514 < 12.0 );
                char_c::play_sfx(&v1->char_c, 10);
              }
            }
            return;
          case 607:
            char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 2, 2);
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.meta.viz.get_elaps_frames % 15) && v1->char_c.field_7D0 <= 3 )
              {
                v889 = (double)(unsigned int)get_MT_range(125) + 50.0;
                v890 = (double)v1->char_c.field_7D0 * 60.0 + 100.0;
                *(float *)&v1782 = 5.0 - (double)(unsigned int)get_MT_range(10);
                v1783 = 35.0;
                v1784 = 12.0;
                v891 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v892 = (double)(char)v891 * v889 + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 857, v892, v890, v891, -1, (int)&v1782, 3);
                v893 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v894 = v1->char_c.meta.cEffectSprite.x - (double)(char)v893 * v889;
                addbullet(&v1->char_c, 857, v894, v890, v893, 1, (int)&v1782, 3);
                char_c::play_sfx(&v1->char_c, 16);
                ++v1->char_c.field_7D0;
              }
              if ( v1->char_c.meta.viz.get_elaps_frames >= 60 )
                goto LABEL_2148;
            }
            if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_elaps_frames >= 0 )
              goto LABEL_2148;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
              v1->char_c.meta.viz.get_elaps_frames = 0;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
            {
              char_c::sub_4834E0(&v1->char_c, 40);
              scene_play_sfx(23);
              v895 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v896 = v1->char_c.meta.cEffectSprite.y + 153.0;
              v897 = v896;
              v898 = v1->char_c.meta.cEffectSprite.x - (double)(40 * (char)v895);
              scene_add_effect(&v1->char_c, 115, v898, v897, v895, 1);
              char_c::sub_469450(&v1->char_c, 0, 0, 60);
              char_c::sub_483570(&v1->char_c);
              weather_forecast_next();
              *(float *)&v1884 = 0.0;
              v1885 = 0.0;
              v1886 = 14.0;
              v899 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v900 = v1->char_c.meta.cEffectSprite.x - (double)(20 * (char)v899);
              addbullet(&v1->char_c, 857, v900, v1->char_c.meta.cEffectSprite.y, v899, -1, (int)&v1884, 3);
            }
            return;
          case 608:
            char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 2, 2);
            if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_elaps_frames >= 32 )
              goto LABEL_2148;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::play_sfx(&v1->char_c, 13);
              v918 = 0;
              v1->char_c.meta.field_190 = 1;
              v1488 = 0;
              do
              {
                *(float *)&v1896 = (double)v1488;
                v1897 = 600.0;
                v1898 = 1.0;
                v919 = v1->char_c.meta.enemy;
                v920 = v919->meta.cEffectSprite.y + 100.0;
                addbullet(&v1->char_c, 858, v919->meta.cEffectSprite.x, v920, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1896, 3);
                v918 += 40;
                v1488 = v918;
              }
              while ( v918 < 360 );
            }
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
            {
              char_c::sub_4834E0(&v1->char_c, 40);
              scene_play_sfx(23);
              v921 = v1->char_c.meta.cEffectSprite.y + 150.0;
              scene_add_effect(&v1->char_c, 115, v1->char_c.meta.cEffectSprite.x, v921, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              char_c::sub_469450(&v1->char_c, 0, 0, 60);
              char_c::sub_483570(&v1->char_c);
              weather_forecast_next();
            }
            return;
          case 651:
            if ( v1->char_c.meta.viz.get_subseq == 4 )
              char_c::sub10func(&v1->char_c);
            if ( v1->char_c.meta.viz.get_subseq <= 2 )
              char_c::sub_46AB50(&v1->char_c, 2, 2);
            v818 = v1->char_c.meta.viz.get_subseq;
            if ( v818 == 2 || v818 == 3 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
LABEL_239:
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 4);
                return;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.viz.get_elaps_frames >= 48 )
              goto LABEL_170;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              *(float *)&v1860 = 0.0;
              v1861 = 0.0;
              v1862 = 4.0;
              v819 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v820 = v1->char_c.meta.cEffectSprite.y + 146.0;
              v821 = v820;
              v822 = (double)(105 * (char)v819) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 851, v822, v821, v819, 1, (int)&v1860, 3);
              char_c::play_sfx(&v1->char_c, 51);
            }
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 2 )
              {
                v1->char_c.field_7DC = v1->char_c.meta.cEffectSprite.h_inerc;
                v1->char_c.dash_angle = v1->char_c.meta.cEffectSprite.v_inerc;
                char_c::reset_forces(&v1->char_c);
                char_c::sub_4834E0(&v1->char_c, 40);
                scene_play_sfx(23);
                v823 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v824 = v1->char_c.meta.cEffectSprite.y + 150.0;
                v825 = v824;
                v826 = v1->char_c.meta.cEffectSprite.x - (double)(40 * (char)v823);
                scene_add_effect(&v1->char_c, 115, v826, v825, v823, 1);
                char_c::sub_469450(&v1->char_c, 0, 0, 60);
                char_c::sub_483570(&v1->char_c);
                weather_forecast_next();
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.field_7DC;
                v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.dash_angle;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 2 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 1 )
              v1->char_c.meta.cEffectSprite.v_force = 0.2;
            return;
          case 657:
            if ( v1->char_c.meta.viz.get_subseq == 5 )
              char_c::sub10func(&v1->char_c);
            if ( v1->char_c.meta.viz.get_subseq <= 2 )
              char_c::sub_46AB50(&v1->char_c, 2, 2);
            v901 = v1->char_c.meta.viz.get_subseq;
            if ( v901 == 3 || v901 == 4 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 5);
LABEL_1387:
                char_c::reset_forces(&v1->char_c);
                goto LABEL_1388;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_2806;
            if ( !(v1->char_c.meta.viz.get_elaps_frames % 15) && v1->char_c.field_7D0 <= 3 )
            {
              v902 = (double)(unsigned int)get_MT_range(125) + 50.0;
              v903 = (double)v1->char_c.field_7D0 * 60.0 + 100.0;
              *(float *)&v1788 = 5.0 - (double)(unsigned int)get_MT_range(10);
              v1789 = 35.0;
              v1790 = 12.0;
              v904 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v905 = v903 + v1->char_c.meta.cEffectSprite.y;
              v906 = v905;
              v907 = (double)(char)v904 * v902 + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 857, v907, v906, v904, -1, (int)&v1788, 3);
              v908 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v909 = v903 + v1->char_c.meta.cEffectSprite.y;
              v910 = v909;
              v911 = v1->char_c.meta.cEffectSprite.x - (double)(char)v908 * v902;
              addbullet(&v1->char_c, 857, v911, v910, v908, 1, (int)&v1788, 3);
              char_c::play_sfx(&v1->char_c, 16);
              ++v1->char_c.field_7D0;
            }
            if ( v1->char_c.meta.viz.get_elaps_frames < 60 )
            {
LABEL_2806:
              if ( v1->char_c.meta.viz.get_subseq != 2 || v1->char_c.meta.viz.get_elaps_frames < 0 )
              {
                if ( viz_process(&v1->char_c) )
                  v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
                if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
                  v1->char_c.meta.viz.get_elaps_frames = 0;
                if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
                {
                  char_c::sub_4834E0(&v1->char_c, 40);
                  scene_play_sfx(23);
                  v912 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v913 = v1->char_c.meta.cEffectSprite.y + 153.0;
                  v914 = v913;
                  v915 = v1->char_c.meta.cEffectSprite.x - (double)(40 * (char)v912);
                  scene_add_effect(&v1->char_c, 115, v915, v914, v912, 1);
                  char_c::sub_469450(&v1->char_c, 0, 0, 60);
                  char_c::sub_483570(&v1->char_c);
                  weather_forecast_next();
                  *(float *)&v1890 = 0.0;
                  v1891 = 0.0;
                  v1892 = 14.0;
                  v916 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v917 = v1->char_c.meta.cEffectSprite.x - (double)(20 * (char)v916);
                  addbullet(&v1->char_c, 857, v917, v1->char_c.meta.cEffectSprite.y, v916, -1, (int)&v1890, 3);
                }
                if ( v1->char_c.meta.viz.get_subseq == 3 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
                  v1->char_c.meta.cEffectSprite.v_force = 0.25;
                return;
              }
            }
            goto LABEL_2148;
          case 695:
            char_c::sub10func(&v1->char_c);
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              scene_play_sfx(55);
              v922 = v1->char_c.meta.cEffectSprite.y + 100.0;
              scene_add_effect(&v1->char_c, 140, v1->char_c.meta.cEffectSprite.x, v922, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              v923 = v1->char_c.meta.cEffectSprite.y + 100.0;
              scene_add_effect(&v1->char_c, 140, v1->char_c.meta.cEffectSprite.x, v923, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              v924 = v1->char_c.meta.cEffectSprite.y + 100.0;
              scene_add_effect(&v1->char_c, 140, v1->char_c.meta.cEffectSprite.x, v924, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              v925 = v1->char_c.meta.cEffectSprite.y + 100.0;
              scene_add_effect(&v1->char_c, 141, v1->char_c.meta.cEffectSprite.x, v925, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1);
              scene_add_effect(&v1->char_c, 142, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1);
            }
            return;
          case 696:
            char_c::sub10func(&v1->char_c);
            v926 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v926;
            if ( v926 < 0.0 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v1->char_c.field_49A = 0;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( v1->char_c.meta.viz.get_subseq )
              return;
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 4 )
              {
                *(float *)&v1902 = 0.0;
                v1903 = 0.0;
                v1904 = 4.0;
                addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1902, 3);
                v1->char_c.meta.cEffectSprite.h_inerc = 10.0;
                v1->char_c.field_49A = 0;
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
                char_c::play_sfx(&v1->char_c, 0);
            }
            if ( v1->char_c.meta.viz.get_frame < 6 )
              return;
            v927 = v1->char_c.meta.cEffectSprite.h_inerc - 1.200000047683716;
            v399 = v927;
            goto LABEL_1119;
          case 707:
            if ( v1->char_c.meta.cEffectSprite.h_inerc > 12.0 )
            {
              v928 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v928;
              if ( v928 < 12.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 12.0;
            }
            if ( viz_process(&v1->char_c) )
              goto LABEL_2787;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
              v929 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v930 = v1->char_c.meta.cEffectSprite.y + 80.0;
              v931 = v930;
              v932 = (double)(80 * (char)v929) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 125, v932, v931, v929, 1);
              v933 = v1->char_c.meta.cEffectSprite.y + 80.0;
              scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v933, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              scene_play_sfx(31);
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
              {
                v934 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v935 = v1->char_c.meta.cEffectSprite.x + 50.0;
                v936 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
                v937 = v936;
                v938 = v935 - (double)(MT_getnext() % 0x64u);
                scene_add_effect(&v1->char_c, 124, v938, v937, v934, 1);
              }
              if ( v1->char_c.meta.viz.get_elaps_frames > 30 )
                goto LABEL_170;
            }
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              v939 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v399 = v939;
LABEL_1119:
              v1->char_c.meta.cEffectSprite.h_inerc = v399;
              if ( v399 < 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            }
            return;
          case 708:
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              v940 = v1->char_c.meta.cEffectSprite.h_inerc + 2.0;
              v1->char_c.meta.cEffectSprite.h_inerc = v940;
              if ( v940 > 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            }
            if ( !(unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) )
            {
              if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
              {
                v941 = v1->char_c.meta.cEffectSprite.x + 50.0;
                v942 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
                v943 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
                v944 = v943;
                v945 = v941 - (double)(MT_getnext() % 0x64u);
                scene_add_effect(&v1->char_c, 124, v945, v944, v942, 1);
              }
              v946 = v1->char_c.meta.cEffectSprite.v_inerc - 0.5;
              v1->char_c.meta.cEffectSprite.v_inerc = v946;
              v947 = v946 + v1->char_c.meta.cEffectSprite.y;
              if ( c_meta::getlvl_height(&v1->char_c) >= v947 && v1->char_c.meta.cEffectSprite.v_inerc < 0.0 )
              {
                v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
                return;
              }
            }
            if ( viz_process(&v1->char_c) )
              goto LABEL_2787;
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = -14.0;
              v1->char_c.meta.cEffectSprite.v_inerc = 4.0;
              v948 = v1->char_c.meta.cEffectSprite.y + 80.0;
              scene_add_effect(&v1->char_c, 125, v1->char_c.meta.cEffectSprite.x, v948, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
              v949 = v1->char_c.meta.cEffectSprite.y + 80.0;
              scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v949, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
              scene_play_sfx(31);
            }
            return;
          case 709:
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              v950 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              v1->char_c.meta.cEffectSprite.v_inerc = v950;
              v951 = v950 + v1->char_c.meta.cEffectSprite.y;
              if ( c_meta::getlvl_height(&v1->char_c) >= v951 && v1->char_c.meta.cEffectSprite.v_inerc < 0.0 )
              {
                ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                goto LABEL_2138;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              v952 = v1->char_c.meta.cEffectSprite.h_inerc - 0.75;
              v1->char_c.meta.cEffectSprite.h_inerc = v952;
              if ( v952 <= 0.0 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                if ( ++v1->char_c.field_7D0 >= 2 )
                {
                  ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                  v1->char_c.meta.cEffectSprite.h_inerc = -5.0;
                  v1->char_c.meta.cEffectSprite.v_inerc = 5.0;
                }
              }
            }
            v953 = v1->char_c.meta.viz.get_subseq;
            if ( v953 == 2 || v953 == 3 )
            {
              v954 = v1->char_c.meta.cEffectSprite.v_inerc - 0.25;
              v1->char_c.meta.cEffectSprite.v_inerc = v954;
              v955 = v954 + v1->char_c.meta.cEffectSprite.y;
              if ( c_meta::getlvl_height(&v1->char_c) >= v955 && v1->char_c.meta.cEffectSprite.v_inerc < 0.0 )
              {
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                goto LABEL_2148;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 700);
            return;
          case 710:
            v956 = v1->char_c.meta.viz.get_subseq;
            if ( v956 <= 2 || v956 == 5 || v956 == 6 || v956 == 8 || v956 == 10 )
              char_c::sub10func(&v1->char_c);
            if ( !v1->char_c.meta.viz.get_subseq && !(v1->char_c.meta.viz.get_elaps_frames % 2) )
            {
              *(float *)&v1632 = (double)(unsigned int)get_MT_range(360);
              v1633 = (double)(unsigned int)get_MT_range(400) + 200.0;
              v1634 = (double)((unsigned int)get_MT_range(100) >= 0x32);
              v957 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v958 = -*(float *)&v1632;
              v959 = sinus(v958);
              v960 = v959 * v1633 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
              v961 = v960;
              v962 = -*(float *)&v1632;
              v963 = cosinus(v962);
              v964 = (v963 * v1633 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 970, v964, v961, v957, 1, (int)&v1632, 3);
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) && v1->char_c.meta.viz.get_elaps_frames <= v1->char_c.field_7D0 - 30 )
              {
                *(float *)&v1689 = (double)(unsigned int)get_MT_range(360);
                v1690 = (double)(unsigned int)get_MT_range(400) + 200.0;
                v1691 = (double)((unsigned int)get_MT_range(100) >= 0x32);
                v965 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v966 = -*(float *)&v1689;
                v967 = sinus(v966);
                v968 = v967 * v1690 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
                v969 = v968;
                v970 = -*(float *)&v1689;
                v971 = cosinus(v970);
                v972 = (v971 * v1690 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 970, v972, v969, v965, 1, (int)&v1689, 3);
              }
              if ( v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D0 )
                goto LABEL_2165;
            }
            if ( v1->char_c.meta.viz.get_subseq == 3 )
            {
              v973 = v1->char_c.meta.cEffectSprite.v_inerc - 0.2000000029802322;
              v1->char_c.meta.cEffectSprite.v_inerc = v973;
              if ( v973 < 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.meta.cEffectSprite.h_inerc * 0.9599999785423279;
              if ( v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D0 )
              {
                v1->char_c.meta.field_190 = 0;
                v1->char_c.meta.field_194 = 1;
                v1->char_c.meta.cEffectSprite.v_inerc = -25.0;
                char_c::play_sfx(&v1->char_c, 2);
                if ( GAME_HARDNESS == 2 )
                  goto LABEL_2385;
                v63 = v1->char_c.meta.vtbl;
                v64 = v1;
                if ( GAME_HARDNESS == 3 )
                {
                  v63->set_subseq_func3(&v1->char_c.meta, 9);
                  return;
                }
                goto LABEL_171;
              }
            }
            v974 = v1->char_c.meta.viz.get_subseq;
            if ( v974 == 4 || v974 == 7 || v974 == 9 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - 1.25;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                char_c::play_sfx(&v1->char_c, 1);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                char_c::reset_forces(&v1->char_c);
                v1515 = 0.0;
                do
                {
                  *(float *)&v1535 = (double)(unsigned int)get_MT_range(10) + v1515 * 18.0;
                  v1536 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
                  v1537 = 0.0;
                  v975 = -*(float *)&v1535;
                  v976 = (unsigned __int8)(1 - 2 * (sinus(v975) > 0.0));
                  v977 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v978 = -*(float *)&v1535;
                  v979 = sinus(v978) * 20.0 + v1->char_c.meta.cEffectSprite.y;
                  v980 = v979;
                  v981 = -*(float *)&v1535;
                  v982 = cosinus(v981) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 971, v982, v980, v977, v976, (int)&v1535, 3);
                  v1515 = v1515 + 1.0;
                }
                while ( v1515 < 20.0 );
                v1536 = 0.40000001;
                v1537 = 0.0;
                addbullet(&v1->char_c, 900, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1535, 3);
                v1536 = 0.30000001;
                v1537 = 1.0;
                addbullet(&v1->char_c, 900, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1535, 3);
                v1516 = 0.0;
                if ( v1->char_c.field_7DC > 0.0 )
                {
                  do
                  {
                    *(float *)&v1535 = -(double)(unsigned int)get_MT_range(140) - 20.0;
                    v1536 = (double)(unsigned int)get_MT_range(80) * 0.1000000014901161 + 10.0;
                    if ( GAME_HARDNESS == 2 )
                      v1536 = (double)(unsigned int)get_MT_range(100) * 0.1000000014901161 + 10.0;
                    if ( GAME_HARDNESS == 3 )
                      v1536 = (double)(unsigned int)get_MT_range(120) * 0.1000000014901161 + 10.0;
                    v1537 = (double)((unsigned int)get_MT_range(100) >= 0x32) + 4.0;
                    v983 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v984 = -*(float *)&v1535;
                    v985 = sinus(v984) * 20.0 + v1->char_c.meta.cEffectSprite.y;
                    v986 = v985;
                    v987 = -*(float *)&v1535;
                    v988 = cosinus(v987) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 900, v988, v986, v983, 1, (int)&v1535, 3);
                    v1516 = v1516 + 1.0;
                  }
                  while ( v1->char_c.field_7DC > (double)v1516 );
                }
                v989 = 12;
                do
                {
                  *(float *)&v1535 = -10.0 - (double)(unsigned int)get_MT_range(160);
                  v1536 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
                  v1537 = (double)((unsigned int)get_MT_range(100) >= 0x32) + 2.0;
                  v990 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v991 = -*(float *)&v1535;
                  v992 = sinus(v991) * 20.0 + v1->char_c.meta.cEffectSprite.y;
                  v993 = v992;
                  v994 = -*(float *)&v1535;
                  v995 = cosinus(v994) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 900, v995, v993, v990, 1, (int)&v1535, 3);
                  --v989;
                }
                while ( v989 );
                goto LABEL_2187;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq != 6 || v1->char_c.meta.viz.get_elaps_frames < 60 )
            {
              if ( viz_process(&v1->char_c) )
                v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 6);
              if ( !v1->char_c.meta.viz.get_elaps_frames )
              {
                if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 7 )
                  v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
                if ( !v1->char_c.meta.viz.get_elaps_frames )
                {
                  if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 9 )
                    v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 6);
                  if ( !v1->char_c.meta.viz.get_elaps_frames )
                  {
                    if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
                    {
                      switch ( GAME_HARDNESS )
                      {
                        case 0:
                          v996 = 0.0;
                          v1->char_c.field_7D0 = 120;
                          v1->char_c.field_7D2 = 180;
                          goto LABEL_2212;
                        case 1:
                          v996 = 3.0;
                          v1->char_c.field_7D0 = 90;
                          v1->char_c.field_7D2 = 150;
                          goto LABEL_2212;
                        case 2:
                          v996 = 10.0;
                          v1->char_c.field_7D0 = 90;
                          v1->char_c.field_7D2 = 150;
                          goto LABEL_2212;
                        case 3:
                          v996 = 20.0;
                          v1->char_c.field_7D0 = 60;
                          v1->char_c.field_7D2 = 120;
LABEL_2212:
                          v1->char_c.field_7DC = v996;
                          break;
                        default:
                          break;
                      }
                    }
                    if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
                    {
                      v1->char_c.meta.cEffectSprite.v_inerc = 15.0;
                      v1->char_c.meta.cEffectSprite.h_inerc = (double)(unsigned int)get_MT_range(250) * 0.1000000014901161 + 12.5;
                    }
                  }
                }
              }
              return;
            }
            goto LABEL_92;
          case 720:
            v997 = v1->char_c.meta.cEffectSprite.y;
            v1->char_c.meta.has_shadow = c_meta::getlvl_height(&v1->char_c) <= v997;
            if ( v1->char_c.meta.viz.get_subseq == 3 )
            {
              v998 = v1->char_c.meta.cEffectSprite.v_inerc - 0.2000000029802322;
              v999 = v998;
              v1->char_c.meta.cEffectSprite.v_inerc = v998;
              if ( !v1->char_c.field_7D0 && v999 < 0.0 )
              {
                sub_465E50(&v1->char_c.meta, 995);
                v1->char_c.meta.field_154->field_F8 = 20.0;
                v1->char_c.meta.field_154->field_FC = 20.0;
                *(float *)&v1->char_c.meta.field_154->field_E8 = v1->char_c.meta.cEffectSprite.x;
                *(float *)&v1->char_c.meta.field_154->field_EC = c_meta::getlvl_height(&v1->char_c);
                LOBYTE(v1->char_c.meta.field_154->field_104) = v1->char_c.meta.cEffectSprite.dir;
                v1->char_c.field_7D0 = 1;
              }
              if ( v1->char_c.field_7D0 == 1 )
              {
                v1000 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) >= v1000 )
                {
                  v1->char_c.field_51C = 180;
                  v1->char_c.field_520 = 180;
                  ++v1->char_c.field_7D0;
                  *(float *)&v1908 = 0.0;
                  v1909 = 0.0;
                  v1910 = 1.0;
                  addbullet(&v1->char_c, 910, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1908, 3);
                  char_c::play_sfx(&v1->char_c, 3);
                }
              }
              if ( v1->char_c.field_7D0 >= 2 && v1->char_c.meta.cEffectSprite.y <= -320.0 )
              {
                v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 4);
                switch ( GAME_HARDNESS )
                {
                  case 0:
                    v1->char_c.field_7D0 = 180;
                    v1->char_c.field_7D2 = 60;
                    v1->char_c.field_7D4 = 120;
                    goto LABEL_2235;
                  case 1:
                    v1->char_c.field_7D0 = 120;
                    v1->char_c.field_7D2 = 60;
                    v1->char_c.field_7D4 = 180;
                    goto LABEL_2235;
                  case 2:
                    v1->char_c.field_7D0 = 90;
                    v1->char_c.field_7D2 = 50;
                    v1->char_c.field_7D4 = 210;
                    goto LABEL_2235;
                  case 3:
                    v1->char_c.field_7D0 = 60;
                    v1->char_c.field_7D2 = 40;
                    v1->char_c.field_7D4 = 240;
LABEL_2235:
                    v1->char_c.field_7D6 = get_MT_range(3);
                    break;
                  default:
                    break;
                }
LABEL_1388:
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                return;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 4 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
              if ( --v1->char_c.field_7D2 <= 0 )
              {
                v1001 = v1->char_c.field_7D6;
                switch ( v1001 )
                {
                  case 0:
                    ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                    switch ( GAME_HARDNESS )
                    {
                      case 0:
                        v1->char_c.field_7D0 = 1;
                        v1->char_c.field_7D2 = 6;
                        v1->char_c.field_7D4 = 180;
                        v1->char_c.field_7D6 = 60;
                        return;
                      case 1:
                        v1->char_c.field_7D0 = 2;
                        v1->char_c.field_7D2 = 8;
                        goto LABEL_2242;
                      case 2:
                        v1->char_c.field_7D0 = 2;
                        goto LABEL_2241;
                      case 3:
                        v1->char_c.field_7D0 = 3;
LABEL_2241:
                        v1->char_c.field_7D2 = 10;
LABEL_2242:
                        v1->char_c.field_7D4 = 180;
                        v1->char_c.field_7D6 = 50;
                        break;
                      default:
                        return;
                    }
                    return;
                  case 1:
                    v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 9);
                    v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c) - 340.0;
                    sub_465E50(&v1->char_c.meta, 995);
                    v1->char_c.meta.field_154->field_F8 = 20.0;
                    v1->char_c.meta.field_154->field_FC = 20.0;
                    *(float *)&v1->char_c.meta.field_154->field_E8 = v1->char_c.meta.cEffectSprite.x;
                    *(float *)&v1->char_c.meta.field_154->field_EC = c_meta::getlvl_height(&v1->char_c);
                    LOBYTE(v1->char_c.meta.field_154->field_104) = v1->char_c.meta.cEffectSprite.dir;
                    switch ( GAME_HARDNESS )
                    {
                      case 0:
                        v1->char_c.field_7D0 = 1;
                        v1->char_c.field_7D2 = 3;
                        goto LABEL_2252;
                      case 1:
                        v1->char_c.field_7D0 = 2;
                        v1->char_c.field_7D2 = 5;
                        v1->char_c.field_7D4 = 40;
                        v1->char_c.field_7D6 = 0;
                        break;
                      case 2:
                        v1->char_c.field_7D0 = 2;
                        v1->char_c.field_7D2 = 8;
                        v1->char_c.field_7D4 = 30;
                        v1->char_c.field_7D6 = 0;
                        break;
                      case 3:
                        v1->char_c.field_7D0 = 3;
                        v1->char_c.field_7D2 = 10;
LABEL_2252:
                        v1->char_c.field_7D4 = 20;
                        v1->char_c.field_7D6 = 0;
                        break;
                      default:
                        return;
                    }
                    return;
                  case 2:
                    switch ( GAME_HARDNESS )
                    {
                      case 0:
                        v1->char_c.field_7D0 = 0;
                        v1->char_c.field_7D2 = 3;
                        goto LABEL_2259;
                      case 1:
                        v1->char_c.field_7D0 = 0;
                        v1->char_c.field_7D2 = 5;
                        goto LABEL_2259;
                      case 2:
                        v1->char_c.field_7D0 = 1;
                        v1->char_c.field_7D2 = 8;
LABEL_2259:
                        v1->char_c.field_7D4 = 60;
                        goto LABEL_2260;
                      case 3:
                        v1->char_c.field_7D0 = 2;
                        v1->char_c.field_7D2 = 10;
                        v1->char_c.field_7D4 = 40;
LABEL_2260:
                        v1->char_c.field_7D6 = 0;
                        break;
                      default:
                        break;
                    }
                    v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 8);
                    v1->char_c.meta.field_194 = 1;
                    v1->char_c.meta.field_190 = 0;
                    char_c::flip_with_force(&v1->char_c);
                    return;
                }
              }
            }
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 5 )
            {
              *(float *)&v1638 = 0.0;
              v1639 = 0.0;
              v1640 = 1.0;
              v1002 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1003 = c_meta::getlvl_height(&v1->char_c);
              addbullet(&v1->char_c, 910, v1->char_c.meta.cEffectSprite.x, v1003, v1002, 1, (int)&v1638, 3);
              *(float *)&v1638 = 0.0;
              v1639 = 0.0;
              v1640 = 5.0;
              v1004 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1005 = c_meta::getlvl_height(&v1->char_c);
              addbullet(&v1->char_c, 910, v1->char_c.meta.cEffectSprite.x, v1005, v1004, 1, (int)&v1638, 3);
            }
            if ( v1->char_c.meta.viz.get_subseq == 5 )
            {
              v1006 = v1->char_c.meta.cEffectSprite.h_inerc - 0.2000000029802322;
              v1->char_c.meta.cEffectSprite.h_inerc = v1006;
              if ( v1006 < 3.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 3.0;
            }
            if ( v1->char_c.meta.viz.get_subseq == 6 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
              if ( v1->char_c.meta.viz.get_elaps_frames % v1->char_c.field_7D6 == 1 && v1->char_c.field_7D0 > 0 )
              {
                char_c::play_sfx(&v1->char_c, 3);
                v1007 = 0;
                if ( v1->char_c.field_7D2 > 0 )
                {
                  do
                  {
                    *(float *)&v1731 = -(double)(unsigned int)get_MT_range(80) - 95.0;
                    v1732 = (double)(unsigned int)get_MT_range(100) * 0.1000000014901161 + 10.0;
                    v1733 = 4.0;
                    v1008 = -*(float *)&v1731;
                    v1009 = sinus(v1008);
                    v1010 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v1011 = c_meta::getlvl_height(&v1->char_c) + v1009 * 20.0;
                    v1012 = v1011;
                    v1013 = -*(float *)&v1731;
                    v1014 = cosinus(v1013) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 910, v1014, v1012, v1010, 1, (int)&v1731, 3);
                    ++v1007;
                  }
                  while ( v1007 < v1->char_c.field_7D2 );
                }
                --v1->char_c.field_7D0;
              }
              v1015 = v1->char_c.field_7D4;
              if ( v1015 <= 0 )
              {
                v1016 = v1->char_c.field_7D0;
                if ( v1016 <= 0 )
                  goto LABEL_170;
                v1->char_c.field_7D0 = v1016 - 1;
              }
              else
              {
                v1->char_c.field_7D4 = v1015 - 1;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 7 )
            {
              v1017 = v1->char_c.meta.cEffectSprite.h_inerc + 0.2000000029802322;
              v1->char_c.meta.cEffectSprite.h_inerc = v1017;
              if ( v1017 > 6.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 6.0;
            }
            if ( v1->char_c.meta.viz.get_subseq != 8 )
              goto LABEL_2309;
            v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
            v1018 = v1->char_c.meta.cEffectSprite.h_inerc;
            if ( v1->char_c.meta.viz.get_frame < 4 )
            {
              v1020 = v1018 + 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v1020;
              if ( v1020 >= 12.5 )
                v1->char_c.meta.cEffectSprite.h_inerc = 12.5;
            }
            else
            {
              v1019 = v1018 - 0.25;
              v1->char_c.meta.cEffectSprite.h_inerc = v1019;
              if ( v1019 < 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            }
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 1 )
            {
              *(float *)&v1914 = 0.0;
              v1915 = 0.0;
              v1916 = 1.0;
              addbullet(&v1->char_c, 910, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1914, 3);
              char_c::play_sfx(&v1->char_c, 3);
            }
            if ( v1->char_c.meta.viz.get_frame_time )
              goto LABEL_2298;
            if ( v1->char_c.meta.viz.get_frame == 2 )
            {
              v1->char_c.meta.field_194 = 1;
              v1->char_c.meta.field_190 = 0;
            }
            if ( v1->char_c.meta.viz.get_frame_time )
              goto LABEL_2298;
            if ( v1->char_c.meta.viz.get_frame == 9 )
            {
              char_c::flip_with_force(&v1->char_c);
LABEL_2298:
              if ( v1->char_c.meta.viz.get_frame == 9 )
              {
                v1021 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
                v1->char_c.meta.cEffectSprite.h_inerc = v1021;
                if ( v1021 >= 12.5 )
                  v1->char_c.meta.cEffectSprite.h_inerc = 12.5;
                if ( ++v1->char_c.field_7D6 > v1->char_c.field_7D4 )
                {
                  v1022 = v1->char_c.field_7D0;
                  if ( v1022 <= 0 )
                  {
                    v1023 = v1->char_c.meta.vtbl->set_subseq_func3;
                    v1->char_c.meta.cEffectSprite.h_inerc = 6.0;
                    v1023(&v1->char_c.meta, 4);
                    v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                    switch ( GAME_HARDNESS )
                    {
                      case 0:
                        goto LABEL_2307;
                      case 1:
                        goto LABEL_2306;
                      case 2:
                        goto LABEL_2318;
                      case 3:
                        goto LABEL_2305;
                      default:
                        return;
                    }
                  }
                  else
                  {
                    v1->char_c.field_7D0 = v1022 - 1;
                    v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 8);
                    v1->char_c.field_7D6 = 0;
                  }
                  return;
                }
              }
            }
LABEL_2309:
            if ( v1->char_c.meta.viz.get_subseq == 9 )
            {
              *(float *)&v1->char_c.meta.field_154->field_E8 = v1->char_c.meta.cEffectSprite.x;
              v1024 = v1->char_c.meta.cEffectSprite.y;
              if ( c_meta::getlvl_height(&v1->char_c) >= v1024 )
              {
                v1->char_c.field_51C = 3;
                v1->char_c.field_520 = 3;
              }
              v1025 = v1->char_c.meta.cEffectSprite.y;
              if ( c_meta::getlvl_height(&v1->char_c) - 340.0 >= v1025 )
              {
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c) - 340.0;
                v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
                if ( ++v1->char_c.field_7D6 >= v1->char_c.field_7D4 )
                {
                  if ( v1->char_c.field_7D0 <= 0 )
                  {
                    v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 4);
                    v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                    sub_5586E0((int)v1);
                    switch ( GAME_HARDNESS )
                    {
                      case 0:
LABEL_2307:
                        v1->char_c.field_7D0 = 180;
                        v1->char_c.field_7D2 = 60;
                        v1->char_c.field_7D4 = 120;
                        goto LABEL_2308;
                      case 1:
LABEL_2306:
                        v1->char_c.field_7D0 = 120;
                        v1->char_c.field_7D2 = 60;
                        v1->char_c.field_7D4 = 180;
                        goto LABEL_2308;
                      case 2:
LABEL_2318:
                        v1->char_c.field_7D0 = 90;
                        v1->char_c.field_7D2 = 50;
                        v1->char_c.field_7D4 = 210;
                        goto LABEL_2308;
                      case 3:
LABEL_2305:
                        v1->char_c.field_7D0 = 60;
                        v1->char_c.field_7D2 = 40;
                        v1->char_c.field_7D4 = 240;
LABEL_2308:
                        v1->char_c.field_7D6 = get_MT_range(3);
                        break;
                      default:
                        return;
                    }
                    return;
                  }
                  char_c::play_sfx(&v1->char_c, 3);
                  *(float *)&v1920 = 0.0;
                  v1921 = 0.0;
                  v1922 = 1.0;
                  v1026 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v1027 = c_meta::getlvl_height(&v1->char_c);
                  addbullet(&v1->char_c, 910, v1->char_c.meta.cEffectSprite.x, v1027, v1026, 1, (int)&v1920, 3);
                  --v1->char_c.field_7D0;
                  v1->char_c.field_7D8 = 0;
                  v1->char_c.meta.cEffectSprite.v_inerc = 15.0;
                  v1->char_c.meta.cEffectSprite.v_force = 0.25;
                  if ( v1->char_c.field_7D0 <= 0 )
                  {
                    v1->char_c.meta.cEffectSprite.v_inerc = 20.0;
                    v1->char_c.meta.cEffectSprite.v_force = 0.25;
                  }
                }
              }
              if ( v1->char_c.field_7D6 >= v1->char_c.field_7D4 )
              {
                v1028 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
                v1029 = v1028;
                v1->char_c.meta.cEffectSprite.v_inerc = v1028;
                if ( !v1->char_c.field_7D8 && v1029 < 0.0 )
                {
                  v1030 = v1->char_c.meta.cEffectSprite.y;
                  if ( c_meta::getlvl_height(&v1->char_c) >= v1030 )
                  {
                    char_c::play_sfx(&v1->char_c, 3);
                    *(float *)&v1562 = 0.0;
                    v1563 = 0.0;
                    v1564 = 1.0;
                    v1031 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v1032 = c_meta::getlvl_height(&v1->char_c);
                    addbullet(&v1->char_c, 910, v1->char_c.meta.cEffectSprite.x, v1032, v1031, 1, (int)&v1562, 3);
                    v1033 = 0;
                    v1->char_c.field_7D8 = 1;
                    if ( v1->char_c.field_7D0 <= 0 )
                    {
                      if ( 2 * v1->char_c.field_7D2 > 0 )
                      {
                        do
                        {
                          *(float *)&v1562 = -(double)(unsigned int)get_MT_range(20) - 80.0;
                          v1563 = (double)(unsigned int)get_MT_range(150) * 0.1000000014901161 + 9.0;
                          v1564 = 4.0;
                          v1041 = -*(float *)&v1562;
                          v1042 = sinus(v1041);
                          v1043 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                          v1044 = c_meta::getlvl_height(&v1->char_c) + v1042 * 20.0;
                          v1045 = v1044;
                          v1046 = -*(float *)&v1562;
                          v1047 = cosinus(v1046) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                          addbullet(&v1->char_c, 910, v1047, v1045, v1043, 1, (int)&v1562, 3);
                          ++v1033;
                        }
                        while ( v1033 < 2 * v1->char_c.field_7D2 );
                      }
                    }
                    else if ( v1->char_c.field_7D2 > 0 )
                    {
                      do
                      {
                        *(float *)&v1562 = -(double)(unsigned int)get_MT_range(20) - 80.0;
                        v1563 = (double)(unsigned int)get_MT_range(150) * 0.1000000014901161 + 6.0;
                        v1564 = 4.0;
                        v1034 = -*(float *)&v1562;
                        v1035 = sinus(v1034);
                        v1036 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                        v1037 = c_meta::getlvl_height(&v1->char_c) + v1035 * 20.0;
                        v1038 = v1037;
                        v1039 = -*(float *)&v1562;
                        v1040 = cosinus(v1039) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                        addbullet(&v1->char_c, 910, v1040, v1038, v1036, 1, (int)&v1562, 3);
                        ++v1033;
                      }
                      while ( v1033 < v1->char_c.field_7D2 );
                    }
                  }
                }
              }
            }
            if ( v1->char_c.meta.cEffectSprite.h_inerc > 0.0 && v1->char_c.meta.cEffectSprite.dir == 1 && v1->char_c.meta.cEffectSprite.x > 1480.0 )
              v1->char_c.meta.cEffectSprite.dir = -1;
            if ( v1->char_c.meta.cEffectSprite.h_inerc > 0.0 && v1->char_c.meta.cEffectSprite.dir == -1 && v1->char_c.meta.cEffectSprite.x < -200.0 )
              v1->char_c.meta.cEffectSprite.dir = 1;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames )
            {
              if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
              {
                v1->char_c.field_7D0 = 0;
                v1->char_c.field_572 = 0;
                v1->char_c.field_571 = 0;
                v1->char_c.meta.cEffectSprite.v_inerc = 7.5;
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
                v1->char_c.meta.cEffectSprite.h_inerc = 6.0;
              }
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 8 )
              {
                switch ( GAME_HARDNESS )
                {
                  case 0:
                    v1->char_c.field_7D0 = 180;
                    v1->char_c.field_7D2 = 45;
                    v1->char_c.field_7D4 = 120;
                    goto LABEL_2353;
                  case 1:
                    v1->char_c.field_7D0 = 120;
                    v1->char_c.field_7D2 = 30;
                    v1->char_c.field_7D4 = 180;
                    goto LABEL_2353;
                  case 2:
                    v1->char_c.field_7D0 = 90;
                    v1->char_c.field_7D2 = 20;
                    v1->char_c.field_7D4 = 210;
                    goto LABEL_2353;
                  case 3:
                    v1->char_c.field_7D0 = 60;
                    v1->char_c.field_7D2 = 20;
                    v1->char_c.field_7D4 = 240;
LABEL_2353:
                    v1->char_c.field_7D6 = get_MT_range(3);
                    break;
                  default:
                    break;
                }
                v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 4);
              }
            }
            return;
          case 730:
            if ( !v1->char_c.meta.viz.get_subseq && !(v1->char_c.meta.viz.get_elaps_frames % 2) )
            {
              *(float *)&v1683 = (double)(unsigned int)get_MT_range(360);
              v1684 = (double)(unsigned int)get_MT_range(400) + 200.0;
              v1685 = (double)((unsigned int)get_MT_range(100) >= 0x32);
              v1048 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1049 = -*(float *)&v1683;
              v1050 = sinus(v1049);
              v1051 = v1050 * v1684 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
              v1052 = v1051;
              v1053 = -*(float *)&v1683;
              v1054 = cosinus(v1053);
              v1055 = (v1054 * v1684 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 970, v1055, v1052, v1048, 1, (int)&v1683, 3);
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) && v1->char_c.meta.viz.get_elaps_frames <= v1->char_c.field_7D0 - 30 )
              {
                *(float *)&v1644 = (double)(unsigned int)get_MT_range(360);
                v1645 = (double)(unsigned int)get_MT_range(400) + 200.0;
                v1646 = (double)((unsigned int)get_MT_range(100) >= 0x32);
                v1056 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1057 = -*(float *)&v1644;
                v1058 = sinus(v1057);
                v1059 = v1058 * v1645 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
                v1060 = v1059;
                v1061 = -*(float *)&v1644;
                v1062 = cosinus(v1061);
                v1063 = (v1062 * v1645 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 970, v1063, v1060, v1056, 1, (int)&v1644, 3);
              }
              if ( v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D0 )
              {
LABEL_2165:
                ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                char_c::flip_with_force(&v1->char_c);
                return;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 3 )
            {
              if ( !v1->char_c.meta.viz.get_frame && !v1->char_c.meta.viz.get_frame_time )
                v1->char_c.meta.field_190 = 0;
              if ( v1->char_c.meta.cEffectSprite.dir == 1 && c_meta::get_border_near(&v1->char_c) == -1 || v1->char_c.meta.cEffectSprite.dir == -1 && c_meta::get_border_near(&v1->char_c) == 1 )
              {
                char_c::play_sfx(&v1->char_c, 1);
                shake_camera(10.0);
                v1064 = v1->char_c.meta.vtbl;
                v1->char_c.meta.cEffectSprite.h_inerc = -3.0;
                v1065 = (void (__thiscall *)(char_namazu *))v1064->next_subseq_func5;
                v1->char_c.meta.cEffectSprite.v_inerc = 10.0;
                v1->char_c.meta.cEffectSprite.v_force = 0.2;
                v1065(v1);
                if ( v1->char_c.field_7E4 > 0.0 )
                {
                  v1517 = 0.0;
                  if ( v1->char_c.field_7E4 > 0.0 )
                  {
                    do
                    {
                      *(float *)&v1695 = (double)(unsigned int)get_MT_range(110) - 190.0;
                      v1696 = (double)(unsigned int)get_MT_range(v1->char_c.field_7D6) * 0.1000000014901161 + v1->char_c.field_7E8;
                      v1697 = 0.0;
                      v1066 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                      v1067 = -*(float *)&v1695;
                      v1068 = sinus(v1067);
                      v1069 = v1068 * (v1696 * 10.0) + v1->char_c.meta.cEffectSprite.y;
                      v1070 = v1069;
                      v1071 = -*(float *)&v1695;
                      v1072 = cosinus(v1071);
                      v1073 = v1072 * (v1696 * 10.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      addbullet(&v1->char_c, 920, v1073, v1070, v1066, 1, (int)&v1695, 3);
                      v1517 = v1517 + 1.0;
                    }
                    while ( v1->char_c.field_7E4 > (double)v1517 );
                  }
                }
                return;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 4 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                char_c::play_sfx(&v1->char_c, 0);
                v1->char_c.field_7DC = v1->char_c.meta.cEffectSprite.h_inerc;
                v1->char_c.dash_angle = v1->char_c.meta.cEffectSprite.v_inerc;
                char_c::reset_forces(&v1->char_c);
                shake_camera(10.0);
                v1518 = 0.0;
                do
                {
                  *(float *)&v1719 = (double)(unsigned int)get_MT_range(10) + v1518 * 24.0;
                  v1720 = (double)(unsigned int)get_MT_range(20) * 0.1000000014901161 + 10.0;
                  v1721 = 0.0;
                  v1074 = -*(float *)&v1719;
                  v1075 = (unsigned __int8)(1 - 2 * (sinus(v1074) > 0.0));
                  v1076 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v1077 = -*(float *)&v1719;
                  v1078 = sinus(v1077) * 20.0 + v1->char_c.meta.cEffectSprite.y;
                  v1079 = v1078;
                  v1080 = -*(float *)&v1719;
                  v1081 = cosinus(v1080) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 971, v1081, v1079, v1076, v1075, (int)&v1719, 3);
                  v1518 = v1518 + 1.0;
                }
                while ( v1518 < 15.0 );
                v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 5);
                return;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 6 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - 0.2000000029802322;
              v1082 = v1->char_c.meta.cEffectSprite.h_inerc + 0.1000000014901161;
              v1->char_c.meta.cEffectSprite.h_inerc = v1082;
              if ( v1082 > 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                char_c::play_sfx(&v1->char_c, 0);
                char_c::reset_forces(&v1->char_c);
                shake_camera(2.0);
LABEL_2385:
                v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 7);
                return;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq != 8 || v1->char_c.meta.viz.get_elaps_frames < v1->char_c.field_7D2 )
            {
              if ( viz_process(&v1->char_c) )
                v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
              if ( !v1->char_c.meta.viz.get_elaps_frames )
              {
                if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
                {
                  switch ( GAME_HARDNESS )
                  {
                    case 0:
                      v1->char_c.field_7D0 = 150;
                      v1->char_c.field_7D2 = 180;
                      v1->char_c.field_7E4 = 10.0;
                      v1->char_c.field_7E8 = 4.0;
                      v1->char_c.field_7D6 = 40;
                      v1->char_c.field_7EC = 27.5;
                      v1->char_c.meta.field_194 = 2;
                      break;
                    case 1:
                      v1->char_c.field_7D0 = 90;
                      v1->char_c.field_7D2 = 120;
                      v1->char_c.field_7E4 = 20.0;
                      v1->char_c.field_7E8 = 3.0;
                      v1->char_c.field_7D6 = 100;
                      v1->char_c.field_7EC = 30.0;
                      v1->char_c.meta.field_194 = 4;
                      break;
                    case 2:
                      v1->char_c.field_7D0 = 60;
                      v1->char_c.field_7D2 = 90;
                      v1->char_c.field_7E4 = 30.0;
                      v1->char_c.field_7E8 = 2.0;
                      v1->char_c.field_7D6 = 160;
                      v1->char_c.field_7EC = 32.5;
                      v1->char_c.meta.field_194 = 5;
                      break;
                    case 3:
                      v1->char_c.field_7D0 = 40;
                      v1->char_c.field_7D2 = 60;
                      v1->char_c.field_7E4 = 40.0;
                      v1->char_c.field_7E8 = 1.0;
                      v1->char_c.field_7D6 = 180;
                      v1->char_c.field_7EC = 35.0;
                      v1->char_c.meta.field_194 = 6;
                      break;
                    default:
                      break;
                  }
                }
                if ( !v1->char_c.meta.viz.get_elaps_frames )
                {
                  if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
                    v1->char_c.meta.cEffectSprite.h_inerc = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + v1->char_c.field_7EC;
                  if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 6 )
                  {
                    v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.field_7DC * 0.2000000029802322;
                    v1->char_c.meta.cEffectSprite.v_inerc = 0.2000000029802322 * -v1->char_c.dash_angle;
                    v1->char_c.meta.cEffectSprite.v_force = 0.2;
                  }
                }
              }
              return;
            }
            goto LABEL_170;
          case 731:
            v1083 = v1->char_c.meta.viz.get_subseq;
            if ( v1083 <= 2 || v1083 >= 5 )
              char_c::sub10func(&v1->char_c);
            if ( !v1->char_c.meta.viz.get_subseq && !(v1->char_c.meta.viz.get_elaps_frames % 2) )
            {
              *(float *)&v1650 = (double)(unsigned int)get_MT_range(360);
              v1651 = (double)(unsigned int)get_MT_range(400) + 200.0;
              v1652 = (double)((unsigned int)get_MT_range(100) >= 0x32);
              v1084 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1085 = -*(float *)&v1650;
              v1086 = sinus(v1085);
              v1087 = v1086 * v1651 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
              v1088 = v1087;
              v1089 = -*(float *)&v1650;
              v1090 = cosinus(v1089);
              v1091 = (v1090 * v1651 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 970, v1091, v1088, v1084, 1, (int)&v1650, 3);
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) && v1->char_c.meta.viz.get_elaps_frames <= v1->char_c.field_7D0 - 30 )
              {
                *(float *)&v1677 = (double)(unsigned int)get_MT_range(360);
                v1678 = (double)(unsigned int)get_MT_range(400) + 200.0;
                v1679 = (double)((unsigned int)get_MT_range(100) >= 0x32);
                v1092 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1093 = -*(float *)&v1677;
                v1094 = sinus(v1093);
                v1095 = v1094 * v1678 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
                v1096 = v1095;
                v1097 = -*(float *)&v1677;
                v1098 = cosinus(v1097);
                v1099 = (v1098 * v1678 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 970, v1099, v1096, v1092, 1, (int)&v1677, 3);
              }
              if ( v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D0 )
                goto LABEL_2420;
            }
            if ( v1->char_c.meta.viz.get_subseq == 3 )
            {
              v1100 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              v1->char_c.meta.cEffectSprite.v_inerc = v1100;
              if ( v1100 < 0.0 )
                goto LABEL_2148;
            }
            if ( v1->char_c.meta.viz.get_subseq == 4 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                char_c::play_sfx(&v1->char_c, 1);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                char_c::reset_forces(&v1->char_c);
                v1519 = 0.0;
                do
                {
                  *(float *)&v1550 = (double)(unsigned int)get_MT_range(10) + v1519 * 18.0;
                  v1551 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
                  v1552 = 0.0;
                  v1101 = -*(float *)&v1550;
                  v1102 = (unsigned __int8)(1 - 2 * (sinus(v1101) > 0.0));
                  v1103 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v1104 = -*(float *)&v1550;
                  v1105 = sinus(v1104) * 20.0 + v1->char_c.meta.cEffectSprite.y;
                  v1106 = v1105;
                  v1107 = -*(float *)&v1550;
                  v1108 = cosinus(v1107) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 971, v1108, v1106, v1103, v1102, (int)&v1550, 3);
                  v1519 = v1519 + 1.0;
                }
                while ( v1519 < 20.0 );
                v1551 = 0.40000001;
                v1552 = 0.0;
                addbullet(&v1->char_c, 900, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1550, 3);
                v1551 = 0.30000001;
                v1552 = 1.0;
                addbullet(&v1->char_c, 900, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1550, 3);
                if ( v1->char_c.field_7E4 > 0.0 )
                {
                  v1520 = 0.0;
                  if ( v1->char_c.field_7E4 > 0.0 )
                  {
                    do
                    {
                      *(float *)&v1550 = -(double)(unsigned int)get_MT_range(180);
                      v1551 = (double)(unsigned int)get_MT_range(v1->char_c.field_7D6) * 0.1000000014901161 + v1->char_c.field_7E8;
                      v1552 = 0.0;
                      v1109 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                      v1110 = -*(float *)&v1550;
                      v1111 = sinus(v1110);
                      v1112 = v1111 * (v1551 * 10.0) + v1->char_c.meta.cEffectSprite.y;
                      v1113 = v1112;
                      v1114 = -*(float *)&v1550;
                      v1115 = cosinus(v1114);
                      v1116 = v1115 * (v1551 * 10.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      addbullet(&v1->char_c, 920, v1116, v1113, v1109, 1, (int)&v1550, 3);
                      v1520 = v1520 + 1.0;
                    }
                    while ( v1->char_c.field_7E4 > (double)v1520 );
                  }
                }
LABEL_2187:
                ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                goto LABEL_2188;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq != 6 || v1->char_c.meta.viz.get_elaps_frames < 60 )
            {
              if ( viz_process(&v1->char_c) )
                v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
              if ( !v1->char_c.meta.viz.get_elaps_frames )
              {
                if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
                {
                  switch ( GAME_HARDNESS )
                  {
                    case 0:
                      v1->char_c.field_7D0 = 120;
                      v1->char_c.field_7D2 = 180;
                      v1->char_c.field_7E4 = 15.0;
                      v1->char_c.dash_angle = 45.0;
                      v1->char_c.field_7E8 = 4.0;
                      v1->char_c.field_7D6 = 40;
                      goto LABEL_2445;
                    case 1:
                      v1->char_c.field_7D0 = 90;
                      v1->char_c.field_7D2 = 150;
                      v1->char_c.field_7E4 = 25.0;
                      v1->char_c.dash_angle = 45.0;
                      v1->char_c.field_7E8 = 3.0;
                      v1->char_c.field_7D6 = 100;
LABEL_2445:
                      v1->char_c.meta.field_194 = 0;
                      goto LABEL_2446;
                    case 2:
                      v1->char_c.field_7D0 = 90;
                      v1->char_c.field_7D2 = 150;
                      v1->char_c.field_7E4 = 40.0;
                      v1->char_c.dash_angle = 45.0;
                      v1->char_c.field_7E8 = 2.0;
                      v1->char_c.field_7D6 = 160;
                      v1->char_c.meta.field_194 = 1;
                      goto LABEL_2446;
                    case 3:
                      v1->char_c.field_7D0 = 60;
                      v1->char_c.field_7D2 = 120;
                      v1->char_c.field_7E4 = 50.0;
                      v1->char_c.dash_angle = 45.0;
                      v1->char_c.field_7E8 = 1.0;
                      v1->char_c.field_7D6 = 180;
                      v1->char_c.meta.field_194 = 1;
LABEL_2446:
                      v1->char_c.meta.field_190 = 0;
                      break;
                    default:
                      break;
                  }
                }
                if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
                {
                  v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.dash_angle;
                  v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                  v1->char_c.meta.cEffectSprite.v_force = 1.0;
                }
              }
              return;
            }
            goto LABEL_92;
          case 740:
            if ( !v1->char_c.meta.viz.get_subseq && !(v1->char_c.meta.viz.get_elaps_frames % 2) )
            {
              *(float *)&v1656 = (double)(unsigned int)get_MT_range(360);
              v1657 = (double)(unsigned int)get_MT_range(400) + 200.0;
              v1658 = (double)((unsigned int)get_MT_range(100) >= 0x32);
              v1117 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1118 = -*(float *)&v1656;
              v1119 = sinus(v1118);
              v1120 = v1119 * v1657 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
              v1121 = v1120;
              v1122 = -*(float *)&v1656;
              v1123 = cosinus(v1122);
              v1124 = (v1123 * v1657 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 970, v1124, v1121, v1117, 1, (int)&v1656, 3);
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) && v1->char_c.meta.viz.get_elaps_frames <= v1->char_c.field_7D0 - 30 )
              {
                *(float *)&v1590 = (double)(unsigned int)get_MT_range(360);
                v1591 = (double)(unsigned int)get_MT_range(400) + 200.0;
                v1592 = (double)((unsigned int)get_MT_range(100) >= 0x32);
                v1125 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1126 = -*(float *)&v1590;
                v1127 = sinus(v1126);
                v1128 = v1127 * v1591 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
                v1129 = v1128;
                v1130 = -*(float *)&v1590;
                v1131 = cosinus(v1130);
                v1132 = (v1131 * v1591 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 970, v1132, v1129, v1125, 1, (int)&v1590, 3);
              }
              if ( v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D0 )
                goto LABEL_2420;
            }
            v1135 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 3);
            v1133 = v1->char_c.meta.viz.get_subseq == 3;
            v1134 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 3) < 0;
            if ( v1->char_c.meta.viz.get_subseq != 3 )
              goto LABEL_2475;
            if ( v1->char_c.field_7DC > 0.0 )
            {
              if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) && v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D2 - 120 )
              {
                *(float *)&v1593 = (double)(unsigned int)get_MT_range(360);
                v1594 = (double)(unsigned int)get_MT_range(400) + 200.0;
                v1595 = (double)((unsigned int)get_MT_range(100) >= 0x32);
                v1136 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1137 = -*(float *)&v1593;
                v1138 = sinus(v1137);
                v1139 = v1138 * v1594 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
                v1140 = v1139;
                v1141 = -*(float *)&v1593;
                v1142 = cosinus(v1141);
                v1143 = (v1142 * v1594 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 970, v1143, v1140, v1136, 1, (int)&v1593, 3);
              }
              if ( !(v1->char_c.meta.viz.get_elaps_frames % v1->char_c.field_7D4) && v1->char_c.meta.viz.get_elaps_frames <= v1->char_c.field_7D2 - 120 )
              {
                *(float *)&v1763 = (double)(unsigned int)get_MT_range(360);
                v1764 = 7.5;
                v1765 = 6.0;
                v1766 = v1->char_c.dash_angle;
                v1144 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1145 = -*(float *)&v1763;
                v1146 = sinus(v1145) * 300.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                v1147 = v1146;
                v1148 = -*(float *)&v1763;
                v1149 = cosinus(v1148) * 300.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 930, v1149, v1147, v1144, 1, (int)&v1763, 4);
              }
            }
            if ( v1->char_c.meta.viz.get_elaps_frames < v1->char_c.field_7D2 )
            {
              v1135 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 3);
              v1133 = v1->char_c.meta.viz.get_subseq == 3;
              v1134 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 3) < 0;
LABEL_2475:
              if ( (unsigned __int8)(v1134 ^ v1135) | (unsigned __int8)v1133 )
              {
                if ( (unsigned int)get_MT_range(100) <= 4 )
                  char_c::play_sfx(&v1->char_c, 5);
              }
              if ( v1->char_c.meta.viz.get_subseq == 5 && v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D6 )
              {
LABEL_92:
                v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
              }
              else
              {
                if ( viz_process(&v1->char_c) )
                  v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
                if ( !v1->char_c.meta.viz.get_elaps_frames )
                {
                  if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
                  {
                    switch ( GAME_HARDNESS )
                    {
                      case 0:
                        v1->char_c.field_7D0 = 120;
                        v1->char_c.field_7DC = 8.0;
                        v1->char_c.field_7D2 = 300;
                        v1->char_c.dash_angle = 120.0;
                        v1->char_c.field_7D4 = 40;
                        v1157 = 0.0;
                        v1->char_c.field_7D6 = 240;
                        goto LABEL_2491;
                      case 1:
                        v1->char_c.field_7D0 = 120;
                        v1->char_c.field_7DC = 9.0;
                        v1->char_c.field_7D2 = 300;
                        v1->char_c.dash_angle = 180.0;
                        v1->char_c.field_7D4 = 35;
                        v1157 = 6.0;
                        v1->char_c.field_7D6 = 210;
                        goto LABEL_2491;
                      case 2:
                        v1->char_c.field_7D0 = 90;
                        v1->char_c.field_7DC = 12.0;
                        v1->char_c.field_7D2 = 360;
                        v1->char_c.dash_angle = 210.0;
                        v1->char_c.field_7D4 = 28;
                        v1157 = 8.0;
                        v1->char_c.field_7D6 = 180;
                        goto LABEL_2491;
                      case 3:
                        v1->char_c.field_7D0 = 60;
                        v1->char_c.field_7DC = 15.0;
                        v1->char_c.field_7D2 = 360;
                        v1->char_c.dash_angle = 240.0;
                        v1->char_c.field_7D4 = 22;
                        v1157 = 10.0;
                        v1->char_c.field_7D6 = 180;
LABEL_2491:
                        v1->char_c.field_7E4 = v1157;
                        break;
                      default:
                        break;
                    }
                  }
                  if ( !v1->char_c.meta.viz.get_elaps_frames )
                  {
                    if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
                    {
                      char_c::flip_with_force(&v1->char_c);
                      v1->char_c.meta.cEffectSprite.h_inerc = (double)(unsigned int)get_MT_range(30) * 0.1000000014901161;
                    }
                    if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 6 )
                    {
                      v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.field_7DC * 0.2000000029802322;
                      v1->char_c.meta.cEffectSprite.v_inerc = 0.2000000029802322 * -v1->char_c.dash_angle;
                      v1->char_c.meta.cEffectSprite.v_force = 0.2;
                    }
                  }
                }
              }
            }
            else
            {
              if ( v1->char_c.field_7E4 > 0.0 )
              {
                v1484 = (double)(unsigned int)get_MT_range(360);
                v1521 = 0.0;
                if ( v1->char_c.field_7E4 > 0.0 )
                {
                  v1150 = v1521;
                  do
                  {
                    *(float *)&v1755 = v1150 * 360.0 / v1->char_c.field_7E4 + v1484;
                    v1756 = 17.5;
                    v1757 = 4.0;
                    v1758 = v1->char_c.dash_angle;
                    v1151 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v1152 = -*(float *)&v1755;
                    v1153 = sinus(v1152) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                    v1154 = v1153;
                    v1155 = -*(float *)&v1755;
                    v1156 = cosinus(v1155) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 930, v1156, v1154, v1151, 1, (int)&v1755, 4);
                    char_c::play_sfx(&v1->char_c, 4);
                    v1521 = v1521 + 1.0;
                    v1150 = v1521;
                  }
                  while ( v1->char_c.field_7E4 > (double)v1521 );
                }
              }
              v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 5);
            }
            return;
          default:
            goto LABEL_2803;
        }
      }
      if ( !v1->char_c.meta.viz.get_subseq && !(v1->char_c.meta.viz.get_elaps_frames % 2) )
      {
        *(float *)&v1599 = (double)(unsigned int)get_MT_range(360);
        v1600 = (double)(unsigned int)get_MT_range(400) + 200.0;
        v1601 = (double)((unsigned int)get_MT_range(100) >= 0x32);
        v1158 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
        v1159 = -*(float *)&v1599;
        v1160 = sinus(v1159);
        v1161 = v1160 * v1600 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
        v1162 = v1161;
        v1163 = -*(float *)&v1599;
        v1164 = cosinus(v1163);
        v1165 = (v1164 * v1600 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
        addbullet(&v1->char_c, 970, v1165, v1162, v1158, 1, (int)&v1599, 3);
      }
      v1166 = v1->char_c.meta.viz.get_subseq;
      if ( v1166 == 1 || v1166 == 2 )
      {
        v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - 0.300000011920929;
        if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) )
        {
          *(float *)&v1605 = (double)(unsigned int)get_MT_range(360);
          v1606 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1607 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1167 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v1168 = -*(float *)&v1605;
          v1169 = sinus(v1168);
          v1170 = v1169 * v1606 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
          v1171 = v1170;
          v1172 = -*(float *)&v1605;
          v1173 = cosinus(v1172);
          v1174 = (v1173 * v1606 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 970, v1174, v1171, v1167, 1, (int)&v1605, 3);
        }
        if ( char_c::char_on_ground_down(&v1->char_c) )
        {
          v1->char_c.meta.field_190 = 0;
          v1->char_c.meta.field_194 = 1;
          char_c::play_sfx(&v1->char_c, 1);
          v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
          char_c::reset_forces(&v1->char_c);
          v1522 = 0.0;
          do
          {
            *(float *)&v1553 = (double)(unsigned int)get_MT_range(10) + v1522 * 18.0;
            v1554 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
            v1555 = 0.0;
            v1175 = -*(float *)&v1553;
            v1176 = (unsigned __int8)(1 - 2 * (sinus(v1175) > 0.0));
            v1177 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v1178 = -*(float *)&v1553;
            v1179 = sinus(v1178) * 20.0 + v1->char_c.meta.cEffectSprite.y;
            v1180 = v1179;
            v1181 = -*(float *)&v1553;
            v1182 = cosinus(v1181) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 971, v1182, v1180, v1177, v1176, (int)&v1553, 3);
            v1522 = v1522 + 1.0;
          }
          while ( v1522 < 20.0 );
          v1554 = 0.40000001;
          v1555 = 0.0;
          addbullet(&v1->char_c, 940, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1553, 3);
          v1554 = 0.30000001;
          v1555 = 1.0;
          addbullet(&v1->char_c, 940, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1553, 3);
          v1183 = 12;
          do
          {
            *(float *)&v1553 = -10.0 - (double)(unsigned int)get_MT_range(160);
            v1554 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
            v1555 = (double)((unsigned int)get_MT_range(100) >= 0x32) + 2.0;
            v1184 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v1185 = -*(float *)&v1553;
            v1186 = sinus(v1185) * 20.0 + v1->char_c.meta.cEffectSprite.y;
            v1187 = v1186;
            v1188 = -*(float *)&v1553;
            v1189 = cosinus(v1188) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 940, v1189, v1187, v1184, 1, (int)&v1553, 3);
            --v1183;
          }
          while ( v1183 );
          v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 3);
LABEL_2188:
          shake_camera(10.0);
          return;
        }
      }
      if ( viz_process(&v1->char_c) )
      {
        if ( v1->char_c.field_888 > 10 )
        {
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 751);
          char_c::flip_with_force(&v1->char_c);
        }
        else
        {
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 756);
          *(float *)&v1926 = 0.0;
          v1927 = 0.0;
          v1928 = 1.0;
          addbullet(&v1->char_c, 944, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1926, 3);
          char_c::play_sfx(&v1->char_c, 6);
        }
      }
      if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
        return;
      v1->char_c.meta.cEffectSprite.v_inerc = (double)(unsigned int)get_MT_range(30) * 0.1000000014901161 + 10.0;
      if ( v1->char_c.meta.cEffectSprite.x >= 400.0 )
      {
        if ( v1->char_c.meta.cEffectSprite.x <= 880.0 )
        {
          v1191 = 3.0 - (double)(unsigned int)get_MT_range(60) * 0.1000000014901161;
          goto LABEL_2536;
        }
        char_c::flip_with_force(&v1->char_c);
        if ( v1->char_c.meta.cEffectSprite.dir == -1 )
        {
          v1193 = get_MT_range(40);
          v1190 = (double)v1193;
          if ( v1193 < 0 )
          {
            v1191 = (v1190 + 4294967300.0) * 0.1000000014901161 + 2.0;
            goto LABEL_2536;
          }
          goto LABEL_2526;
        }
        v1194 = get_MT_range(40);
        v1192 = (double)v1194;
        if ( v1194 < 0 )
        {
          v1191 = -2.0 - (v1192 + 4294967300.0) * 0.1000000014901161;
          goto LABEL_2536;
        }
      }
      else
      {
        char_c::flip_with_force(&v1->char_c);
        if ( v1->char_c.meta.cEffectSprite.dir == 1 )
        {
          v1190 = (double)(unsigned int)get_MT_range(40);
LABEL_2526:
          v1191 = v1190 * 0.1000000014901161 + 2.0;
LABEL_2536:
          v1->char_c.meta.cEffectSprite.h_inerc = v1191;
          switch ( GAME_HARDNESS )
          {
            case 0:
              v1->char_c.field_7D0 = 120;
              v1->char_c.field_7DC = 6.0;
              v1->char_c.field_7D2 = 210;
              v1->char_c.dash_angle = 240.0;
              v1->char_c.field_7D4 = 30;
              v1195 = 0.0;
              v1->char_c.field_7D6 = 150;
              goto LABEL_2541;
            case 1:
              v1->char_c.field_7D0 = 120;
              v1->char_c.field_7DC = 8.0;
              v1->char_c.field_7D2 = 240;
              v1->char_c.dash_angle = 240.0;
              v1->char_c.field_7D4 = 30;
              v1195 = 6.0;
              v1->char_c.field_7D6 = 120;
              goto LABEL_2541;
            case 2:
              v1->char_c.field_7D0 = 90;
              v1->char_c.field_7DC = 12.0;
              v1->char_c.field_7D2 = 270;
              v1->char_c.dash_angle = 240.0;
              v1->char_c.field_7D4 = 20;
              v1195 = 8.0;
              v1->char_c.field_7D6 = 90;
              goto LABEL_2541;
            case 3:
              v1->char_c.field_7D0 = 60;
              v1->char_c.field_7DC = 15.0;
              v1->char_c.field_7D2 = 300;
              v1->char_c.dash_angle = 270.0;
              v1->char_c.field_7D4 = 14;
              v1195 = 10.0;
              v1->char_c.field_7D6 = 60;
LABEL_2541:
              v1->char_c.field_7E4 = v1195;
              break;
            default:
              break;
          }
          if ( (double)v1->char_c.meta.health / (double)v1->char_c.meta.max_health <= 0.6600000262260437 )
          {
            ((void (__thiscall *)(char_namazu *, signed int, signed int))v1->char_c.meta.vtbl->set_seq_subseq_func1)(v1, 752, 1);
            *(float *)&v1580 = 0.0;
            v1581 = 0.0;
            v1582 = 0.0;
            addbullet(&v1->char_c, 944, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1580, 3);
            char_c::play_sfx(&v1->char_c, 6);
            v1523 = 0.0;
            do
            {
              *(float *)&v1580 = (double)(unsigned int)get_MT_range(10) + v1523 * 18.0;
              v1581 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
              v1582 = 0.0;
              v1196 = -*(float *)&v1580;
              v1197 = (unsigned __int8)(1 - 2 * (sinus(v1196) > 0.0));
              v1198 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1199 = -*(float *)&v1580;
              v1200 = sinus(v1199) * 20.0 + v1->char_c.meta.cEffectSprite.y;
              v1201 = v1200;
              v1202 = -*(float *)&v1580;
              v1203 = cosinus(v1202) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 971, v1203, v1201, v1198, v1197, (int)&v1580, 3);
              v1523 = v1523 + 1.0;
            }
            while ( v1523 < 20.0 );
          }
          return;
        }
        v1192 = (double)(unsigned int)get_MT_range(40);
      }
      v1191 = -2.0 - v1192 * 0.1000000014901161;
      goto LABEL_2536;
    }
    switch ( v22 )
    {
      case 751:
        if ( !v1->char_c.meta.viz.get_subseq && !(v1->char_c.meta.viz.get_elaps_frames % 2) )
        {
          *(float *)&v1611 = (double)(unsigned int)get_MT_range(360);
          v1612 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1613 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1204 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v1205 = -*(float *)&v1611;
          v1206 = sinus(v1205);
          v1207 = v1206 * v1612 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
          v1208 = v1207;
          v1209 = -*(float *)&v1611;
          v1210 = cosinus(v1209);
          v1211 = (v1210 * v1612 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 970, v1211, v1208, v1204, 1, (int)&v1611, 3);
        }
        if ( v1->char_c.meta.viz.get_subseq == 1 )
        {
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) && v1->char_c.meta.viz.get_elaps_frames <= v1->char_c.field_7D0 - 30 )
          {
            *(float *)&v1617 = (double)(unsigned int)get_MT_range(360);
            v1618 = (double)(unsigned int)get_MT_range(400) + 200.0;
            v1619 = (double)((unsigned int)get_MT_range(100) >= 0x32);
            v1212 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v1213 = -*(float *)&v1617;
            v1214 = sinus(v1213);
            v1215 = v1214 * v1618 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
            v1216 = v1215;
            v1217 = -*(float *)&v1617;
            v1218 = cosinus(v1217);
            v1219 = (v1218 * v1618 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 970, v1219, v1216, v1212, 1, (int)&v1617, 3);
          }
          if ( v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D0 )
            goto LABEL_170;
        }
        if ( v1->char_c.meta.viz.get_subseq == 3 )
        {
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 6) && v1->char_c.field_7E4 > 0.0 )
          {
            *(float *)&v1568 = -90.0;
            v1569 = 40.0;
            v1570 = (double)((unsigned int)get_MT_range(100) >= 0x32) + 4.0;
            v1220 = v1->char_c.field_7D4;
            v1221 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v1222 = v1->char_c.meta.cEffectSprite.x + (double)v1220;
            v1223 = v1->char_c.meta.cEffectSprite.y - 100.0;
            v1224 = v1223;
            v1225 = get_MT_range(v1220);
            v1226 = v1222 - ((double)(unsigned int)v1225 + (double)(unsigned int)v1225);
            addbullet(&v1->char_c, 940, v1226, v1224, v1221, 1, (int)&v1568, 3);
            v1->char_c.field_7E4 = v1->char_c.field_7E4 - 1.0;
            v1524 = 0.0;
            do
            {
              *(float *)&v1568 = (double)(unsigned int)get_MT_range(360);
              v1569 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
              v1570 = 0.0;
              v1227 = -*(float *)&v1568;
              v1228 = (unsigned __int8)(1 - 2 * (sinus(v1227) > 0.0));
              v1229 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1230 = -*(float *)&v1568;
              v1231 = sinus(v1230) * 20.0 + v1->char_c.meta.cEffectSprite.y;
              v1232 = v1231;
              v1233 = -*(float *)&v1568;
              v1234 = cosinus(v1233) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 971, v1234, v1232, v1229, v1228, (int)&v1568, 3);
              v1524 = v1524 + 1.0;
            }
            while ( v1524 < 2.0 );
            shake_camera(3.0);
          }
          if ( v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D2 )
            goto LABEL_2148;
        }
        if ( viz_process(&v1->char_c) )
        {
          if ( v1->char_c.field_888 > 10 )
          {
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 750);
          }
          else
          {
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 756);
            *(float *)&v1932 = 0.0;
            v1933 = 0.0;
            v1934 = 1.0;
            addbullet(&v1->char_c, 944, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1932, 3);
            char_c::play_sfx(&v1->char_c, 6);
          }
        }
        if ( !v1->char_c.meta.viz.get_elaps_frames )
        {
          if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          {
            switch ( GAME_HARDNESS )
            {
              case 0:
                v1->char_c.field_7D0 = 150;
                v1->char_c.field_7D2 = 300;
                v1->char_c.field_7E4 = 10.0;
                v1->char_c.field_7D4 = 150;
                break;
              case 1:
                v1->char_c.field_7D0 = 120;
                v1->char_c.field_7D2 = 270;
                v1->char_c.field_7E4 = 16.0;
                v1->char_c.field_7D4 = 200;
                break;
              case 2:
                v1->char_c.field_7D0 = 120;
                v1->char_c.field_7D2 = 240;
                v1->char_c.field_7E4 = 22.0;
                v1->char_c.field_7D4 = 300;
                break;
              case 3:
                v1->char_c.field_7D0 = 90;
                v1->char_c.field_7D2 = 210;
                v1->char_c.field_7E4 = 30.0;
                v1->char_c.field_7D4 = 400;
                break;
              default:
                break;
            }
          }
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
          {
            shake_camera(15.0);
            char_c::play_sfx(&v1->char_c, 9);
          }
        }
        return;
      case 752:
        if ( !v1->char_c.meta.viz.get_subseq && !(v1->char_c.meta.viz.get_elaps_frames % 2) )
        {
          *(float *)&v1623 = (double)(unsigned int)get_MT_range(360);
          v1624 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1625 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1235 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v1236 = -*(float *)&v1623;
          v1237 = sinus(v1236);
          v1238 = v1237 * v1624 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
          v1239 = v1238;
          v1240 = -*(float *)&v1623;
          v1241 = cosinus(v1240);
          v1242 = (v1241 * v1624 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 970, v1242, v1239, v1235, 1, (int)&v1623, 3);
        }
        v1243 = v1->char_c.meta.viz.get_subseq;
        if ( v1243 == 1 || v1243 == 2 )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - 0.300000011920929;
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) )
          {
            *(float *)&v1629 = (double)(unsigned int)get_MT_range(360);
            v1630 = (double)(unsigned int)get_MT_range(400) + 200.0;
            v1631 = (double)((unsigned int)get_MT_range(100) >= 0x32);
            v1244 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v1245 = -*(float *)&v1629;
            v1246 = sinus(v1245);
            v1247 = v1246 * v1630 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
            v1248 = v1247;
            v1249 = -*(float *)&v1629;
            v1250 = cosinus(v1249);
            v1251 = (v1250 * v1630 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 970, v1251, v1248, v1244, 1, (int)&v1629, 3);
          }
          if ( char_c::char_on_ground_down(&v1->char_c) )
          {
            v1->char_c.meta.field_190 = 0;
            v1->char_c.meta.field_194 = 1;
            char_c::play_sfx(&v1->char_c, 1);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            char_c::reset_forces(&v1->char_c);
            v1525 = 0.0;
            do
            {
              *(float *)&v1556 = (double)(unsigned int)get_MT_range(10) + v1525 * 18.0;
              v1557 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
              v1558 = 0.0;
              v1252 = -*(float *)&v1556;
              v1253 = (unsigned __int8)(1 - 2 * (sinus(v1252) > 0.0));
              v1254 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1255 = -*(float *)&v1556;
              v1256 = sinus(v1255) * 20.0 + v1->char_c.meta.cEffectSprite.y;
              v1257 = v1256;
              v1258 = -*(float *)&v1556;
              v1259 = cosinus(v1258) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 971, v1259, v1257, v1254, v1253, (int)&v1556, 3);
              v1525 = v1525 + 1.0;
            }
            while ( v1525 < 20.0 );
            v1557 = 0.40000001;
            v1558 = 0.0;
            addbullet(&v1->char_c, 940, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1556, 3);
            v1557 = 0.30000001;
            v1558 = 1.0;
            addbullet(&v1->char_c, 940, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1556, 3);
            v1260 = 12;
            do
            {
              *(float *)&v1556 = -10.0 - (double)(unsigned int)get_MT_range(160);
              v1557 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
              v1558 = (double)((unsigned int)get_MT_range(100) >= 0x32) + 2.0;
              v1261 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1262 = -*(float *)&v1556;
              v1263 = sinus(v1262) * 20.0 + v1->char_c.meta.cEffectSprite.y;
              v1264 = v1263;
              v1265 = -*(float *)&v1556;
              v1266 = cosinus(v1265) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 940, v1266, v1264, v1261, 1, (int)&v1556, 3);
              --v1260;
            }
            while ( v1260 );
            v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 3);
            goto LABEL_2188;
          }
        }
        if ( viz_process(&v1->char_c) )
        {
          if ( v1->char_c.field_888 > 10 )
          {
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 753);
            char_c::flip_with_force(&v1->char_c);
          }
          else
          {
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 756);
            *(float *)&v1938 = 0.0;
            v1939 = 0.0;
            v1940 = 1.0;
            addbullet(&v1->char_c, 944, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1938, 3);
            char_c::play_sfx(&v1->char_c, 6);
          }
        }
        if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
          return;
        v1->char_c.meta.cEffectSprite.v_inerc = (double)(unsigned int)get_MT_range(30) * 0.1000000014901161 + 10.0;
        if ( v1->char_c.meta.cEffectSprite.x >= 400.0 )
        {
          if ( v1->char_c.meta.cEffectSprite.x <= 880.0 )
          {
            v1268 = 3.0 - (double)(unsigned int)get_MT_range(60) * 0.1000000014901161;
            goto LABEL_2614;
          }
          char_c::flip_with_force(&v1->char_c);
          if ( v1->char_c.meta.cEffectSprite.dir == -1 )
          {
            v1270 = get_MT_range(40);
            v1267 = (double)v1270;
            if ( v1270 >= 0 )
              goto LABEL_2604;
            v1268 = (v1267 + 4294967300.0) * 0.1000000014901161 + 2.0;
LABEL_2614:
            v1->char_c.meta.cEffectSprite.h_inerc = v1268;
            switch ( GAME_HARDNESS )
            {
              case 0:
                v1->char_c.field_7D0 = 120;
                v1->char_c.field_7DC = 6.0;
                v1->char_c.field_7D2 = 210;
                v1->char_c.dash_angle = 240.0;
                v1->char_c.field_7D4 = 30;
                v1272 = 0.0;
                v1->char_c.field_7D6 = 150;
                goto LABEL_2619;
              case 1:
                v1->char_c.field_7D0 = 120;
                v1->char_c.field_7DC = 8.0;
                v1->char_c.field_7D2 = 240;
                v1->char_c.dash_angle = 240.0;
                v1->char_c.field_7D4 = 30;
                v1272 = 6.0;
                v1->char_c.field_7D6 = 120;
                goto LABEL_2619;
              case 2:
                v1->char_c.field_7D0 = 90;
                v1->char_c.field_7DC = 12.0;
                v1->char_c.field_7D2 = 270;
                v1->char_c.dash_angle = 240.0;
                v1->char_c.field_7D4 = 20;
                v1272 = 8.0;
                v1->char_c.field_7D6 = 90;
                goto LABEL_2619;
              case 3:
                v1->char_c.field_7D0 = 60;
                v1->char_c.field_7DC = 15.0;
                v1->char_c.field_7D2 = 300;
                v1->char_c.dash_angle = 270.0;
                v1->char_c.field_7D4 = 14;
                v1272 = 10.0;
                v1->char_c.field_7D6 = 60;
LABEL_2619:
                v1->char_c.field_7E4 = v1272;
                break;
              default:
                break;
            }
            if ( (double)v1->char_c.meta.health / (double)v1->char_c.meta.max_health <= 0.3300000131130219 )
            {
              ((void (__thiscall *)(char_namazu *, signed int, signed int))v1->char_c.meta.vtbl->set_seq_subseq_func1)(v1, 754, 1);
              *(float *)&v1577 = 0.0;
              v1578 = 0.0;
              v1579 = 1.0;
              addbullet(&v1->char_c, 944, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1577, 3);
              char_c::play_sfx(&v1->char_c, 6);
              v1526 = 0.0;
              do
              {
                *(float *)&v1577 = (double)(unsigned int)get_MT_range(10) + v1526 * 18.0;
                v1578 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 20.0;
                v1579 = 0.0;
                v1273 = -*(float *)&v1577;
                v1274 = (unsigned __int8)(1 - 2 * (sinus(v1273) > 0.0));
                v1275 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1276 = -*(float *)&v1577;
                v1277 = sinus(v1276) * 20.0 + v1->char_c.meta.cEffectSprite.y;
                v1278 = v1277;
                v1279 = -*(float *)&v1577;
                v1280 = cosinus(v1279) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 971, v1280, v1278, v1275, v1274, (int)&v1577, 3);
                v1526 = v1526 + 1.0;
              }
              while ( v1526 < 20.0 );
            }
            return;
          }
          v1271 = get_MT_range(40);
          v1269 = (double)v1271;
          if ( v1271 < 0 )
          {
            v1268 = -2.0 - (v1269 + 4294967300.0) * 0.1000000014901161;
            goto LABEL_2614;
          }
        }
        else
        {
          char_c::flip_with_force(&v1->char_c);
          if ( v1->char_c.meta.cEffectSprite.dir == 1 )
          {
            v1267 = (double)(unsigned int)get_MT_range(40);
LABEL_2604:
            v1268 = v1267 * 0.1000000014901161 + 2.0;
            goto LABEL_2614;
          }
          v1269 = (double)(unsigned int)get_MT_range(40);
        }
        v1268 = -2.0 - v1269 * 0.1000000014901161;
        goto LABEL_2614;
      case 753:
        if ( !v1->char_c.meta.viz.get_subseq && !(v1->char_c.meta.viz.get_elaps_frames % 2) )
        {
          *(float *)&v1635 = (double)(unsigned int)get_MT_range(360);
          v1636 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1637 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1281 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v1282 = -*(float *)&v1635;
          v1283 = sinus(v1282);
          v1284 = v1283 * v1636 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
          v1285 = v1284;
          v1286 = -*(float *)&v1635;
          v1287 = cosinus(v1286);
          v1288 = (v1287 * v1636 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 970, v1288, v1285, v1281, 1, (int)&v1635, 3);
        }
        if ( v1->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_2807;
        if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) && v1->char_c.meta.viz.get_elaps_frames <= v1->char_c.field_7D0 - 30 )
        {
          *(float *)&v1641 = (double)(unsigned int)get_MT_range(360);
          v1642 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1643 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1289 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v1290 = -*(float *)&v1641;
          v1291 = sinus(v1290);
          v1292 = v1291 * v1642 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
          v1293 = v1292;
          v1294 = -*(float *)&v1641;
          v1295 = cosinus(v1294);
          v1296 = (v1295 * v1642 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 970, v1296, v1293, v1289, 1, (int)&v1641, 3);
        }
        if ( v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D0 )
        {
LABEL_170:
          v63 = v1->char_c.meta.vtbl;
          v64 = v1;
LABEL_171:
          ((void (__thiscall *)(char_namazu *))v63->next_subseq_func5)(v64);
        }
        else
        {
LABEL_2807:
          if ( v1->char_c.meta.viz.get_subseq == 3 )
          {
            if ( !(v1->char_c.meta.viz.get_elaps_frames % 6) && v1->char_c.field_7E4 > 0.0 )
            {
              *(float *)&v1583 = -90.0;
              v1584 = 40.0;
              v1585 = (double)((unsigned int)get_MT_range(100) >= 0x32) + 4.0;
              v1297 = v1->char_c.field_7D4;
              v1298 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1299 = v1->char_c.meta.cEffectSprite.x + (double)v1297;
              v1300 = v1->char_c.meta.cEffectSprite.y - 100.0;
              v1301 = v1300;
              v1302 = get_MT_range(v1297);
              v1303 = v1299 - ((double)(unsigned int)v1302 + (double)(unsigned int)v1302);
              addbullet(&v1->char_c, 941, v1303, v1301, v1298, 1, (int)&v1583, 3);
              v1->char_c.field_7E4 = v1->char_c.field_7E4 - 1.0;
              v1527 = 0.0;
              do
              {
                *(float *)&v1583 = (double)(unsigned int)get_MT_range(360);
                v1584 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
                v1585 = 0.0;
                v1304 = -*(float *)&v1583;
                v1305 = (unsigned __int8)(1 - 2 * (sinus(v1304) > 0.0));
                v1306 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1307 = -*(float *)&v1583;
                v1308 = sinus(v1307) * 20.0 + v1->char_c.meta.cEffectSprite.y;
                v1309 = v1308;
                v1310 = -*(float *)&v1583;
                v1311 = cosinus(v1310) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 971, v1311, v1309, v1306, v1305, (int)&v1583, 3);
                v1527 = v1527 + 1.0;
              }
              while ( v1527 < 2.0 );
              shake_camera(3.0);
            }
            if ( v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D2 )
              goto LABEL_2148;
          }
          if ( viz_process(&v1->char_c) )
          {
            if ( v1->char_c.field_888 > 10 )
            {
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 752);
            }
            else
            {
              v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 756);
              *(float *)&v1944 = 0.0;
              v1945 = 0.0;
              v1946 = 1.0;
              addbullet(&v1->char_c, 944, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1944, 3);
              char_c::play_sfx(&v1->char_c, 6);
            }
          }
          if ( !v1->char_c.meta.viz.get_elaps_frames )
          {
            if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              switch ( GAME_HARDNESS )
              {
                case 0:
                  v1->char_c.field_7D0 = 150;
                  v1->char_c.field_7D2 = 300;
                  v1->char_c.field_7E4 = 10.0;
                  v1->char_c.field_7D4 = 150;
                  break;
                case 1:
                  v1->char_c.field_7D0 = 120;
                  v1->char_c.field_7D2 = 270;
                  v1->char_c.field_7E4 = 16.0;
                  v1->char_c.field_7D4 = 200;
                  break;
                case 2:
                  v1->char_c.field_7D0 = 120;
                  v1->char_c.field_7D2 = 240;
                  v1->char_c.field_7E4 = 22.0;
                  v1->char_c.field_7D4 = 300;
                  break;
                case 3:
                  v1->char_c.field_7D0 = 90;
                  v1->char_c.field_7D2 = 210;
                  v1->char_c.field_7E4 = 30.0;
                  v1->char_c.field_7D4 = 400;
                  break;
                default:
                  break;
              }
            }
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
            {
              shake_camera(15.0);
              char_c::play_sfx(&v1->char_c, 10);
            }
          }
        }
        return;
      case 754:
        if ( !v1->char_c.meta.viz.get_subseq && !(v1->char_c.meta.viz.get_elaps_frames % 2) )
        {
          *(float *)&v1647 = (double)(unsigned int)get_MT_range(360);
          v1648 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1649 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1312 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v1313 = -*(float *)&v1647;
          v1314 = sinus(v1313);
          v1315 = v1314 * v1648 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
          v1316 = v1315;
          v1317 = -*(float *)&v1647;
          v1318 = cosinus(v1317);
          v1319 = (v1318 * v1648 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 970, v1319, v1316, v1312, 1, (int)&v1647, 3);
        }
        v1320 = v1->char_c.meta.viz.get_subseq;
        if ( v1320 == 1 || v1320 == 2 )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - 0.300000011920929;
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) )
          {
            *(float *)&v1653 = (double)(unsigned int)get_MT_range(360);
            v1654 = (double)(unsigned int)get_MT_range(400) + 200.0;
            v1655 = (double)((unsigned int)get_MT_range(100) >= 0x32);
            v1321 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v1322 = -*(float *)&v1653;
            v1323 = sinus(v1322);
            v1324 = v1323 * v1654 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
            v1325 = v1324;
            v1326 = -*(float *)&v1653;
            v1327 = cosinus(v1326);
            v1328 = (v1327 * v1654 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 970, v1328, v1325, v1321, 1, (int)&v1653, 3);
          }
          if ( char_c::char_on_ground_down(&v1->char_c) )
          {
            v1->char_c.meta.field_190 = 0;
            v1->char_c.meta.field_194 = 1;
            char_c::play_sfx(&v1->char_c, 1);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            char_c::reset_forces(&v1->char_c);
            v1528 = 0.0;
            do
            {
              *(float *)&v1559 = (double)(unsigned int)get_MT_range(10) + v1528 * 18.0;
              v1560 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
              v1561 = 0.0;
              v1329 = -*(float *)&v1559;
              v1330 = (unsigned __int8)(1 - 2 * (sinus(v1329) > 0.0));
              v1331 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1332 = -*(float *)&v1559;
              v1333 = sinus(v1332) * 20.0 + v1->char_c.meta.cEffectSprite.y;
              v1334 = v1333;
              v1335 = -*(float *)&v1559;
              v1336 = cosinus(v1335) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 971, v1336, v1334, v1331, v1330, (int)&v1559, 3);
              v1528 = v1528 + 1.0;
            }
            while ( v1528 < 20.0 );
            v1560 = 0.40000001;
            v1561 = 0.0;
            addbullet(&v1->char_c, 940, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1559, 3);
            v1560 = 0.30000001;
            v1561 = 1.0;
            addbullet(&v1->char_c, 940, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1559, 3);
            v1337 = 12;
            do
            {
              *(float *)&v1559 = -10.0 - (double)(unsigned int)get_MT_range(160);
              v1560 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
              v1561 = (double)((unsigned int)get_MT_range(100) >= 0x32) + 2.0;
              v1338 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1339 = -*(float *)&v1559;
              v1340 = sinus(v1339) * 20.0 + v1->char_c.meta.cEffectSprite.y;
              v1341 = v1340;
              v1342 = -*(float *)&v1559;
              v1343 = cosinus(v1342) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 940, v1343, v1341, v1338, 1, (int)&v1559, 3);
              --v1337;
            }
            while ( v1337 );
            v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 3);
            goto LABEL_2188;
          }
        }
        if ( viz_process(&v1->char_c) )
        {
          v1344 = v1->char_c.meta.vtbl->set_seq_func2;
          if ( v1->char_c.field_888 > 10 )
            v1344(&v1->char_c.meta, 755);
          else
            v1344(&v1->char_c.meta, 756);
        }
        if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
          return;
        v1->char_c.meta.cEffectSprite.v_inerc = (double)(unsigned int)get_MT_range(30) * 0.1000000014901161 + 10.0;
        if ( v1->char_c.meta.cEffectSprite.x < 400.0 )
        {
          char_c::flip_with_force(&v1->char_c);
          if ( v1->char_c.meta.cEffectSprite.dir == 1 )
          {
            v1345 = (double)(unsigned int)get_MT_range(40);
LABEL_2681:
            v1346 = v1345 * 0.1000000014901161 + 2.0;
            goto LABEL_2691;
          }
          v1347 = (double)(unsigned int)get_MT_range(40);
          goto LABEL_2683;
        }
        if ( v1->char_c.meta.cEffectSprite.x <= 880.0 )
        {
          v1346 = 3.0 - (double)(unsigned int)get_MT_range(60) * 0.1000000014901161;
        }
        else
        {
          char_c::flip_with_force(&v1->char_c);
          if ( v1->char_c.meta.cEffectSprite.dir == -1 )
          {
            v1348 = get_MT_range(40);
            v1345 = (double)v1348;
            if ( v1348 >= 0 )
              goto LABEL_2681;
            v1346 = (v1345 + 4294967300.0) * 0.1000000014901161 + 2.0;
          }
          else
          {
            v1349 = get_MT_range(40);
            v1347 = (double)v1349;
            if ( v1349 >= 0 )
            {
LABEL_2683:
              v1346 = -2.0 - v1347 * 0.1000000014901161;
              goto LABEL_2691;
            }
            v1346 = -2.0 - (v1347 + 4294967300.0) * 0.1000000014901161;
          }
        }
LABEL_2691:
        v1->char_c.meta.cEffectSprite.h_inerc = v1346;
        switch ( GAME_HARDNESS )
        {
          case 0:
            v1->char_c.field_7D0 = 120;
            v1->char_c.field_7DC = 6.0;
            v1->char_c.field_7D2 = 210;
            v1->char_c.dash_angle = 240.0;
            v1->char_c.field_7D4 = 30;
            v1->char_c.field_7D6 = 150;
            v1->char_c.field_7E4 = 0.0;
            break;
          case 1:
            v1->char_c.field_7D0 = 120;
            v1->char_c.field_7DC = 8.0;
            v1->char_c.field_7D2 = 240;
            v1->char_c.dash_angle = 240.0;
            v1->char_c.field_7D4 = 30;
            v1->char_c.field_7D6 = 120;
            v1->char_c.field_7E4 = 6.0;
            break;
          case 2:
            v1->char_c.field_7D0 = 90;
            v1->char_c.field_7DC = 12.0;
            v1->char_c.field_7D2 = 270;
            v1->char_c.dash_angle = 240.0;
            v1->char_c.field_7D4 = 20;
            v1->char_c.field_7D6 = 90;
            v1->char_c.field_7E4 = 8.0;
            break;
          case 3:
            v1->char_c.field_7D0 = 60;
            v1->char_c.field_7DC = 15.0;
            v1->char_c.field_7D2 = 300;
            v1->char_c.dash_angle = 270.0;
            v1->char_c.field_7D4 = 14;
            v1->char_c.field_7D6 = 60;
            v1->char_c.field_7E4 = 10.0;
            break;
          default:
            return;
        }
        return;
      case 755:
        if ( !v1->char_c.meta.viz.get_subseq && !(v1->char_c.meta.viz.get_elaps_frames % 2) )
        {
          *(float *)&v1659 = (double)(unsigned int)get_MT_range(360);
          v1660 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1661 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1350 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v1351 = -*(float *)&v1659;
          v1352 = sinus(v1351);
          v1353 = v1352 * v1660 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
          v1354 = v1353;
          v1355 = -*(float *)&v1659;
          v1356 = cosinus(v1355);
          v1357 = (v1356 * v1660 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 970, v1357, v1354, v1350, 1, (int)&v1659, 3);
        }
        if ( v1->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_2808;
        if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) && v1->char_c.meta.viz.get_elaps_frames <= v1->char_c.field_7D0 - 30 )
        {
          *(float *)&v1665 = (double)(unsigned int)get_MT_range(360);
          v1666 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1667 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1358 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v1359 = -*(float *)&v1665;
          v1360 = sinus(v1359);
          v1361 = v1360 * v1666 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
          v1362 = v1361;
          v1363 = -*(float *)&v1665;
          v1364 = cosinus(v1363);
          v1365 = (v1364 * v1666 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 970, v1365, v1362, v1358, 1, (int)&v1665, 3);
        }
        if ( v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D0 )
        {
LABEL_2420:
          ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
          char_c::flip_with_force(&v1->char_c);
        }
        else
        {
          if ( v1->char_c.meta.viz.get_subseq != 3 )
            goto LABEL_2809;
LABEL_2808:
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 6) && v1->char_c.field_7E4 > 0.0 )
          {
            *(float *)&v1574 = -90.0;
            v1575 = 40.0;
            v1576 = (double)((unsigned int)get_MT_range(100) >= 0x32) + 4.0;
            v1366 = v1->char_c.field_7D4;
            v1367 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v1368 = v1->char_c.meta.cEffectSprite.x + (double)v1366;
            v1369 = v1->char_c.meta.cEffectSprite.y - 100.0;
            v1370 = v1369;
            v1371 = get_MT_range(v1366);
            v1372 = v1368 - ((double)(unsigned int)v1371 + (double)(unsigned int)v1371);
            addbullet(&v1->char_c, 942, v1372, v1370, v1367, 1, (int)&v1574, 3);
            v1->char_c.field_7E4 = v1->char_c.field_7E4 - 1.0;
            v1529 = 0.0;
            do
            {
              *(float *)&v1574 = (double)(unsigned int)get_MT_range(360);
              v1575 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
              v1576 = 0.0;
              v1373 = -*(float *)&v1574;
              v1374 = (unsigned __int8)(1 - 2 * (sinus(v1373) > 0.0));
              v1375 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1376 = -*(float *)&v1574;
              v1377 = sinus(v1376) * 20.0 + v1->char_c.meta.cEffectSprite.y;
              v1378 = v1377;
              v1379 = -*(float *)&v1574;
              v1380 = cosinus(v1379) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 971, v1380, v1378, v1375, v1374, (int)&v1574, 3);
              v1529 = v1529 + 1.0;
            }
            while ( v1529 < 2.0 );
            shake_camera(3.0);
          }
          if ( v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D2 )
          {
LABEL_2148:
            ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
          }
          else
          {
LABEL_2809:
            if ( viz_process(&v1->char_c) )
            {
              v1381 = v1->char_c.meta.vtbl->set_seq_func2;
              if ( v1->char_c.field_888 > 10 )
                v1381(&v1->char_c.meta, 754);
              else
                v1381(&v1->char_c.meta, 756);
            }
            if ( !v1->char_c.meta.viz.get_elaps_frames )
            {
              if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              {
                switch ( GAME_HARDNESS )
                {
                  case 0:
                    v1->char_c.field_7D0 = 150;
                    v1->char_c.field_7D2 = 300;
                    v1->char_c.field_7E4 = 10.0;
                    v1->char_c.field_7D4 = 150;
                    break;
                  case 1:
                    v1->char_c.field_7D0 = 120;
                    v1->char_c.field_7D2 = 270;
                    v1->char_c.field_7E4 = 16.0;
                    v1->char_c.field_7D4 = 200;
                    break;
                  case 2:
                    v1->char_c.field_7D0 = 120;
                    v1->char_c.field_7D2 = 240;
                    v1->char_c.field_7E4 = 22.0;
                    v1->char_c.field_7D4 = 300;
                    break;
                  case 3:
                    v1->char_c.field_7D0 = 90;
                    v1->char_c.field_7D2 = 210;
                    v1->char_c.field_7E4 = 30.0;
                    v1->char_c.field_7D4 = 400;
                    break;
                  default:
                    break;
                }
              }
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
              {
                shake_camera(15.0);
                char_c::play_sfx(&v1->char_c, 11);
              }
            }
          }
        }
        return;
      case 756:
        if ( !v1->char_c.meta.viz.get_subseq && !(v1->char_c.meta.viz.get_elaps_frames % 2) )
        {
          *(float *)&v1671 = (double)(unsigned int)get_MT_range(360);
          v1672 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1673 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1382 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v1383 = -*(float *)&v1671;
          v1384 = sinus(v1383);
          v1385 = v1384 * v1672 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
          v1386 = v1385;
          v1387 = -*(float *)&v1671;
          v1388 = cosinus(v1387);
          v1389 = (v1388 * v1672 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 970, v1389, v1386, v1382, 1, (int)&v1671, 3);
        }
        if ( v1->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_2810;
        if ( !(v1->char_c.meta.viz.get_elaps_frames % 180) )
          char_c::play_sfx(&v1->char_c, 7);
        if ( (unsigned int)get_MT_range(100) <= 0xA )
        {
          shake_camera(2.0);
          v1390 = 12;
          do
          {
            *(float *)&v1565 = -10.0 - (double)(unsigned int)get_MT_range(160);
            v1566 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 4.0;
            v1567 = (double)((unsigned int)get_MT_range(100) >= 0x32) + 2.0;
            v1391 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v1392 = v1->char_c.meta.cEffectSprite.x + 400.0;
            v1393 = -*(float *)&v1565;
            v1394 = sinus(v1393) * 20.0 + v1->char_c.meta.cEffectSprite.y;
            v1395 = v1394;
            v1396 = v1392 - (double)(unsigned int)get_MT_range(800);
            addbullet(&v1->char_c, 940, v1396, v1395, v1391, 1, (int)&v1565, 3);
            --v1390;
          }
          while ( v1390 );
        }
        if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) )
        {
          *(float *)&v1565 = (double)(unsigned int)get_MT_range(360);
          v1566 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1567 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1397 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v1398 = -*(float *)&v1565;
          v1399 = sinus(v1398);
          v1400 = v1399 * v1566 + v1->char_c.meta.cEffectSprite.y - (double)v1->char_c.meta.current_frame_params->extra_24byte[5];
          v1401 = v1400;
          v1402 = -*(float *)&v1565;
          v1403 = cosinus(v1402);
          v1404 = (v1403 * v1566 + (double)v1->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 970, v1404, v1401, v1397, 1, (int)&v1565, 3);
        }
        if ( v1->char_c.field_888 > 0 )
        {
LABEL_2810:
          if ( v1->char_c.meta.viz.get_subseq == 3 )
          {
            v1->char_c.meta.enemy->meta.hit_stop = 10;
            if ( !(v1->char_c.meta.viz.get_elaps_frames % 20) )
            {
              shake_camera(30.0);
              v1530 = 0.0;
              do
              {
                *(float *)&v1725 = (double)(unsigned int)get_MT_range(10) + v1530 * 18.0;
                v1726 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 30.0;
                v1727 = 0.0;
                v1405 = -*(float *)&v1725;
                v1406 = (unsigned __int8)(1 - 2 * (sinus(v1405) > 0.0));
                v1407 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1408 = -*(float *)&v1725;
                v1409 = sinus(v1408) * 20.0 + v1->char_c.meta.cEffectSprite.y;
                v1410 = v1409;
                v1411 = -*(float *)&v1725;
                v1412 = cosinus(v1411) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 971, v1412, v1410, v1407, v1406, (int)&v1725, 3);
                v1530 = v1530 + 1.0;
              }
              while ( v1530 < 20.0 );
            }
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 752);
          if ( !v1->char_c.meta.viz.get_elaps_frames )
          {
            if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              switch ( GAME_HARDNESS )
              {
                case 0:
                  v1->char_c.field_7D0 = 150;
                  v1->char_c.field_7D2 = 300;
                  v1->char_c.field_7E4 = 10.0;
                  v1->char_c.field_7D4 = 150;
                  break;
                case 1:
                  v1->char_c.field_7D0 = 120;
                  v1->char_c.field_7D2 = 270;
                  v1->char_c.field_7E4 = 16.0;
                  v1->char_c.field_7D4 = 200;
                  break;
                case 2:
                  v1->char_c.field_7D0 = 120;
                  v1->char_c.field_7D2 = 240;
                  v1->char_c.field_7E4 = 22.0;
                  v1->char_c.field_7D4 = 300;
                  break;
                case 3:
                  v1->char_c.field_7D0 = 90;
                  v1->char_c.field_7D2 = 210;
                  v1->char_c.field_7E4 = 30.0;
                  v1->char_c.field_7D4 = 400;
                  break;
                default:
                  break;
              }
            }
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
            {
              *(float *)&v1538 = 2.0;
              v1539 = 0.0;
              v1540 = 0.0;
              addbullet(&v1->char_c, 1250, 0.0, 0.0, 1, 2, (int)&v1538, 3);
              sub_43D380(3000, 0);
              v1->char_c.meta.enemy->win_count = 0;
              v1->char_c.meta.enemy->field_574 = 3;
              v1->char_c.meta.enemy->meta.health = 0;
              v1->char_c.meta.enemy->meta.field_1A4 = 2.0;
              v1->char_c.meta.enemy->meta.field_1A8 = 80.0;
              ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(77);
              v1->char_c.meta.enemy->field_4BA = 6000;
              shake_camera(30.0);
              char_c::play_sfx(&v1->char_c, 8);
              v1531 = 0.0;
              do
              {
                *(float *)&v1538 = (double)(unsigned int)get_MT_range(10) + v1531 * 18.0;
                v1539 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 30.0;
                v1540 = 0.0;
                v1413 = -*(float *)&v1538;
                v1414 = (unsigned __int8)(1 - 2 * (sinus(v1413) > 0.0));
                v1415 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1416 = -*(float *)&v1538;
                v1417 = sinus(v1416) * 20.0 + v1->char_c.meta.cEffectSprite.y;
                v1418 = v1417;
                v1419 = -*(float *)&v1538;
                v1420 = cosinus(v1419) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 971, v1420, v1418, v1415, v1414, (int)&v1538, 3);
                v1531 = v1531 + 1.0;
              }
              while ( v1531 < 20.0 );
              v1539 = 0.40000001;
              v1540 = 0.0;
              addbullet(&v1->char_c, 943, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1538, 3);
              v1539 = 0.30000001;
              v1540 = 1.0;
              addbullet(&v1->char_c, 943, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1538, 3);
              v1532 = 0.0;
              do
              {
                *(float *)&v1538 = -(double)(unsigned int)get_MT_range(70) - 20.0;
                v1539 = (double)(unsigned int)get_MT_range(80) * 0.1000000014901161 + 10.0;
                v1540 = (double)((unsigned int)get_MT_range(100) >= 0x32) + 4.0;
                v1421 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1422 = v1->char_c.meta.cEffectSprite.y;
                v1423 = v1422 - (double)(unsigned int)get_MT_range(200);
                v1424 = v1423;
                v1425 = (double)(unsigned int)get_MT_range(40) + v1532 * 85.0;
                addbullet(&v1->char_c, 900, v1425, v1424, v1421, 1, (int)&v1538, 3);
                v1532 = v1532 + 1.0;
              }
              while ( v1532 < 15.0 );
              v1426 = 12;
              do
              {
                *(float *)&v1538 = -10.0 - (double)(unsigned int)get_MT_range(160);
                v1539 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
                v1540 = (double)((unsigned int)get_MT_range(100) >= 0x32) + 2.0;
                v1427 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1428 = -*(float *)&v1538;
                v1429 = sinus(v1428) * 20.0 + v1->char_c.meta.cEffectSprite.y;
                v1430 = v1429;
                v1431 = -*(float *)&v1538;
                v1432 = cosinus(v1431) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 943, v1432, v1430, v1427, 1, (int)&v1538, 3);
                --v1426;
              }
              while ( v1426 );
            }
          }
        }
        else
        {
          v1->char_c.field_6F5 = 0;
          ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
        }
        return;
      case 770:
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 700);
        v1433 = v1->char_c.meta.viz.get_elaps_frames;
        if ( v1433 >= 110 )
          goto LABEL_499;
        if ( v1433 == 20 )
        {
          v1->char_c.field_6F5 = 1;
          sub_4685C0(&v1->char_c, -1);
          char_c::sub_46AB50(&v1->char_c, 2, -1);
          v1->char_c.meta.field_188 = 0;
          char_c::health_to_max(&v1->char_c);
          v1->char_c.field_868 = 1;
          v1->char_c.field_820 = 0;
          v1->char_c.field_81E = 1;
          v1->char_c.field_81A = 0;
          v1->char_c.field_818 = 0;
          scene_play_sfx(23);
          v1->char_c.field_882 = 1;
          v1->char_c.field_86A = 1;
          *(float *)&v1728 = 0.0;
          v1729 = 0.0;
          v1730 = 0.0;
          addbullet(&v1->char_c, 1201, 180.0, 130.0, 1, 2, (int)&v1728, 3);
          v1730 = 1.0;
          v1434 = v1->char_c.meta.cEffectSprite.y + 100.0;
          addbullet(&v1->char_c, 1202, v1->char_c.meta.cEffectSprite.x, v1434, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1728, 3);
        }
        return;
      case 771:
        viz_process(&v1->char_c);
        v1435 = v1->char_c.meta.viz.get_elaps_frames;
        if ( v1435 < 170 )
        {
          if ( v1435 == 80 )
          {
            v1->char_c.field_6F5 = 1;
            sub_4685C0(&v1->char_c, -1);
            char_c::sub_46AB50(&v1->char_c, 2, -1);
            v1->char_c.meta.field_188 = 0;
            char_c::health_to_max(&v1->char_c);
            v1->char_c.field_868 = 1;
            v1->char_c.field_820 = 0;
            v1->char_c.field_81E = 1;
            v1->char_c.field_81A = 0;
            v1->char_c.field_818 = 0;
            scene_play_sfx(23);
            v1->char_c.field_86A = 1;
            v1->char_c.field_888 = 60;
            v1->char_c.field_88A = 60;
            *(float *)&v1956 = 0.0;
            v1957 = 0.0;
            v1958 = 0.0;
            addbullet(&v1->char_c, 1203, 180.0, 130.0, 1, 2, (int)&v1956, 3);
          }
        }
        else
        {
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          *(float *)&v1950 = 0.0;
          v1951 = 0.0;
          v1952 = 0.0;
          addbullet(&v1->char_c, 949, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1950, 3);
        }
        return;
      case 780:
        if ( !v1->char_c.meta.viz.get_subseq )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - 1.25;
          if ( char_c::char_on_ground_down(&v1->char_c) )
          {
            char_c::play_sfx(&v1->char_c, 1);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            char_c::reset_forces(&v1->char_c);
            v1533 = 0.0;
            do
            {
              *(float *)&v1541 = (double)(unsigned int)get_MT_range(10) + v1533 * 18.0;
              v1542 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
              v1543 = 0.0;
              v1436 = -*(float *)&v1541;
              v1437 = (unsigned __int8)(1 - 2 * (sinus(v1436) > 0.0));
              v1438 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1439 = -*(float *)&v1541;
              v1440 = sinus(v1439) * 20.0 + v1->char_c.meta.cEffectSprite.y;
              v1441 = v1440;
              v1442 = -*(float *)&v1541;
              v1443 = cosinus(v1442) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 971, v1443, v1441, v1438, v1437, (int)&v1541, 3);
              v1533 = v1533 + 1.0;
            }
            while ( v1533 < 20.0 );
            v1542 = 0.40000001;
            v1543 = 0.0;
            addbullet(&v1->char_c, 900, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1541, 3);
            v1542 = 0.30000001;
            v1543 = 1.0;
            addbullet(&v1->char_c, 900, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1541, 3);
            v1534 = 0.0;
            do
            {
              *(float *)&v1541 = -(double)(unsigned int)get_MT_range(140) - 20.0;
              v1542 = (double)(unsigned int)get_MT_range(80) * 0.1000000014901161 + 10.0;
              v1543 = (double)((unsigned int)get_MT_range(100) >= 0x32) + 4.0;
              v1444 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1445 = -*(float *)&v1541;
              v1446 = sinus(v1445) * 20.0 + v1->char_c.meta.cEffectSprite.y;
              v1447 = v1446;
              v1448 = -*(float *)&v1541;
              v1449 = cosinus(v1448) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 981, v1449, v1447, v1444, 1, (int)&v1541, 3);
              v1534 = v1534 + 1.0;
            }
            while ( v1534 < 6.0 );
            v1450 = 12;
            do
            {
              *(float *)&v1541 = -10.0 - (double)(unsigned int)get_MT_range(160);
              v1542 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161 + 15.0;
              v1543 = (double)((unsigned int)get_MT_range(100) >= 0x32) + 2.0;
              v1451 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1452 = -*(float *)&v1541;
              v1453 = sinus(v1452) * 20.0 + v1->char_c.meta.cEffectSprite.y;
              v1454 = v1453;
              v1455 = -*(float *)&v1541;
              v1456 = cosinus(v1455) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 981, v1456, v1454, v1451, 1, (int)&v1541, 3);
              --v1450;
            }
            while ( v1450 );
            ((void (__thiscall *)(char_namazu *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            shake_camera(10.0);
          }
        }
        goto LABEL_2786;
      case 795:
        if ( v1->char_c.meta.viz.get_subseq )
          goto LABEL_2786;
        v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - 0.300000011920929;
        if ( !char_c::char_on_ground_down(&v1->char_c) )
          goto LABEL_2786;
        v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 1);
        scene_play_sfx(30);
LABEL_140:
        v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
        char_c::reset_forces(&v1->char_c);
        return;
      case 797:
        if ( v1->char_c.meta.viz.get_subseq <= 1 )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_2793;
        }
LABEL_144:
        v42 = v1;
LABEL_145:
        if ( viz_process(&v42->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
        return;
      case 798:
        if ( v1->char_c.meta.viz.get_subseq <= 1 && (v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force, (unsigned __int8)char_c::char_on_ground_down(&v1->char_c)) )
        {
LABEL_2793:
          v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
          scene_play_sfx(30);
LABEL_2138:
          v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
          v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
        }
        else
        {
          if ( v1->char_c.meta.viz.get_subseq == 2 )
          {
            v1457 = v1->char_c.meta.cEffectSprite.h_inerc - 0.75;
            v1->char_c.meta.cEffectSprite.h_inerc = v1457;
            if ( v1457 >= 0.0 )
            {
              v1458 = 800.0;
            }
            else
            {
              v1458 = 800.0;
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v1->char_c.meta.cEffectSprite.x = *(float *)&v1458;
            }
            if ( v1->char_c.meta.cEffectSprite.x < 800.0 )
              v1->char_c.meta.cEffectSprite.x = v1458;
          }
LABEL_2786:
          if ( viz_process(&v1->char_c) )
LABEL_2787:
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 700);
        }
        return;
      default:
LABEL_2803:
        char_c::func10(&v1->char_c);
        return;
    }
  }
  if ( v22 == 300 )
  {
LABEL_659:
    char_c::sub10func(&v1->char_c);
    if ( !get_true(0) )
    {
      if ( v1->char_c.field_49A )
      {
        v238 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
        v1->char_c.meta.cEffectSprite.h_inerc = v238;
        if ( v238 < 0.0 )
        {
          v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          v1->char_c.field_49A = 0;
        }
      }
      if ( viz_process(&v1->char_c) )
        v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
      if ( !v1->char_c.meta.viz.get_frame_time )
      {
        if ( v1->char_c.meta.viz.get_frame == 2 )
        {
          *(float *)&v1962 = 0.0;
          v1963 = 0.0;
          v1964 = 1.0;
          addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1962, 3);
        }
        if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
        {
          scene_play_sfx(28);
          v1->char_c.field_49A = 0;
        }
      }
    }
  }
  else
  {
    //start of big switch
    switch ( v22 )
    {
      case 0:
        char_c::sub10func(&v1->char_c);
        v23 = 0.0;
        if ( 0.0 == v1->char_c.meta.cEffectSprite.h_inerc )
          v1->char_c.field_49A = 0;
        if ( !v1->char_c.field_49A )
          goto LABEL_62;
        goto LABEL_63;
      case 1:
        char_c::sub10func(&v1->char_c);
        if ( v1->char_c.field_49A )
        {
          v26 = 0.0;
          if ( v1->char_c.meta.cEffectSprite.h_inerc > 0.0 )
          {
            v27 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v27;
            if ( v27 < 0.0 )
            {
              char_c::reset_forces(&v1->char_c);
              v26 = 0.0;
              v1->char_c.field_49A = 0;
            }
          }
          if ( v26 > v1->char_c.meta.cEffectSprite.h_inerc )
          {
            v28 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v28;
            if ( v28 > v26 )
            {
              char_c::reset_forces(&v1->char_c);
              v1->char_c.field_49A = 0;
            }
          }
        }
        else
        {
          char_c::reset_forces(&v1->char_c);
        }
        if ( viz_process(&v1->char_c) && !v1->char_c.meta.viz.get_frame )
          goto LABEL_79;
        return;
      case 2:
        char_c::sub10func(&v1->char_c);
        if ( v1->char_c.field_49A )
        {
          v23 = 0.0;
LABEL_63:
          if ( v23 < v1->char_c.meta.cEffectSprite.h_inerc )
          {
            v24 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v24;
            if ( v24 < v23 )
            {
              char_c::reset_forces(&v1->char_c);
              v23 = 0.0;
              v1->char_c.field_49A = 0;
            }
          }
          if ( v23 <= v1->char_c.meta.cEffectSprite.h_inerc || (v25 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5, v1->char_c.meta.cEffectSprite.h_inerc = v25, v25 <= v23) )
          {
LABEL_141:
            v41 = v1;
LABEL_142:
            viz_process(&v41->char_c);
          }
          else
          {
            char_c::reset_forces(&v1->char_c);
            v1->char_c.field_49A = 0;
            viz_process(&v1->char_c);
          }
        }
        else
        {
LABEL_62:
          char_c::reset_forces(&v1->char_c);
          viz_process(&v1->char_c);
        }
        return;
      case 3:
        char_c::sub10func(&v1->char_c);
        if ( v1->char_c.field_49A )
        {
          v29 = 0.0;
          if ( v1->char_c.meta.cEffectSprite.h_inerc > 0.0 )
          {
            v30 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v30;
            if ( v30 < 0.0 )
            {
              char_c::reset_forces(&v1->char_c);
              v29 = 0.0;
              v1->char_c.field_49A = 0;
            }
          }
          if ( v29 > v1->char_c.meta.cEffectSprite.h_inerc )
          {
            v31 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v31;
            if ( v31 > v29 )
            {
              char_c::reset_forces(&v1->char_c);
              v1->char_c.field_49A = 0;
            }
          }
        }
        else
        {
          char_c::reset_forces(&v1->char_c);
        }
        if ( viz_process(&v1->char_c) && !v1->char_c.meta.viz.get_frame )
          goto LABEL_92;
        return;
      case 4:
        char_c::sub10func(&v1->char_c);
        char_c::char_h_move(&v1->char_c, 4.0);
        viz_process(&v1->char_c);
        return;
      case 5:
        char_c::sub10func(&v1->char_c);
        char_c::char_h_move(&v1->char_c, -4.0);
        viz_process(&v1->char_c);
        return;
      case 6:
        if ( !v1->char_c.meta.viz.get_subseq )
          char_c::sub10func(&v1->char_c);
        v32 = v1->char_c.meta.viz.get_subseq == 0;
        v33 = v1->char_c.meta.viz.get_subseq < 0;
        if ( !v1->char_c.meta.viz.get_subseq )
        {
          if ( !v1->char_c.field_49A )
            char_c::reset_forces(&v1->char_c);
          v32 = v1->char_c.meta.viz.get_subseq == 0;
          v33 = v1->char_c.meta.viz.get_subseq < 0;
        }
        if ( !((unsigned __int8)v33 | (unsigned __int8)v32) )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_138;
        }
        viz_process(&v1->char_c);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.field_85C;
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.field_860;
          v1->char_c.meta.cEffectSprite.v_force = v1->char_c.field_864;
        }
        return;
      case 7:
        if ( !v1->char_c.meta.viz.get_subseq )
          char_c::sub10func(&v1->char_c);
        v34 = v1->char_c.meta.viz.get_subseq == 0;
        v35 = v1->char_c.meta.viz.get_subseq < 0;
        if ( !v1->char_c.meta.viz.get_subseq )
        {
          if ( !v1->char_c.field_49A )
            char_c::reset_forces(&v1->char_c);
          v34 = v1->char_c.meta.viz.get_subseq == 0;
          v35 = v1->char_c.meta.viz.get_subseq < 0;
        }
        if ( !((unsigned __int8)v35 | (unsigned __int8)v34) )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_138;
        }
        viz_process(&v1->char_c);
        if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
          return;
        v36 = 4.0;
        goto LABEL_121;
      case 8:
        if ( !v1->char_c.meta.viz.get_subseq )
          char_c::sub10func(&v1->char_c);
        v38 = v1->char_c.meta.viz.get_subseq == 0;
        v39 = v1->char_c.meta.viz.get_subseq < 0;
        if ( !v1->char_c.meta.viz.get_subseq )
        {
          if ( !v1->char_c.field_49A )
            char_c::reset_forces(&v1->char_c);
          v38 = v1->char_c.meta.viz.get_subseq == 0;
          v39 = v1->char_c.meta.viz.get_subseq < 0;
        }
        if ( !((unsigned __int8)v39 | (unsigned __int8)v38) )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_138;
        }
        viz_process(&v1->char_c);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          v36 = -4.0;
LABEL_121:
          v37 = v36;
          char_c::char_h_move(&v1->char_c, v37);
          v1->char_c.meta.cEffectSprite.v_inerc = 12.0;
          v1->char_c.meta.cEffectSprite.v_force = 0.40000001;
          v1->char_c.field_49A = 0;
        }
        return;
      case 9:
        if ( 0.0 == v1->char_c.meta.cEffectSprite.v_force )
          v1->char_c.meta.cEffectSprite.v_force = 0.60000002;
        v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
        if ( !char_c::char_on_ground_down(&v1->char_c) )
          goto LABEL_141;
LABEL_138:
        v40 = v1->char_c.meta.vtbl->set_seq_func2;
        move_val = 10;
        goto LABEL_139;
      case 10:
        char_c::sub10func(&v1->char_c);
        char_c::reset_forces(&v1->char_c);
        goto LABEL_144;
      case 50:
      case 51:
      case 52:
      case 53:
      case 54:
      case 55:
      case 56:
      case 57:
      case 58:
      case 59:
      case 60:
      case 61:
      case 62:
      case 63:
      case 64:
      case 65:
      case 66:
      case 67:
        v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - 0.3499999940395355;
        v43 = v1->char_c.meta.cEffectSprite.h_inerc + 0.1000000014901161;
        v1->char_c.meta.cEffectSprite.h_inerc = v43;
        if ( v43 > -1.0 )
          v1->char_c.meta.cEffectSprite.h_inerc = -1.0;
        if ( !v1->char_c.meta.has_shadow )
          v1->char_c.meta.has_shadow = 1;
        v44 = char_c::char_on_ground_down(&v1->char_c);
        v42 = v1;
        if ( !v44 )
          goto LABEL_145;
        char_c::play_sfx(&v1->char_c, 0);
        char_c::reset_forces(&v1->char_c);
        v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
        shake_camera(2.0);
        v1489 = 0.0;
        do
        {
          a4 = (double)(unsigned int)get_MT_range(10) + v1489 * 24.0;
          v1702 = (double)(unsigned int)get_MT_range(20) * 0.1000000014901161 + 10.0;
          v1703 = 0.0;
          v45 = -a4;
          y = (unsigned __int8)(1 - 2 * (sinus(v45) > 0.0));
          v47 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v48 = -a4;
          v49 = sinus(v48) * 20.0 + v1->char_c.meta.cEffectSprite.y;
          v50 = v49;
          a3 = -a4;
          v52 = cosinus(a3) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 971, v52, v50, v47, y, (int)&a4, 3);
          v1489 = v1489 + 1.0;
        }
        while ( v1489 < 15.0 );
        v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 10);
        return;
      case 70:
      case 71:
      case 72:
      case 73:
      case 74:
      case 75:
      case 76:
      case 77:
      case 78:
      case 79:
      case 80:
      case 81:
      case 82:
      case 83:
      case 84:
      case 85:
      case 86:
      case 87:
      case 88:
        v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - 0.300000011920929;
        v53 = v1->char_c.meta.cEffectSprite.h_inerc + 0.1000000014901161;
        v1->char_c.meta.cEffectSprite.h_inerc = v53;
        if ( v53 > -1.0 )
          v1->char_c.meta.cEffectSprite.h_inerc = -1.0;
        if ( !v1->char_c.meta.has_shadow )
          v1->char_c.meta.has_shadow = 1;
        if ( char_c::char_on_ground_down(&v1->char_c) )
        {
          v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
          char_c::play_sfx(&v1->char_c, 0);
          v1->char_c.field_7DC = v1->char_c.meta.cEffectSprite.h_inerc;
          v1->char_c.dash_angle = v1->char_c.meta.cEffectSprite.v_inerc;
          char_c::reset_forces(&v1->char_c);
          shake_camera(10.0);
          v1490 = 0.0;
          do
          {
            a1a = (double)(unsigned int)get_MT_range(10) + v1490 * 24.0;
            v1717 = (double)(unsigned int)get_MT_range(20) * 0.1000000014901161 + 10.0;
            v1718 = 0.0;
            v54 = -a1a;
            v55 = (unsigned __int8)(1 - 2 * (sinus(v54) > 0.0));
            v56 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v57 = -a1a;
            v58 = sinus(v57) * 20.0 + v1->char_c.meta.cEffectSprite.y;
            v59 = v58;
            v60 = -a1a;
            v61 = cosinus(v60) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 971, v61, v59, v56, v55, (int)&a1a, 3);
            v1490 = v1490 + 1.0;
          }
          while ( v1490 < 15.0 );
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 96);
        }
        else if ( viz_process(&v1->char_c) )
        {
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 199);
        }
        return;
      case 96:
        if ( v1->char_c.meta.viz.get_subseq == 1 )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - 0.2000000029802322;
          v62 = v1->char_c.meta.cEffectSprite.h_inerc + 0.1000000014901161;
          v1->char_c.meta.cEffectSprite.h_inerc = v62;
          if ( v62 > 0.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          if ( char_c::char_on_ground_down(&v1->char_c) )
          {
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            char_c::play_sfx(&v1->char_c, 0);
            char_c::reset_forces(&v1->char_c);
            shake_camera(2.0);
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 99);
            goto LABEL_170;
          }
        }
        else
        {
          char_c::sub10func(&v1->char_c);
        }
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.field_7DC * 0.2000000029802322;
          v1->char_c.meta.cEffectSprite.v_inerc = 0.2000000029802322 * -v1->char_c.dash_angle;
          v1->char_c.meta.cEffectSprite.v_force = 0.2;
        }
        return;
      case 99:
        char_c::sub10func(&v1->char_c);
        if ( v1->char_c.meta.viz.get_subseq == 3 )
        {
          v1->char_c.meta.has_shadow = 0;
          v65 = v1->char_c.meta.cEffectSprite.color_A;
          if ( (unsigned __int8)v65 <= 3u )
            v1->char_c.meta.cEffectSprite.color_A = 0;
          else
            v1->char_c.meta.cEffectSprite.color_A = v65 - 3;
        }
        if ( v1->char_c.meta.health <= 0 )
        {
          v1->char_c.field_51C = 3;
          v1->char_c.field_520 = 3;
        }
        viz_process(&v1->char_c);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
        {
          if ( !v1->char_c.field_576 && !v1->char_c.field_880 )
          {
            if ( v1->char_c.cards_added > 0 && LOBYTE(v1->char_c.controlling_type) == 2 && get_added_card_by_id((def_deque *)&v1->char_c.cards_active, 0)->id >= 248 )
            {
              char_c::health_to_max(&v1->char_c);
              v1->char_c.field_868 = 0;
            }
            v1->char_c.field_51C = 3;
            v1->char_c.field_520 = 3;
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 199);
            v1->char_c.field_574 = 0;
            v1->char_c.field_577 = 1;
          }
          v1->char_c.field_880 = 0;
        }
        return;
      case 149:
        v66 = v1->char_c.meta.cEffectSprite.v_inerc;
        if ( v66 <= 0.0 )
          v67 = v66 - v1->char_c.meta.cEffectSprite.v_force * 0.25;
        else
          v67 = v66 - v1->char_c.meta.cEffectSprite.v_force;
        v1->char_c.meta.cEffectSprite.v_inerc = v67;
        v68 = char_c::char_on_ground_down(&v1->char_c);
        v41 = v1;
        if ( !v68 )
          goto LABEL_142;
        char_c::play_sfx(&v1->char_c, 0);
        v1->char_c.field_7DC = v1->char_c.meta.cEffectSprite.h_inerc;
        v1->char_c.dash_angle = v1->char_c.meta.cEffectSprite.v_inerc;
        v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
        char_c::reset_forces(&v1->char_c);
        shake_camera(10.0);
        v1491 = 0.0;
        do
        {
          *(float *)&v1710 = (double)(unsigned int)get_MT_range(10) + v1491 * 24.0;
          v1711 = (double)(unsigned int)get_MT_range(20) * 0.1000000014901161 + 10.0;
          v1712 = 0.0;
          v69 = -*(float *)&v1710;
          v70 = (unsigned __int8)(1 - 2 * (sinus(v69) > 0.0));
          v71 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v72 = -*(float *)&v1710;
          v73 = sinus(v72) * 20.0 + v1->char_c.meta.cEffectSprite.y;
          v74 = v73;
          v75 = -*(float *)&v1710;
          v76 = cosinus(v75) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 971, v76, v74, v71, v70, (int)&v1710, 3);
          v1491 = v1491 + 1.0;
        }
        while ( v1491 < 15.0 );
        v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 96);
        v1->char_c.meta.cEffectSprite.angZ = 0.0;
        shake_camera(2.0);
        CEffectSprite::init(&v1->char_c.meta.cEffectSprite);
        return;
      case 199:
        char_c::sub10func(&v1->char_c);
        if ( v1->char_c.meta.health <= 0 )
        {
          v1->char_c.field_51C = 3;
          v1->char_c.field_520 = 3;
        }
        if ( viz_process(&v1->char_c) )
        {
          v1->char_c.field_51C = 3;
          v1->char_c.field_520 = 3;
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          if ( v1->char_c.meta.enemy->meta.cEffectSprite.x < (double)v1->char_c.meta.cEffectSprite.x )
            v1->char_c.meta.cEffectSprite.dir = -1;
          if ( v1->char_c.meta.enemy->meta.cEffectSprite.x > (double)v1->char_c.meta.cEffectSprite.x )
            v1->char_c.meta.cEffectSprite.dir = 1;
        }
        return;
      case 200:
        char_c::sub10func(&v1->char_c);
        v1->char_c.field_49A = 1;
        if ( v1->char_c.meta.cEffectSprite.h_inerc > 6.0 )
        {
          v77 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v1->char_c.meta.cEffectSprite.h_inerc = v77;
          if ( v77 < 6.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 6.0;
        }
        viz_process(&v1->char_c);
        if ( v1->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_226;
        if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
        {
          v78 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v79 = v1->char_c.meta.cEffectSprite.x + 50.0;
          v80 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
          v81 = v80;
          v82 = v79 - (double)(MT_getnext() % 0x64u);
          scene_add_effect(&v1->char_c, 124, v82, v81, v78, 1);
        }
        if ( v1->char_c.down_Y >= 0 )
        {
          v85 = ++v1->char_c.field_7D0;
          if ( (v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir > 0 || v85 <= 5) && v85 <= 60 )
          {
LABEL_226:
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {2
              char_c::char_h_move(&v1->char_c, 15.0);
              v86 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v87 = v1->char_c.meta.cEffectSprite.y + 80.0;
              v88 = v87;
              v89 = (double)(80 * (char)v86) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 125, v89, v88, v86, 1);
              v90 = v1->char_c.meta.cEffectSprite.y + 80.0;
              scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v90, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              scene_play_sfx(31);
            }
          }
          else
          {
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 204);
          }
        }
        else
        {
          v83 = v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir;
          v32 = v83 == 0;
          v33 = v83 < 0;
          v84 = v1->char_c.meta.vtbl->set_seq_func2;
          if ( (unsigned __int8)v33 | (unsigned __int8)v32 )
            v84(&v1->char_c.meta, 211);
          else
            v84(&v1->char_c.meta, 212);
        }
        return;
      case 201:
        v91 = v1->char_c.meta.viz.get_subseq;
        if ( !v91 || v91 == 4 )
          char_c::sub10func(&v1->char_c);
        if ( !(unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
        {
          v92 = v1->char_c.meta.cEffectSprite.x + 50.0;
          v93 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
          v94 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
          v95 = v94;
          v96 = v92 - (double)(MT_getnext() % 0x64u);
          scene_add_effect(&v1->char_c, 124, v96, v95, v93, 1);
        }
        if ( v1->char_c.meta.viz.get_subseq < 4 )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_239;
        }
        if ( viz_process(&v1->char_c) )
          goto LABEL_241;
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          char_c::char_h_move(&v1->char_c, -10.0);
          v1->char_c.meta.cEffectSprite.v_inerc = 2.0;
          v1->char_c.meta.cEffectSprite.v_force = 0.2;
          v97 = v1->char_c.meta.cEffectSprite.y + 80.0;
          scene_add_effect(&v1->char_c, 125, v1->char_c.meta.cEffectSprite.x, v97, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
          v98 = v1->char_c.meta.cEffectSprite.y + 80.0;
          scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v98, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
          scene_play_sfx(31);
        }
        return;
      case 202:
        v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v1->char_c) )
          goto LABEL_248;
        v99 = v1->char_c.meta.viz.get_subseq;
        if ( (v99 == 1 || v99 == 2) && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
        {
          v100 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v101 = v1->char_c.meta.cEffectSprite.x + 50.0;
          v102 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
          v103 = v102;
          v104 = v101 - (double)(MT_getnext() % 0x64u);
          scene_add_effect(&v1->char_c, 124, v104, v103, v100, 1);
        }
        viz_process(&v1->char_c);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          v1->char_c.field_7D0 = 0;
          char_c::char_h_move(&v1->char_c, 7.5);
          v1->char_c.meta.cEffectSprite.v_inerc = 3.5;
          v1->char_c.meta.cEffectSprite.v_force = 0.44999999;
          v105 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v106 = v1->char_c.meta.cEffectSprite.y + 110.0;
          v107 = v106;
          v108 = (double)(80 * (char)v105) + v1->char_c.meta.cEffectSprite.x;
          scene_add_effect(&v1->char_c, 125, v108, v107, v105, 1);
          v109 = v1->char_c.meta.cEffectSprite.y + 110.0;
          scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v109, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
          scene_play_sfx(31);
        }
        if ( v1->char_c.meta.viz.get_subseq == 2 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
          char_c::flip_with_force(&v1->char_c);
        return;
      case 203:
        v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v1->char_c) )
        {
          char_c::reset_forces(&v1->char_c);
          v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 10);
        }
        else
        {
          if ( v1->char_c.meta.viz.get_subseq < 2 && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v110 = v1->char_c.meta.cEffectSprite.x + 50.0;
            v111 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
            v112 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
            v113 = v112;
            v114 = v110 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v1->char_c, 124, v114, v113, v111, 1);
          }
          viz_process(&v1->char_c);
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 1 )
          {
            char_c::char_h_move(&v1->char_c, -7.5);
            v1->char_c.meta.cEffectSprite.v_inerc = 3.5;
            v1->char_c.meta.cEffectSprite.v_force = 0.44999999;
            v115 = v1->char_c.meta.cEffectSprite.y + 120.0;
            scene_add_effect(&v1->char_c, 125, v1->char_c.meta.cEffectSprite.x, v115, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
            v116 = v1->char_c.meta.cEffectSprite.y + 120.0;
            scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v116, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
            scene_play_sfx(31);
          }
          if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
            char_c::flip_with_force(&v1->char_c);
        }
        return;
      case 204:
        char_c::sub10func(&v1->char_c);
        v117 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
        v1->char_c.meta.cEffectSprite.h_inerc = v117;
        if ( v117 < 0.0 )
        {
          v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          v1->char_c.field_49A = 0;
        }
        if ( viz_process(&v1->char_c) )
        {
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          v1->char_c.field_49A = 0;
        }
        return;
      case 208:
        if ( !v1->char_c.meta.viz.get_subseq )
          char_c::sub10func(&v1->char_c);
        v118 = char_c::char_on_ground_down(&v1->char_c);
        v119 = v1;
        if ( v118 )
          goto LABEL_282;
        if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
          v1->char_c.field_522 = 2;
        if ( v1->char_c.meta.viz.get_subseq > 0 )
        {
          v120 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v1->char_c.meta.cEffectSprite.v_inerc = v120;
          if ( v120 < -20.0 )
            v1->char_c.meta.cEffectSprite.v_inerc = -20.0;
        }
        if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
          v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
        viz_process(&v1->char_c);
        if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
          return;
        v121 = 0.0;
        goto LABEL_297;
      case 209:
      case 212:
      case 221:
        if ( !v1->char_c.meta.viz.get_subseq )
          char_c::sub10func(&v1->char_c);
        v124 = char_c::char_on_ground_down(&v1->char_c);
        v119 = v1;
        if ( v124 )
          goto LABEL_282;
        if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
          v1->char_c.field_522 = 2;
        if ( v1->char_c.meta.viz.get_subseq > 0 )
        {
          v125 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v1->char_c.meta.cEffectSprite.v_inerc = v125;
          if ( v125 < -20.0 )
            v1->char_c.meta.cEffectSprite.v_inerc = -20.0;
        }
        if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
          v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
        viz_process(&v1->char_c);
        if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
          return;
        v126 = 10.0;
        goto LABEL_317;
      case 210:
      case 222:
        if ( !v1->char_c.meta.viz.get_subseq )
          char_c::sub10func(&v1->char_c);
        v128 = char_c::char_on_ground_down(&v1->char_c);
        v119 = v1;
        if ( v128 )
          goto LABEL_282;
        if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
          v1->char_c.field_522 = 2;
        if ( v1->char_c.meta.viz.get_subseq > 0 )
        {
          v129 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v1->char_c.meta.cEffectSprite.v_inerc = v129;
          if ( v129 < -20.0 )
            v1->char_c.meta.cEffectSprite.v_inerc = -20.0;
        }
        if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
          v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
        viz_process(&v1->char_c);
        if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
          return;
        v126 = -10.0;
LABEL_317:
        v127 = v126;
        char_c::char_h_move(&v1->char_c, v127);
        v1->char_c.meta.cEffectSprite.v_inerc = 13.5;
        v123 = 0.5;
        goto LABEL_298;
      case 211:
        if ( !v1->char_c.meta.viz.get_subseq )
          char_c::sub10func(&v1->char_c);
        v130 = char_c::char_on_ground_down(&v1->char_c);
        v119 = v1;
        if ( v130 )
          goto LABEL_282;
        if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
          v1->char_c.field_522 = 2;
        if ( v1->char_c.meta.viz.get_subseq > 0 )
        {
          v131 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v1->char_c.meta.cEffectSprite.v_inerc = v131;
          if ( v131 < -20.0 )
            v1->char_c.meta.cEffectSprite.v_inerc = -20.0;
        }
        if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
          v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
        viz_process(&v1->char_c);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          v121 = 2.0;
LABEL_297:
          v122 = v121;
          char_c::char_h_move(&v1->char_c, v122);
          v1->char_c.meta.cEffectSprite.v_inerc = 18.5;
          v123 = 0.55000001;
LABEL_298:
          v1->char_c.meta.cEffectSprite.v_force = v123;
          v1->char_c.field_49A = 0;
          scene_add_effect(&v1->char_c, 63, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
        }
        return;
      case 214:
        if ( viz_process(&v1->char_c) )
          goto LABEL_856;
        if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_363;
        scene_play_sfx(31);
        if ( v1->char_c.dash_angle >= 135.0 || v1->char_c.dash_angle <= -135.0 )
        {
          v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 6);
          return;
        }
        if ( v1->char_c.dash_angle > 45.0 || v1->char_c.dash_angle < -45.0 )
        {
          v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 4);
          return;
        }
LABEL_363:
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 9 )
          v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 5);
        if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 10 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 11) )
          goto LABEL_372;
        v132 = v1->char_c.down_Y;
        v133 = v1->char_c.meta.cEffectSprite.dir;
        v32 = v132 == 0;
        v134 = v132 < 0;
        v135 = v1->char_c.down_X;
        if ( (unsigned __int8)v134 | (unsigned __int8)v32 )
        {
          if ( v134 )
          {
            v137 = v133 * v135;
            if ( v137 <= 0 )
              v1->char_c.field_7D2 = v137 >= 0 ? 90 : 135;
            else
              v1->char_c.field_7D2 = 45;
          }
          else
          {
            v138 = v133 * v135;
            if ( v138 <= 0 )
            {
              if ( v138 < 0 )
                v1->char_c.field_7D2 = 180;
            }
            else
            {
              v1->char_c.field_7D2 = 0;
            }
          }
        }
        else
        {
          v136 = v133 * v135;
          if ( v136 <= 0 )
            v1->char_c.field_7D2 = v136 >= 0 ? -90 : -135;
          else
            v1->char_c.field_7D2 = -45;
        }
        v139 = v1->char_c.meta.viz.get_subseq;
        if ( v139 == 9 || v139 == 10 || v139 == 11 )
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
        v140 = v1->char_c.meta.viz.get_subseq;
        if ( v140 <= 0 || v140 >= 9 )
          goto LABEL_488;
        ++v1->char_c.field_7D6;
        v141 = v1->char_c.field_7D2 - (signed int)v1->char_c.dash_angle;
        v1->char_c.field_7D4 = v141;
        if ( v141 > 180 )
          v1->char_c.field_7D4 = v141 - 360;
        v142 = v1->char_c.field_7D4;
        if ( v142 < -180 )
          v1->char_c.field_7D4 = v142 + 360;
        if ( v1->char_c.dash_angle > 180.0 )
          v1->char_c.dash_angle = v1->char_c.dash_angle - 360.0;
        if ( v1->char_c.dash_angle < -180.0 )
          v1->char_c.dash_angle = v1->char_c.dash_angle + 360.0;
        v143 = v1->char_c.field_7D4 < 0;
        if ( v1->char_c.field_7D4 > 0 )
        {
          v144 = v1->char_c.dash_angle;
          if ( v1->char_c.weather_id )
            v145 = v144 + 5.0;
          else
            v145 = v144 + 6.0;
          v1->char_c.dash_angle = v145;
          v143 = v1->char_c.field_7D4 < 0;
        }
        if ( v143 )
        {
          if ( v1->char_c.weather_id )
            v146 = v1->char_c.dash_angle - 5.0;
          else
            v146 = v1->char_c.dash_angle - 6.0;
          v1->char_c.dash_angle = v146;
        }
        v1->char_c.meta.cEffectSprite.h_inerc = cosinus(v1->char_c.dash_angle) * v1->char_c.field_7DC;
        v1485 = sinus(v1->char_c.dash_angle) * v1->char_c.field_7DC;
        v1->char_c.meta.cEffectSprite.v_inerc = v1485;
        if ( v1->char_c.meta.cEffectSprite.y > 680.0 && v1485 > 0.0 )
          v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
        if ( v1->char_c.weather_id )
          char_c::spell_energy_spend(&v1->char_c, 8, 1);
        else
          char_c::spell_energy_spend(&v1->char_c, 4, 1);
        v147 = v1->char_c.meta.viz.get_subseq;
        if ( (v147 == 1 || v147 == 2) && (v1->char_c.dash_angle > 60.0 || v1->char_c.dash_angle < -60.0) )
        {
          v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 3);
          return;
        }
        if ( v147 == 4 || v147 == 5 )
        {
          if ( v1->char_c.dash_angle <= 45.0 && v1->char_c.dash_angle >= -45.0 )
          {
            v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 1);
            return;
          }
          if ( v1->char_c.dash_angle >= 135.0 || v1->char_c.dash_angle <= -135.0 )
            goto LABEL_486;
        }
        if ( (v147 == 6 || v147 == 7) && v1->char_c.dash_angle < 120.0 && v1->char_c.dash_angle > -120.0 )
        {
          v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 8);
          return;
        }
        v148 = v1->char_c.down_D;
        if ( (!v148 && v1->char_c.field_7D6 > 10 || v1->char_c.spell_energy <= 0) && (!v148 && v1->char_c.field_7D6 > 10 || v1->char_c.spell_energy <= 0) )
        {
          if ( v147 == 1 || v147 == 2 )
          {
            v149 = v1->char_c.meta.cEffectSprite.dir;
            v150 = v1->char_c.meta.cEffectSprite.x;
            if ( v149 == 1 )
            {
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x < v150 )
              {
                v1->char_c.meta.cEffectSprite.dir = -1;
                v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
              }
              v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 9);
            }
            else
            {
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x > v150 )
              {
                v1->char_c.meta.cEffectSprite.dir = -v149;
                v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
              }
              v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 9);
            }
          }
          if ( v1->char_c.meta.viz.get_subseq != 3 )
            goto LABEL_458;
          v1->char_c.field_7D0 = v1->char_c.meta.viz.get_frame;
          v151 = v1->char_c.meta.cEffectSprite.x;
          v152 = v1->char_c.meta.cEffectSprite.dir;
          if ( v152 == 1 )
          {
            v153 = v1;
            if ( v1->char_c.meta.enemy->meta.cEffectSprite.x < v151 )
            {
              v1->char_c.meta.cEffectSprite.dir = -1;
LABEL_453:
              v154 = v1->char_c.meta.vtbl->set_subseq_func3;
              v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
              v154(&v153->char_c.meta, 9);
              ((void (__thiscall *)(char_namazu *, _DWORD))v1->char_c.meta.vtbl->set_frame_func7)(v1, (unsigned __int16)v1->char_c.field_7D0);
              goto LABEL_458;
            }
          }
          else
          {
            if ( v1->char_c.meta.enemy->meta.cEffectSprite.x > v151 )
            {
              v1->char_c.meta.cEffectSprite.dir = -v152;
              v153 = v1;
              goto LABEL_453;
            }
            v153 = v1;
          }
          v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v153, 9);
          ((void (__thiscall *)(char_namazu *, _DWORD))v1->char_c.meta.vtbl->set_frame_func7)(v1, (unsigned __int16)v1->char_c.field_7D0);
LABEL_458:
          v155 = v1->char_c.meta.viz.get_subseq;
          if ( v155 == 4 || v155 == 5 )
          {
            v156 = v1->char_c.meta.cEffectSprite.dir;
            v157 = v1->char_c.meta.cEffectSprite.x;
            if ( v156 == 1 )
            {
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x < v157 )
              {
                v1->char_c.meta.cEffectSprite.dir = -1;
                v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
              }
              v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 10);
            }
            else
            {
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x > v157 )
              {
                v1->char_c.meta.cEffectSprite.dir = -v156;
                v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
              }
              v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 10);
            }
          }
          v158 = v1->char_c.meta.viz.get_subseq;
          if ( v158 == 6 || v158 == 7 )
          {
            v159 = v1->char_c.meta.cEffectSprite.dir;
            v160 = v1->char_c.meta.cEffectSprite.x;
            if ( v159 == 1 )
            {
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x < v160 )
              {
                v1->char_c.meta.cEffectSprite.dir = -1;
                v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
              }
              v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 11);
            }
            else
            {
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x > v160 )
              {
                v1->char_c.meta.cEffectSprite.dir = -v159;
                v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
              }
              v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 11);
            }
          }
          if ( v1->char_c.meta.viz.get_subseq == 8 )
          {
            v1->char_c.field_7D0 = v1->char_c.meta.viz.get_frame;
            v161 = v1->char_c.meta.cEffectSprite.x;
            v162 = v1->char_c.meta.cEffectSprite.dir;
            if ( v162 == 1 )
            {
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x >= v161 )
              {
                v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 11);
              }
              else
              {
                v1->char_c.meta.cEffectSprite.dir = -1;
                v163 = v1->char_c.meta.vtbl->set_subseq_func3;
                v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                v163(&v1->char_c.meta, 11);
              }
              ((void (__thiscall *)(char_namazu *, _DWORD))v1->char_c.meta.vtbl->set_frame_func7)(v1, (unsigned __int16)v1->char_c.field_7D0);
            }
            else
            {
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x <= v161 )
              {
                v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 11);
              }
              else
              {
                v1->char_c.meta.cEffectSprite.dir = -v162;
                v164 = v1->char_c.meta.vtbl->set_subseq_func3;
                v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                v164(&v1->char_c.meta, 11);
              }
              ((void (__thiscall *)(char_namazu *, _DWORD))v1->char_c.meta.vtbl->set_frame_func7)(v1, (unsigned __int16)v1->char_c.field_7D0);
            }
          }
          return;
        }
LABEL_488:
        if ( !char_c::char_on_ground_down(&v1->char_c) )
          return;
        v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
        v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
        v1->char_c.meta.cEffectSprite.v_force = 0.0;
        if ( v1->char_c.meta.viz.get_subseq >= 9 )
        {
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 10);
          char_c::reset_forces(&v1->char_c);
          return;
        }
LABEL_490:
        CEffectSprite::init(&v1->char_c.meta.cEffectSprite);
        v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 215);
        break;
      case 215:
        char_c::sub10func(&v1->char_c);
        if ( v1->char_c.meta.cEffectSprite.h_inerc > 0.0 )
        {
          v165 = v1->char_c.meta.cEffectSprite.h_inerc - 0.75;
          v1->char_c.meta.cEffectSprite.h_inerc = v165;
          if ( v165 < 0.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
        }
        if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 )
        {
          v166 = v1->char_c.meta.cEffectSprite.h_inerc + 0.75;
          v1->char_c.meta.cEffectSprite.h_inerc = v166;
          if ( v166 > 0.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
        }
        if ( viz_process(&v1->char_c) )
          goto LABEL_499;
        return;
      case 217:
        if ( viz_process(&v1->char_c) )
          goto LABEL_1884;
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          scene_play_sfx(31);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 6 )
          goto LABEL_1884;
        v167 = v1->char_c.meta.enemy;
        v168 = (v167->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
        v169 = v168;
        v170 = v167->meta.cEffectSprite.y + 100.0 - v1->char_c.meta.cEffectSprite.y;
        v1->char_c.field_7D2 = (signed int)atan2_deg(v170, v169);
        v171 = v1->char_c.meta.viz.get_subseq;
        if ( v171 == 5 || v171 == 6 )
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
        v172 = v1->char_c.meta.viz.get_subseq;
        if ( v172 > 0 && v172 < 5 )
        {
          ++v1->char_c.field_7D6;
          v173 = v1->char_c.field_7D2 - (signed int)v1->char_c.dash_angle;
          v1->char_c.field_7D4 = v173;
          if ( v173 > 180 )
            v1->char_c.field_7D4 = v173 - 360;
          v174 = v1->char_c.field_7D4;
          if ( v174 < -180 )
            v1->char_c.field_7D4 = v174 + 360;
          v175 = v1->char_c.field_7D4 < 0;
          if ( v1->char_c.field_7D4 > 0 )
          {
            v176 = v1->char_c.dash_angle;
            if ( v1->char_c.weather_id )
              v177 = v176 + 2.0;
            else
              v177 = v176 + 4.0;
            v1->char_c.dash_angle = v177;
            v175 = v1->char_c.field_7D4 < 0;
          }
          if ( v175 )
          {
            if ( v1->char_c.weather_id )
              v178 = v1->char_c.dash_angle - 2.0;
            else
              v178 = v1->char_c.dash_angle - 4.0;
            v1->char_c.dash_angle = v178;
          }
          v1->char_c.meta.cEffectSprite.h_inerc = cosinus(v1->char_c.dash_angle) * v1->char_c.field_7DC;
          v179 = sinus(v1->char_c.dash_angle) * v1->char_c.field_7DC;
          v180 = v179;
          v1->char_c.meta.cEffectSprite.v_inerc = v179;
          if ( v1->char_c.meta.cEffectSprite.y > 680.0 && v180 > 0.0 )
            v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
          v181 = v1->char_c.field_7DC + 0.300000011920929;
          v1->char_c.field_7DC = v181;
          if ( v181 > 9.0 )
            v1->char_c.field_7DC = 9.0;
          if ( v1->char_c.weather_id )
            char_c::spell_energy_spend(&v1->char_c, 8, 60);
          else
            char_c::spell_energy_spend(&v1->char_c, 4, 1);
          v1->char_c.meta.cEffectSprite.angZ = -v1->char_c.dash_angle;
          v182 = 0.0;
          if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 )
            v1->char_c.meta.cEffectSprite.angZ = 180.0 - v1->char_c.dash_angle;
          if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 && v1->char_c.meta.viz.get_subseq == 1 )
          {
            v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 3);
            v182 = 0.0;
          }
          if ( v182 <= v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 3 )
          {
            v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 1);
            v182 = 0.0;
          }
          if ( v182 > v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 2 )
          {
            v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 4);
            v182 = 0.0;
          }
          if ( v182 <= v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 4 )
            v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
          if ( v1->char_c.meta.viz.get_elaps_frames % 5 == 1 )
          {
            v183 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v184 = sinus(v1->char_c.dash_angle) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
            v185 = v184;
            v186 = cosinus(v1->char_c.dash_angle) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            scene_add_effect(&v1->char_c, 125, v186, v185, v183, 1);
          }
          if ( (v187 = v1->char_c.down_D) == 0 && v1->char_c.field_7D6 > 20 || v1->char_c.spell_energy <= 0 )
          {
            if ( !v187 && v1->char_c.field_7D6 > 20 || v1->char_c.spell_energy <= 0 )
            {
              CEffectSprite::init(&v1->char_c.meta.cEffectSprite);
              v188 = v1->char_c.meta.viz.get_subseq;
              if ( v188 == 1 || v188 == 2 )
              {
                v189 = v1->char_c.meta.cEffectSprite.dir;
                v190 = v1->char_c.meta.cEffectSprite.x;
                if ( v189 == 1 )
                {
                  if ( v1->char_c.meta.enemy->meta.cEffectSprite.x >= v190 )
                  {
                    v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 5);
                  }
                  else
                  {
                    v1->char_c.meta.cEffectSprite.dir = -1;
                    v191 = v1->char_c.meta.vtbl->set_subseq_func3;
                    v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                    v191(&v1->char_c.meta, 6);
                  }
                }
                else if ( v1->char_c.meta.enemy->meta.cEffectSprite.x <= v190 )
                {
                  v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 5);
                }
                else
                {
                  v1->char_c.meta.cEffectSprite.dir = -v189;
                  v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                  v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 6);
                }
              }
              v192 = v1->char_c.meta.viz.get_subseq;
              if ( v192 == 3 || v192 == 4 )
              {
                v193 = v1->char_c.meta.cEffectSprite.dir;
                v194 = v1->char_c.meta.cEffectSprite.x;
                if ( v193 == 1 )
                {
                  if ( v1->char_c.meta.enemy->meta.cEffectSprite.x >= v194 )
                  {
                    v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 6);
                  }
                  else
                  {
                    v1->char_c.meta.cEffectSprite.dir = -1;
                    v195 = v1->char_c.meta.vtbl->set_subseq_func3;
                    v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                    v195(&v1->char_c.meta, 5);
                  }
                }
                else if ( v1->char_c.meta.enemy->meta.cEffectSprite.x <= v194 )
                {
LABEL_486:
                  v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 6);
                }
                else
                {
                  v1->char_c.meta.cEffectSprite.dir = -v193;
                  v196 = v1->char_c.meta.vtbl->set_subseq_func3;
                  v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                  v196(&v1->char_c.meta, 5);
                }
              }
              return;
            }
          }
        }
        if ( !char_c::char_on_ground_down(&v1->char_c) )
          return;
        v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
        v1->char_c.meta.cEffectSprite.v_force = 0.0;
        v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
        if ( v1->char_c.meta.viz.get_subseq >= 5 )
        {
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 10);
          char_c::reset_forces(&v1->char_c);
          return;
        }
        goto LABEL_490;
      case 220:
        if ( !v1->char_c.meta.viz.get_subseq )
          char_c::sub10func(&v1->char_c);
        v197 = char_c::char_on_ground_down(&v1->char_c);
        v198 = v1;
        if ( v197 )
          goto LABEL_582;
        if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
          v1->char_c.field_522 = 2;
        if ( v1->char_c.meta.viz.get_subseq > 0 )
        {
          v199 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v1->char_c.meta.cEffectSprite.v_inerc = v199;
          if ( v199 < -20.0 )
            v1->char_c.meta.cEffectSprite.v_inerc = -20.0;
        }
        if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
          v1->char_c.meta.vtbl->set_subseq_func3((c_meta *)v1, 2);
        viz_process(&v1->char_c);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          char_c::char_h_move(&v1->char_c, 0.0);
          v1->char_c.meta.cEffectSprite.v_inerc = 18.5;
          v1->char_c.meta.cEffectSprite.v_force = 0.55000001;
          v1->char_c.field_49A = 0;
          scene_add_effect(&v1->char_c, 63, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
        }
        return;
      case 223:
        char_c::sub10func(&v1->char_c);
        v1->char_c.field_49A = 1;
        if ( v1->char_c.meta.cEffectSprite.h_inerc > 6.0 )
        {
          v200 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v1->char_c.meta.cEffectSprite.h_inerc = v200;
          if ( v200 < 6.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 6.0;
        }
        viz_process(&v1->char_c);
        if ( v1->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_2811;
        if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
        {
          v201 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v202 = v1->char_c.meta.cEffectSprite.x + 50.0;
          v203 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
          v204 = v203;
          v205 = v202 - (double)(MT_getnext() % 0x64u);
          scene_add_effect(&v1->char_c, 124, v205, v204, v201, 1);
        }
        if ( ((++v1->char_c.field_7D0, v206 = v1->char_c.field_7D0, v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir > 0) || v206 <= 15) && v206 <= 60 )
        {
LABEL_2811:
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          {
            char_c::char_h_move(&v1->char_c, 7.5);
            v207 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v208 = v1->char_c.meta.cEffectSprite.y + 80.0;
            v209 = v208;
            v210 = (double)(80 * (char)v207) + v1->char_c.meta.cEffectSprite.x;
            scene_add_effect(&v1->char_c, 125, v210, v209, v207, 1);
            v211 = v1->char_c.meta.cEffectSprite.y + 80.0;
            scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v211, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
            scene_play_sfx(31);
          }
        }
        else
        {
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 204);
        }
        return;
      case 224:
        v212 = v1->char_c.meta.viz.get_subseq;
        if ( !v212 || v212 == 4 )
          char_c::sub10func(&v1->char_c);
        if ( !(unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
        {
          v213 = v1->char_c.meta.cEffectSprite.x + 50.0;
          v214 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
          v215 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
          v216 = v215;
          v217 = v213 - (double)(MT_getnext() % 0x64u);
          scene_add_effect(&v1->char_c, 124, v217, v216, v214, 1);
        }
        if ( v1->char_c.meta.viz.get_subseq < 4 )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_239;
        }
        if ( viz_process(&v1->char_c) )
        {
LABEL_241:
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 0);
          v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
        }
        else if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          char_c::char_h_move(&v1->char_c, -10.0);
          v1->char_c.meta.cEffectSprite.v_inerc = 2.0;
          v1->char_c.meta.cEffectSprite.v_force = 0.2;
          v218 = v1->char_c.meta.cEffectSprite.y + 80.0;
          scene_add_effect(&v1->char_c, 125, v1->char_c.meta.cEffectSprite.x, v218, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
          v219 = v1->char_c.meta.cEffectSprite.y + 80.0;
          scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v219, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
          scene_play_sfx(31);
        }
        return;
      case 225:
        v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v1->char_c) )
          goto LABEL_248;
        if ( v1->char_c.meta.viz.get_subseq < 3 && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
        {
          v220 = v1->char_c.meta.cEffectSprite.x + 50.0;
          v221 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
          v222 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
          v223 = v222;
          v224 = v220 - (double)(MT_getnext() % 0x64u);
          scene_add_effect(&v1->char_c, 124, v224, v223, v221, 1);
        }
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 9);
        if ( !v1->char_c.meta.viz.get_subseq )
        {
          if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 1 )
          {
            char_c::char_h_move(&v1->char_c, -7.5);
            v1->char_c.meta.cEffectSprite.v_inerc = 3.5;
            v1->char_c.meta.cEffectSprite.v_force = 0.44999999;
            v225 = v1->char_c.meta.cEffectSprite.y + 120.0;
            scene_add_effect(&v1->char_c, 125, v1->char_c.meta.cEffectSprite.x, v225, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
            v226 = v1->char_c.meta.cEffectSprite.y + 120.0;
            scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v226, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
            scene_play_sfx(31);
          }
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 9 )
            char_c::flip_with_force(&v1->char_c);
        }
        return;
      case 226:
        v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v1->char_c) )
        {
LABEL_248:
          char_c::reset_forces(&v1->char_c);
          v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
          v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 10);
        }
        else
        {
          v227 = v1->char_c.meta.viz.get_subseq;
          if ( (v227 == 1 || v227 == 2) && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v228 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v229 = v1->char_c.meta.cEffectSprite.x + 50.0;
            v230 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
            v231 = v230;
            v232 = v229 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v1->char_c, 124, v232, v231, v228, 1);
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2((c_meta *)v1, 9);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          {
            v1->char_c.field_7D0 = 0;
            char_c::char_h_move(&v1->char_c, 7.5);
            v1->char_c.meta.cEffectSprite.v_inerc = 3.5;
            v1->char_c.meta.cEffectSprite.v_force = 0.44999999;
            v233 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v234 = v1->char_c.meta.cEffectSprite.y + 110.0;
            v235 = v234;
            v236 = (double)(80 * (char)v233) + v1->char_c.meta.cEffectSprite.x;
            scene_add_effect(&v1->char_c, 125, v236, v235, v233, 1);
            v237 = v1->char_c.meta.cEffectSprite.y + 110.0;
            scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v237, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
            scene_play_sfx(31);
          }
          if ( v1->char_c.meta.viz.get_subseq == 2 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
            char_c::flip_with_force(&v1->char_c);
        }
        return;
      default:
        goto LABEL_2803;
    }
  }
}