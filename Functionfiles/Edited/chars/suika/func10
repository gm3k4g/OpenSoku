void __thiscall char_suika::func10(char_suika *this)
{
  startpoint

  v1 = this;
  this->char_c.x_delta = 0;
  this->char_c.y_delta = 80;
  v2 = this->field_890;
  v3 = 2;
  if ( v2 > 0 )
  {
    this->field_890 = v2 - 1;
    if ( this->char_c.meta.enemy->meta.health <= 0 || this->char_c.meta.health <= 0 )
      this->field_890 = 0;
    char_c::spell_energy_spend(this->char_c.meta.enemy, 2, 30);
  }
  v4 = v1->field_892;
  if ( v4 > 0 )
  {
    v1->field_892 = v4 - 1;
    if ( v1->char_c.meta.enemy->meta.health <= 0 || v1->char_c.meta.health <= 0 )
      v1->field_892 = 0;
    v1->char_c.field_534 = v1->char_c.field_534 * 0.5;
  }
  if ( v1->field_894 )
  {
    v5 = v1->char_c.meta.cEffectSprite.y;
    if ( c_meta::getlvl_height(&v1->char_c) >= v5 && !(v1->char_c.meta.current_frame_params->fflags & 4) )
      v1->field_894 = 0;
  }
  v6 = 0.0;
  if ( v1->char_c.meta.playing_seq == 501 )
  {
    v7 = v1->char_c.meta.viz.get_subseq;
    if ( v7 <= 1 || v7 == 2 && v1->char_c.meta.viz.get_frame <= 4 )
    {
      v8 = v1->char_c.skills_1[0];
      v1387 = 0.0;
      if ( (char)v8 >= 1 )
        v1387 = 250.0;
      if ( (char)v8 >= 3 )
        v1387 = 500.0;
      if ( (char)v8 >= 4 )
        v1387 = 750.0;
      if ( v1387 > (double)v1->char_c.meta.field_188 )
        v1->char_c.field_538 = 0.0;
    }
  }
  if ( !v1->char_c.meta.hit_stop && !v1->char_c.meta.enemy->time_stop )
  {
    v9 = v1->char_c.meta.playing_seq;
    if ( v9 <= 300 )
    {
      if ( v9 == 300 )
      {
LABEL_523:
        char_c::sub10func(&v1->char_c);
        if ( !get_true(0) )
        {
          v177 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v1->char_c.meta.cEffectSprite.h_inerc = v177;
          if ( v177 < 0.0 )
          {
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            v1->char_c.field_49A = 0;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 3 )
              v1->char_c.meta.cEffectSprite.h_inerc = 4.0;
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
            {
              scene_play_sfx(28);
              v1->char_c.field_49A = 0;
            }
          }
        }
      }
      else
      {
        switch ( v9 )
        {
          case 0:
            char_c::sub10func(&v1->char_c);
            v10 = 0.0;
            if ( 0.0 == v1->char_c.meta.cEffectSprite.h_inerc )
              v1->char_c.field_49A = 0;
            if ( !v1->char_c.field_49A )
              goto LABEL_35;
            goto LABEL_36;
          case 1:
            char_c::sub10func(&v1->char_c);
            if ( v1->char_c.field_49A )
            {
              v13 = 0.0;
              if ( v1->char_c.meta.cEffectSprite.h_inerc > 0.0 )
              {
                v14 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
                v1->char_c.meta.cEffectSprite.h_inerc = v14;
                if ( v14 < 0.0 )
                {
                  char_c::reset_forces(&v1->char_c);
                  v13 = 0.0;
                  v1->char_c.field_49A = 0;
                }
              }
              if ( v13 > v1->char_c.meta.cEffectSprite.h_inerc )
              {
                v15 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
                v1->char_c.meta.cEffectSprite.h_inerc = v15;
                if ( v15 > v13 )
                {
                  char_c::reset_forces(&v1->char_c);
                  v1->char_c.field_49A = 0;
                }
              }
            }
            else
            {
              char_c::reset_forces(&v1->char_c);
            }
            if ( viz_process(&v1->char_c) )
            {
              if ( !v1->char_c.meta.viz.get_frame )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 2);
            }
            return;
          case 2:
            char_c::sub10func(&v1->char_c);
            if ( v1->char_c.field_49A )
            {
              v10 = 0.0;
LABEL_36:
              if ( v10 < v1->char_c.meta.cEffectSprite.h_inerc )
              {
                v11 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
                v1->char_c.meta.cEffectSprite.h_inerc = v11;
                if ( v11 < v10 )
                {
                  char_c::reset_forces(&v1->char_c);
                  v10 = 0.0;
                  v1->char_c.field_49A = 0;
                }
              }
              if ( v10 <= v1->char_c.meta.cEffectSprite.h_inerc || (v12 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5, v1->char_c.meta.cEffectSprite.h_inerc = v12, v12 <= v10) )
              {
LABEL_112:
                viz_process(&v1->char_c);
              }
              else
              {
                char_c::reset_forces(&v1->char_c);
                v1->char_c.field_49A = 0;
                viz_process(&v1->char_c);
              }
            }
            else
            {
LABEL_35:
              char_c::reset_forces(&v1->char_c);
              viz_process(&v1->char_c);
            }
            return;
          case 3:
            char_c::sub10func(&v1->char_c);
            if ( v1->char_c.field_49A )
            {
              v16 = 0.0;
              if ( v1->char_c.meta.cEffectSprite.h_inerc > 0.0 )
              {
                v17 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
                v1->char_c.meta.cEffectSprite.h_inerc = v17;
                if ( v17 < 0.0 )
                {
                  char_c::reset_forces(&v1->char_c);
                  v16 = 0.0;
                  v1->char_c.field_49A = 0;
                }
              }
              if ( v16 > v1->char_c.meta.cEffectSprite.h_inerc )
              {
                v18 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
                v1->char_c.meta.cEffectSprite.h_inerc = v18;
                if ( v18 > v16 )
                {
                  char_c::reset_forces(&v1->char_c);
                  v1->char_c.field_49A = 0;
                }
              }
            }
            else
            {
              char_c::reset_forces(&v1->char_c);
            }
            if ( viz_process(&v1->char_c) )
            {
              if ( !v1->char_c.meta.viz.get_frame )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            }
            return;
          case 4:
            char_c::sub10func(&v1->char_c);
            char_c::char_h_move(&v1->char_c, 5.5);
            viz_process(&v1->char_c);
            return;
          case 5:
            char_c::sub10func(&v1->char_c);
            char_c::char_h_move(&v1->char_c, -5.5);
            viz_process(&v1->char_c);
            return;
          case 6:
            v19 = v1->char_c.meta.viz.get_subseq == 0;
            v20 = v1->char_c.meta.viz.get_subseq < 0;
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              char_c::sub10func(&v1->char_c);
              v19 = v1->char_c.meta.viz.get_subseq == 0;
              v20 = v1->char_c.meta.viz.get_subseq < 0;
              if ( !v1->char_c.meta.viz.get_subseq )
              {
                if ( !v1->char_c.field_49A )
                  char_c::reset_forces(&v1->char_c);
                v19 = v1->char_c.meta.viz.get_subseq == 0;
                v20 = v1->char_c.meta.viz.get_subseq < 0;
              }
            }
            if ( !((unsigned __int8)v20 | (unsigned __int8)v19) )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
                goto LABEL_108;
            }
            viz_process(&v1->char_c);
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
              return;
            v21 = 0.0;
            goto LABEL_104;
          case 7:
            v22 = v1->char_c.meta.viz.get_subseq == 0;
            v23 = v1->char_c.meta.viz.get_subseq < 0;
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              char_c::sub10func(&v1->char_c);
              v22 = v1->char_c.meta.viz.get_subseq == 0;
              v23 = v1->char_c.meta.viz.get_subseq < 0;
              if ( !v1->char_c.meta.viz.get_subseq )
              {
                if ( !v1->char_c.field_49A )
                  char_c::reset_forces(&v1->char_c);
                v22 = v1->char_c.meta.viz.get_subseq == 0;
                v23 = v1->char_c.meta.viz.get_subseq < 0;
              }
            }
            if ( !((unsigned __int8)v23 | (unsigned __int8)v22) )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
                goto LABEL_108;
            }
            viz_process(&v1->char_c);
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
              return;
            v21 = 8.0;
            goto LABEL_104;
          case 8:
            v24 = v1->char_c.meta.viz.get_subseq == 0;
            v25 = v1->char_c.meta.viz.get_subseq < 0;
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              char_c::sub10func(&v1->char_c);
              v24 = v1->char_c.meta.viz.get_subseq == 0;
              v25 = v1->char_c.meta.viz.get_subseq < 0;
              if ( !v1->char_c.meta.viz.get_subseq )
              {
                if ( !v1->char_c.field_49A )
                  char_c::reset_forces(&v1->char_c);
                v24 = v1->char_c.meta.viz.get_subseq == 0;
                v25 = v1->char_c.meta.viz.get_subseq < 0;
              }
            }
            if ( !((unsigned __int8)v25 | (unsigned __int8)v24) )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
                goto LABEL_108;
            }
            viz_process(&v1->char_c);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v21 = -8.0;
LABEL_104:
              v26 = v21;
              char_c::char_h_move(&v1->char_c, v26);
              v1->char_c.meta.cEffectSprite.v_inerc = 16.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.75;
              v1->char_c.field_49A = 0;
            }
            return;
          case 9:
            if ( 0.0 == v1->char_c.meta.cEffectSprite.v_force )
              v1->char_c.meta.cEffectSprite.v_force = 0.60000002;
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_108;
            goto LABEL_112;
          case 10:
            char_c::sub10func(&v1->char_c);
            char_c::reset_forces(&v1->char_c);
            if ( viz_process(&v1->char_c) )
            {
              v29 = v1->char_c.meta.vtbl->set_seq_func2;
              if ( v1->char_c.down_Y )
                v29(&v1->char_c.meta, 2);
              else
                v29(&v1->char_c.meta, 0);
            }
            return;
          case 197:
            char_c::sub10func(&v1->char_c);
            if ( !viz_process(&v1->char_c) )
              goto LABEL_121;
            v30 = v1->char_c.meta.vtbl->set_seq_func2;
            v31 = v1;
            if ( LOBYTE(v1->char_c.controlling_type) == 2 )
              goto LABEL_158;
            v30(&v1->char_c.meta, 0);
            if ( v1->char_c.down_Y > 0 )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 1);
LABEL_121:
            if ( v1->char_c.meta.viz.get_elaps_frames )
              goto LABEL_131;
            if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame )
              goto LABEL_131;
            if ( v1->char_c.meta.viz.get_subseq != 2 )
              return;
            char_c::reset_forces(&v1->char_c);
LABEL_131:
            if ( v1->char_c.meta.viz.get_subseq != 2 )
              return;
            if ( v1->char_c.meta.viz.get_frame != 5 )
              return;
            v32 = v1->char_c.meta.viz.get_frame_time == 0;
            goto LABEL_164;
          case 198:
            char_c::sub10func(&v1->char_c);
            if ( !viz_process(&v1->char_c) )
              goto LABEL_139;
            v33 = v1->char_c.meta.vtbl->set_seq_func2;
            if ( LOBYTE(v1->char_c.controlling_type) == 2 )
            {
              v33(&v1->char_c.meta, 700);
              goto LABEL_159;
            }
            v33(&v1->char_c.meta, 0);
            if ( v1->char_c.down_Y > 0 )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 1);
LABEL_139:
            if ( v1->char_c.meta.viz.get_elaps_frames )
              goto LABEL_149;
            if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              v1->char_c.meta.cEffectSprite.h_inerc = -15.0;
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame )
              goto LABEL_149;
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              char_c::reset_forces(&v1->char_c);
LABEL_149:
              if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_frame == 5 && !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.enemy->meta.cEffectSprite.x < (double)v1->char_c.meta.cEffectSprite.x )
                  v1->char_c.meta.cEffectSprite.dir = -1;
                if ( v1->char_c.meta.enemy->meta.cEffectSprite.x > (double)v1->char_c.meta.cEffectSprite.x )
                  v1->char_c.meta.cEffectSprite.dir = 1;
              }
            }
            return;
          case 199:
            char_c::sub10func(&v1->char_c);
            if ( !viz_process(&v1->char_c) )
              goto LABEL_162;
            v30 = v1->char_c.meta.vtbl->set_seq_func2;
            v31 = v1;
            if ( LOBYTE(v1->char_c.controlling_type) == 2 )
            {
LABEL_158:
              v30(&v31->char_c.meta, 700);
LABEL_159:
              v1->char_c.field_51C = 3;
              v1->char_c.field_520 = 3;
            }
            else
            {
              v30(&v1->char_c.meta, 0);
              if ( v1->char_c.down_Y > 0 )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 1);
LABEL_162:
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                v32 = v1->char_c.meta.viz.get_frame == 11;
LABEL_164:
                if ( v32 )
                {
                  if ( v1->char_c.meta.enemy->meta.cEffectSprite.x < (double)v1->char_c.meta.cEffectSprite.x )
                    v1->char_c.meta.cEffectSprite.dir = -1;
                  if ( v1->char_c.meta.enemy->meta.cEffectSprite.x > (double)v1->char_c.meta.cEffectSprite.x )
                    v1->char_c.meta.cEffectSprite.dir = 1;
                }
              }
            }
            return;
          case 200:
            char_c::sub10func(&v1->char_c);
            v1->char_c.field_49A = 1;
            viz_process(&v1->char_c);
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_179;
            if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
            {
              v34 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v35 = v1->char_c.meta.cEffectSprite.x + 50.0;
              v36 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
              v37 = v36;
              v38 = v35 - (double)(MT_getnext() % 0x64u);
              scene_add_effect(&v1->char_c, 124, v38, v37, v34, 1);
            }
            if ( v1->char_c.down_Y >= 0 )
            {
              ++v1->char_c.field_7D0;
              if ( v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir > 0 && v1->char_c.field_7D0 <= 60 )
              {
LABEL_179:
                if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.meta.viz.get_frame == 3 && !v1->char_c.meta.viz.get_frame_time )
                {
                  char_c::char_h_move(&v1->char_c, 10.0);
                  v41 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v42 = v1->char_c.meta.cEffectSprite.y + 80.0;
                  v43 = v42;
                  v44 = (double)(80 * (char)v41) + v1->char_c.meta.cEffectSprite.x;
                  scene_add_effect(&v1->char_c, 125, v44, v43, v41, 1);
                  v45 = v1->char_c.meta.cEffectSprite.y + 80.0;
                  scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v45, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                  scene_play_sfx(31);
                }
              }
              else
              {
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 204);
              }
            }
            else
            {
              v39 = v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir;
              v19 = v39 == 0;
              v20 = v39 < 0;
              v40 = v1->char_c.meta.vtbl->set_seq_func2;
              if ( (unsigned __int8)v20 | (unsigned __int8)v19 )
                v40(&v1->char_c.meta, 211);
              else
                v40(&v1->char_c.meta, 212);
            }
            return;
          case 201:
            char_c::sub10func(&v1->char_c);
            v1->char_c.field_49A = 1;
            viz_process(&v1->char_c);
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
              {
                v46 = v1->char_c.meta.cEffectSprite.x + 50.0;
                v47 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
                v48 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
                v49 = v48;
                v50 = v46 - (double)(MT_getnext() % 0x64u);
                scene_add_effect(&v1->char_c, 124, v50, v49, v47, 1);
              }
              v51 = ++v1->char_c.field_7D0;
              if ( v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir >= 0 && v51 >= 10 )
                goto LABEL_482;
              if ( v51 > 60 )
                goto LABEL_482;
            }
            if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.meta.viz.get_frame == 3 && !v1->char_c.meta.viz.get_frame_time )
            {
              char_c::char_h_move(&v1->char_c, -10.0);
              v52 = v1->char_c.meta.cEffectSprite.y + 80.0;
              v53 = v52;
              v54 = (double)(80 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 125, v54, v53, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
              v55 = v1->char_c.meta.cEffectSprite.y + 80.0;
              scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v55, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
              scene_play_sfx(31);
            }
            return;
          case 202:
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_488;
            v56 = v1->char_c.meta.viz.get_subseq;
            if ( (v56 == 1 || v56 == 2) && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
            {
              v57 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v58 = v1->char_c.meta.cEffectSprite.x + 50.0;
              v59 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
              v60 = v59;
              v61 = v58 - (double)(MT_getnext() % 0x64u);
              scene_add_effect(&v1->char_c, 124, v61, v60, v57, 1);
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.viz.get_elaps_frames >= 16 )
              goto LABEL_215;
            viz_process(&v1->char_c);
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
            {
              v1->char_c.field_7D0 = 0;
              char_c::char_h_move(&v1->char_c, 11.0);
              v1->char_c.meta.cEffectSprite.v_inerc = 4.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
              v62 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v63 = v1->char_c.meta.cEffectSprite.y + 110.0;
              v64 = v63;
              v65 = (double)(80 * (char)v62) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 125, v65, v64, v62, 1);
              v66 = v1->char_c.meta.cEffectSprite.y + 110.0;
              scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v66, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              scene_play_sfx(31);
            }
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
              char_c::flip_with_force(&v1->char_c);
            return;
          case 203:
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_504;
            if ( v1->char_c.meta.viz.get_subseq < 2 && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
            {
              v67 = v1->char_c.meta.cEffectSprite.x + 50.0;
              v68 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
              v69 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
              v70 = v69;
              v71 = v67 - (double)(MT_getnext() % 0x64u);
              scene_add_effect(&v1->char_c, 124, v71, v70, v68, 1);
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_elaps_frames < 16 )
            {
              viz_process(&v1->char_c);
              if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
              {
                char_c::char_h_move(&v1->char_c, -11.0);
                v1->char_c.meta.cEffectSprite.v_inerc = 4.0;
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
                v72 = v1->char_c.meta.cEffectSprite.y + 120.0;
                scene_add_effect(&v1->char_c, 125, v1->char_c.meta.cEffectSprite.x, v72, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
                v73 = v1->char_c.meta.cEffectSprite.y + 120.0;
                scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v73, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
                scene_play_sfx(31);
              }
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
                char_c::flip_with_force(&v1->char_c);
            }
            else
            {
LABEL_215:
              ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              char_c::flip_with_force(&v1->char_c);
            }
            return;
          case 204:
            char_c::sub10func(&v1->char_c);
            v74 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v74;
            if ( v74 < 0.0 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v1->char_c.field_49A = 0;
            }
            goto LABEL_229;
          case 205:
            char_c::sub10func(&v1->char_c);
            v75 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v75;
            if ( v75 > 0.0 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v1->char_c.field_49A = 0;
            }
LABEL_229:
            if ( viz_process(&v1->char_c) )
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
              v1->char_c.field_49A = 0;
            }
            return;
          case 208:
            if ( !v1->char_c.meta.viz.get_subseq )
              char_c::sub10func(&v1->char_c);
            v76 = char_c::char_on_ground_down(&v1->char_c);
            v77 = &v1->char_c;
            if ( !v76 )
              goto LABEL_234;
            goto LABEL_445;
          case 209:
          case 212:
          case 221:
            if ( !v1->char_c.meta.viz.get_subseq )
              char_c::sub10func(&v1->char_c);
            v78 = char_c::char_on_ground_down(&v1->char_c);
            v27 = v1;
            if ( v78 )
              goto LABEL_109;
            if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
              v1->char_c.field_522 = 2;
            if ( v1->char_c.meta.viz.get_subseq > 0 )
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
            viz_process(&v1->char_c);
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
              return;
            v79 = 10.0;
            goto LABEL_462;
          case 210:
          case 222:
            if ( !v1->char_c.meta.viz.get_subseq )
              char_c::sub10func(&v1->char_c);
            v136 = char_c::char_on_ground_down(&v1->char_c);
            v27 = v1;
            if ( v136 )
              goto LABEL_109;
            if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
              v1->char_c.field_522 = 2;
            if ( v1->char_c.meta.viz.get_subseq > 0 )
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
            viz_process(&v1->char_c);
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
              return;
            v79 = -10.0;
LABEL_462:
            v137 = v79;
            char_c::char_h_move(&v1->char_c, v137);
            v1->char_c.meta.cEffectSprite.v_inerc = 16.0;
            v81 = 0.69999999;
            goto LABEL_463;
          case 211:
            if ( !v1->char_c.meta.viz.get_subseq )
              char_c::sub10func(&v1->char_c);
            v80 = char_c::char_on_ground_down(&v1->char_c);
            v27 = v1;
            if ( v80 )
              goto LABEL_109;
            if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
              v1->char_c.field_522 = 2;
            if ( v1->char_c.meta.viz.get_subseq > 0 )
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
            viz_process(&v1->char_c);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::char_h_move(&v1->char_c, 3.0);
              v1->char_c.meta.cEffectSprite.v_inerc = 19.0;
              v81 = 0.75;
LABEL_463:
              v1->char_c.meta.cEffectSprite.v_force = v81;
              v1->char_c.field_49A = 0;
              scene_add_effect(&v1->char_c, 63, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
            }
            return;
          case 214:
            if ( viz_process(&v1->char_c) )
              goto LABEL_728;
            if ( !v1->char_c.meta.viz.get_elaps_frames )
            {
              if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
                scene_play_sfx(31);
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 6 )
                goto LABEL_728;
            }
            v82 = v1->char_c.down_Y;
            v83 = v1->char_c.meta.cEffectSprite.dir;
            v19 = v82 == 0;
            v84 = v82 < 0;
            v85 = v1->char_c.down_X;
            if ( (unsigned __int8)v84 | (unsigned __int8)v19 )
            {
              if ( v84 )
              {
                v87 = v83 * v85;
                if ( v87 <= 0 )
                  v1->char_c.field_7D2 = v87 >= 0 ? 90 : 135;
                else
                  v1->char_c.field_7D2 = 45;
              }
              else
              {
                v88 = v83 * v85;
                if ( v88 <= 0 )
                {
                  if ( v88 < 0 )
                    v1->char_c.field_7D2 = 180;
                }
                else
                {
                  v1->char_c.field_7D2 = 0;
                }
              }
            }
            else
            {
              v86 = v83 * v85;
              if ( v86 <= 0 )
                v1->char_c.field_7D2 = v86 >= 0 ? -90 : -135;
              else
                v1->char_c.field_7D2 = -45;
            }
            v89 = v1->char_c.meta.viz.get_subseq;
            if ( v89 == 5 || v89 == 6 )
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v90 = v1->char_c.meta.viz.get_subseq;
            if ( v90 > 0 && v90 < 5 )
            {
              ++v1->char_c.field_7D6;
              v91 = v1->char_c.field_7D2 - (signed int)v1->char_c.dash_angle;
              v1->char_c.field_7D4 = v91;
              if ( v91 > 180 )
                v1->char_c.field_7D4 = v91 - 360;
              v92 = v1->char_c.field_7D4;
              if ( v92 < -180 )
                v1->char_c.field_7D4 = v92 + 360;
              v93 = v1->char_c.field_7D4 < 0;
              if ( v1->char_c.field_7D4 > 0 )
              {
                v94 = v1->char_c.dash_angle;
                if ( v1->char_c.weather_id )
                  v95 = v94 + 0.5;
                else
                  v95 = v94 + 1.5;
                v1->char_c.dash_angle = v95;
                v93 = v1->char_c.field_7D4 < 0;
              }
              if ( v93 )
              {
                if ( v1->char_c.weather_id )
                  v96 = v1->char_c.dash_angle - 0.5;
                else
                  v96 = v1->char_c.dash_angle - 1.5;
                v1->char_c.dash_angle = v96;
              }
              v1->char_c.meta.cEffectSprite.h_inerc = cosinus(v1->char_c.dash_angle) * v1->char_c.field_7DC;
              v1382 = sinus(v1->char_c.dash_angle) * v1->char_c.field_7DC;
              v1->char_c.meta.cEffectSprite.v_inerc = v1382;
              if ( v1->char_c.meta.cEffectSprite.y > 680.0 && v1382 > 0.0 )
                v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
              v97 = v1->char_c.field_7DC + 0.300000011920929;
              v1->char_c.field_7DC = v97;
              if ( v97 > 12.0 )
                v1->char_c.field_7DC = 12.0;
              if ( v1->char_c.weather_id )
                char_c::spell_energy_spend(&v1->char_c, 10, 1);
              else
                char_c::spell_energy_spend(&v1->char_c, 5, 1);
              v1->char_c.meta.cEffectSprite.angZ = -v1->char_c.dash_angle;
              v98 = 0.0;
              if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 )
                v1->char_c.meta.cEffectSprite.angZ = 180.0 - v1->char_c.dash_angle;
              if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 && v1->char_c.meta.viz.get_subseq == 1 )
              {
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
                v98 = 0.0;
              }
              if ( v98 <= v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 3 )
              {
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 1);
                v98 = 0.0;
              }
              if ( v98 > v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 2 )
              {
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 4);
                v98 = 0.0;
              }
              if ( v98 <= v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 4 )
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
              if ( v1->char_c.meta.viz.get_elaps_frames % 5 == 1 )
              {
                v99 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v100 = sinus(v1->char_c.dash_angle) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
                v101 = v100;
                v102 = cosinus(v1->char_c.dash_angle) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                scene_add_effect(&v1->char_c, 125, v102, v101, v99, 1);
              }
              if ( (v103 = v1->char_c.down_D) == 0 && v1->char_c.field_7D6 > 10 || v1->char_c.spell_energy <= 0 )
              {
                if ( !v103 && v1->char_c.field_7D6 > 10 || v1->char_c.spell_energy <= 0 )
                  goto LABEL_350;
              }
            }
            if ( !char_c::char_on_ground_down(&v1->char_c) )
              return;
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            v113 = 0.0;
            goto LABEL_438;
          case 215:
            char_c::sub10func(&v1->char_c);
            if ( v1->char_c.meta.cEffectSprite.h_inerc > 0.0 )
            {
              v114 = v1->char_c.meta.cEffectSprite.h_inerc - 0.75;
              v1->char_c.meta.cEffectSprite.h_inerc = v114;
              if ( v114 < 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            }
            if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 )
            {
              v115 = v1->char_c.meta.cEffectSprite.h_inerc + 0.75;
              v1->char_c.meta.cEffectSprite.h_inerc = v115;
              if ( v115 > 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            return;
          case 217:
            if ( viz_process(&v1->char_c) )
              goto LABEL_1110;
            if ( !v1->char_c.meta.viz.get_elaps_frames )
            {
              if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
                scene_play_sfx(31);
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 6 )
                goto LABEL_1110;
            }
            v116 = v1->char_c.meta.enemy;
            v117 = (v116->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
            v118 = v117;
            v119 = v116->meta.cEffectSprite.y + 100.0 - v1->char_c.meta.cEffectSprite.y;
            v1->char_c.field_7D2 = (signed int)atan2_deg(v119, v118);
            v120 = v1->char_c.meta.viz.get_subseq;
            if ( v120 == 5 || v120 == 6 )
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v121 = v1->char_c.meta.viz.get_subseq;
            if ( v121 <= 0 )
              goto LABEL_3297;
            if ( v121 >= 5 )
              goto LABEL_3297;
            ++v1->char_c.field_7D6;
            v122 = v1->char_c.field_7D2 - (signed int)v1->char_c.dash_angle;
            v1->char_c.field_7D4 = v122;
            if ( v122 > 180 )
              v1->char_c.field_7D4 = v122 - 360;
            v123 = v1->char_c.field_7D4;
            if ( v123 < -180 )
              v1->char_c.field_7D4 = v123 + 360;
            v124 = v1->char_c.field_7D4 < 0;
            if ( v1->char_c.field_7D4 > 0 )
            {
              v125 = v1->char_c.dash_angle;
              if ( v1->char_c.weather_id )
                v126 = v125 + 0.25;
              else
                v126 = v125 + 0.75;
              v1->char_c.dash_angle = v126;
              v124 = v1->char_c.field_7D4 < 0;
            }
            if ( v124 )
            {
              if ( v1->char_c.weather_id )
                v127 = v1->char_c.dash_angle - 0.25;
              else
                v127 = v1->char_c.dash_angle - 0.75;
              v1->char_c.dash_angle = v127;
            }
            v1->char_c.meta.cEffectSprite.h_inerc = cosinus(v1->char_c.dash_angle) * v1->char_c.field_7DC;
            v1383 = sinus(v1->char_c.dash_angle) * v1->char_c.field_7DC;
            v1->char_c.meta.cEffectSprite.v_inerc = v1383;
            if ( v1->char_c.meta.cEffectSprite.y > 680.0 && v1383 > 0.0 )
              v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
            v128 = v1->char_c.field_7DC + 0.300000011920929;
            v1->char_c.field_7DC = v128;
            if ( v128 > 12.0 )
              v1->char_c.field_7DC = 12.0;
            if ( v1->char_c.weather_id )
              char_c::spell_energy_spend(&v1->char_c, 15, 60);
            else
              char_c::spell_energy_spend(&v1->char_c, 10, 1);
            v1->char_c.meta.cEffectSprite.angZ = -v1->char_c.dash_angle;
            v129 = 0.0;
            if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 )
              v1->char_c.meta.cEffectSprite.angZ = 180.0 - v1->char_c.dash_angle;
            if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
              v129 = 0.0;
            }
            if ( v129 <= v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 3 )
            {
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 1);
              v129 = 0.0;
            }
            if ( v129 > v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 2 )
            {
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 4);
              v129 = 0.0;
            }
            if ( v129 <= v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 4 )
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
            if ( v1->char_c.meta.viz.get_elaps_frames % 5 == 1 )
            {
              v130 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v131 = sinus(v1->char_c.dash_angle) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
              v132 = v131;
              v133 = cosinus(v1->char_c.dash_angle) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 125, v133, v132, v130, 1);
            }
            if ( ((v134 = v1->char_c.down_D) != 0 || v1->char_c.field_7D6 <= 20) && v1->char_c.spell_energy > 0 || (v134 || v1->char_c.field_7D6 <= 20) && v1->char_c.spell_energy > 0 )
            {
LABEL_3297:
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v113 = 0.0;
                v1->char_c.meta.cEffectSprite.v_force = 0.0;
LABEL_438:
                v1->char_c.meta.cEffectSprite.v_inerc = v113;
                if ( v1->char_c.meta.viz.get_subseq >= 5 )
                {
                  v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
                  char_c::reset_forces(&v1->char_c);
                }
                else
                {
                  CEffectSprite::init(&v1->char_c.meta.cEffectSprite);
                  v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 215);
                }
              }
            }
            else
            {
LABEL_350:
              CEffectSprite::init(&v1->char_c.meta.cEffectSprite);
              v104 = v1->char_c.meta.viz.get_subseq;
              if ( v104 == 1 || v104 == 2 )
              {
                v105 = v1->char_c.meta.cEffectSprite.dir;
                v106 = v1->char_c.meta.cEffectSprite.x;
                if ( v105 == 1 )
                {
                  if ( v1->char_c.meta.enemy->meta.cEffectSprite.x >= v106 )
                  {
                    v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                  }
                  else
                  {
                    v1->char_c.meta.cEffectSprite.dir = -1;
                    v107 = v1->char_c.meta.vtbl->set_subseq_func3;
                    v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                    v107(&v1->char_c.meta, 6);
                  }
                }
                else if ( v1->char_c.meta.enemy->meta.cEffectSprite.x <= v106 )
                {
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                }
                else
                {
                  v1->char_c.meta.cEffectSprite.dir = -v105;
                  v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 6);
                }
              }
              v108 = v1->char_c.meta.viz.get_subseq;
              if ( v108 == 3 || v108 == 4 )
              {
                v109 = v1->char_c.meta.cEffectSprite.dir;
                v110 = v1->char_c.meta.cEffectSprite.x;
                if ( v109 == 1 )
                {
                  if ( v1->char_c.meta.enemy->meta.cEffectSprite.x >= v110 )
                  {
                    v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 6);
                  }
                  else
                  {
                    v1->char_c.meta.cEffectSprite.dir = -1;
                    v111 = v1->char_c.meta.vtbl->set_subseq_func3;
                    v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                    v111(&v1->char_c.meta, 5);
                  }
                }
                else if ( v1->char_c.meta.enemy->meta.cEffectSprite.x <= v110 )
                {
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 6);
                }
                else
                {
                  v1->char_c.meta.cEffectSprite.dir = -v109;
                  v112 = v1->char_c.meta.vtbl->set_subseq_func3;
                  v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                  v112(&v1->char_c.meta, 5);
                }
              }
            }
            return;
          case 220:
            if ( !v1->char_c.meta.viz.get_subseq )
              char_c::sub10func(&v1->char_c);
            v135 = char_c::char_on_ground_down(&v1->char_c);
            v77 = &v1->char_c;
            if ( v135 )
            {
LABEL_445:
              v1->char_c.meta.vtbl->set_seq_func2(&v77->meta, 10);
              goto LABEL_111;
            }
LABEL_234:
            if ( (unsigned __int8)char_c::char_on_ground_flag(v77) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
              v1->char_c.field_522 = 2;
            if ( v1->char_c.meta.viz.get_subseq > 0 )
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
            viz_process(&v1->char_c);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::char_h_move(&v1->char_c, 0.0);
              v1->char_c.meta.cEffectSprite.v_inerc = 21.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.75;
              v1->char_c.field_49A = 0;
              scene_add_effect(&v1->char_c, 63, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
            }
            break;
          case 223:
            char_c::sub10func(&v1->char_c);
            v1->char_c.field_49A = 1;
            viz_process(&v1->char_c);
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_3298;
            if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
            {
              v138 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v139 = v1->char_c.meta.cEffectSprite.x + 50.0;
              v140 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
              v141 = v140;
              v142 = v139 - (double)(MT_getnext() % 0x64u);
              scene_add_effect(&v1->char_c, 124, v142, v141, v138, 1);
            }
            if ( ((++v1->char_c.field_7D0, v143 = v1->char_c.field_7D0, v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir > 0) || v143 <= 9) && v143 <= 60 )
            {
LABEL_3298:
              if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.meta.viz.get_frame == 3 && !v1->char_c.meta.viz.get_frame_time )
              {
                char_c::char_h_move(&v1->char_c, 5.0);
                v144 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v145 = v1->char_c.meta.cEffectSprite.y + 80.0;
                v146 = v145;
                v147 = (double)(80 * (char)v144) + v1->char_c.meta.cEffectSprite.x;
                scene_add_effect(&v1->char_c, 125, v147, v146, v144, 1);
                v148 = v1->char_c.meta.cEffectSprite.y + 80.0;
                scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v148, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                scene_play_sfx(31);
              }
            }
            else
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 204);
            }
            return;
          case 224:
            char_c::sub10func(&v1->char_c);
            v1->char_c.field_49A = 1;
            viz_process(&v1->char_c);
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_3299;
            if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
            {
              v149 = v1->char_c.meta.cEffectSprite.x + 50.0;
              v150 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
              v151 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
              v152 = v151;
              v153 = v149 - (double)(MT_getnext() % 0x64u);
              scene_add_effect(&v1->char_c, 124, v153, v152, v150, 1);
            }
            if ( ((++v1->char_c.field_7D0, v154 = v1->char_c.field_7D0, v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir < 0) || v154 < 10) && v154 <= 60 )
            {
LABEL_3299:
              if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.meta.viz.get_frame == 3 && !v1->char_c.meta.viz.get_frame_time )
              {
                char_c::char_h_move(&v1->char_c, -10.0);
                v155 = v1->char_c.meta.cEffectSprite.y + 80.0;
                v156 = v155;
                v157 = (double)(80 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                scene_add_effect(&v1->char_c, 125, v157, v156, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
                v158 = v1->char_c.meta.cEffectSprite.y + 80.0;
                scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v158, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
                scene_play_sfx(31);
              }
            }
            else
            {
LABEL_482:
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 205);
            }
            return;
          case 225:
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
LABEL_488:
              char_c::reset_forces(&v1->char_c);
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
            }
            else
            {
              if ( v1->char_c.meta.viz.get_subseq < 2 && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
              {
                v159 = v1->char_c.meta.cEffectSprite.x + 50.0;
                v160 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
                v161 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
                v162 = v161;
                v163 = v159 - (double)(MT_getnext() % 0x64u);
                scene_add_effect(&v1->char_c, 124, v163, v162, v160, 1);
              }
              if ( viz_process(&v1->char_c) )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
              if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
              {
                char_c::char_h_move(&v1->char_c, -11.0);
                v1->char_c.meta.cEffectSprite.v_inerc = 4.0;
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
                v164 = v1->char_c.meta.cEffectSprite.y + 120.0;
                scene_add_effect(&v1->char_c, 125, v1->char_c.meta.cEffectSprite.x, v164, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
                v165 = v1->char_c.meta.cEffectSprite.y + 120.0;
                scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v165, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
                scene_play_sfx(31);
              }
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
                char_c::flip_with_force(&v1->char_c);
            }
            return;
          case 226:
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
LABEL_504:
              char_c::reset_forces(&v1->char_c);
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
            }
            else
            {
              v166 = v1->char_c.meta.viz.get_subseq;
              if ( (v166 == 1 || v166 == 2) && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
              {
                v167 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v168 = v1->char_c.meta.cEffectSprite.x + 50.0;
                v169 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
                v170 = v169;
                v171 = v168 - (double)(MT_getnext() % 0x64u);
                scene_add_effect(&v1->char_c, 124, v171, v170, v167, 1);
              }
              if ( viz_process(&v1->char_c) )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
              if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
              {
                v1->char_c.field_7D0 = 0;
                char_c::char_h_move(&v1->char_c, 11.0);
                v1->char_c.meta.cEffectSprite.v_inerc = 4.0;
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
                v172 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v173 = v1->char_c.meta.cEffectSprite.y + 110.0;
                v174 = v173;
                v175 = (double)(80 * (char)v172) + v1->char_c.meta.cEffectSprite.x;
                scene_add_effect(&v1->char_c, 125, v175, v174, v172, 1);
                v176 = v1->char_c.meta.cEffectSprite.y + 110.0;
                scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v176, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                scene_play_sfx(31);
              }
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
                char_c::flip_with_force(&v1->char_c);
            }
            return;
          default:
            goto LABEL_3248;
        }
      }
      return;
    }
    if ( v9 <= 500 )
    {
      if ( v9 != 500 )
      {
        switch ( v9 )
        {
          case 301:
            char_c::sub10func(&v1->char_c);
            if ( get_true(0) )
              return;
            if ( !v1->char_c.down_A )
              v1->char_c.not_charge_attack = 0;
            v178 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v178;
            if ( v178 < 0.0 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v1->char_c.field_49A = 0;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_3278;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
              goto LABEL_552;
            if ( v1->char_c.meta.viz.get_frame == 3 && v1->char_c.not_charge_attack )
            {
              ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              v179 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v180 = v1->char_c.meta.cEffectSprite.y + 150.0;
              v181 = v180;
              v182 = v1->char_c.meta.cEffectSprite.x - (double)(43 * (char)v179);
              scene_add_effect(&v1->char_c, 62, v182, v181, v179, 1);
              return;
            }
            if ( v1->char_c.meta.viz.get_frame == 6 )
            {
              scene_play_sfx(29);
              v1->char_c.field_49A = 0;
            }
LABEL_552:
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              return;
            if ( v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame == 2 )
              v1->char_c.meta.cEffectSprite.h_inerc = 10.0;
            if ( v1->char_c.meta.viz.get_frame_time )
              return;
            v183 = v1->char_c.meta.viz.get_frame == 4;
            goto LABEL_2811;
          case 302:
            char_c::sub10func(&v1->char_c);
            if ( get_true(1) )
              return;
            if ( !v1->char_c.down_A )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_3278;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
              goto LABEL_574;
            if ( v1->char_c.meta.viz.get_frame == 3 && v1->char_c.not_charge_attack )
            {
              ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              v184 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v185 = v1->char_c.meta.cEffectSprite.y + 135.0;
              v186 = v185;
              v187 = v1->char_c.meta.cEffectSprite.x - (double)(16 * (char)v184);
              scene_add_effect(&v1->char_c, 62, v187, v186, v184, 1);
            }
            else
            {
              if ( v1->char_c.meta.viz.get_frame == 6 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                *(float *)&a7 = 0.0;
                v1818 = 0.0;
                v1819 = 0.0;
                addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&a7, 3);
              }
LABEL_574:
              if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                *(float *)&v1784 = 0.0;
                v1785 = 0.0;
                v1786 = 3.0;
                addbullet(&v1->char_c, 848, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1784, 3);
              }
            }
            return;
          case 303:
            char_c::sub10func(&v1->char_c);
            if ( get_true(0) )
              return;
            if ( !v1->char_c.down_A )
              v1->char_c.not_charge_attack = 0;
            if ( v1->char_c.field_49A > 0 )
            {
              v188 = v1->char_c.meta.cEffectSprite.h_inerc - 0.6000000238418579;
              v1->char_c.meta.cEffectSprite.h_inerc = v188;
              if ( v188 < 0.0 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                v1->char_c.field_49A = 0;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 2);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_1032;
            if ( v1->char_c.meta.viz.get_subseq )
              goto LABEL_598;
            if ( v1->char_c.meta.viz.get_frame_time )
              goto LABEL_594;
            v190 = __OFSUB__(v1->char_c.meta.viz.get_frame, 3);
            v189 = (signed __int16)(v1->char_c.meta.viz.get_frame - 3) < 0;
            if ( v1->char_c.meta.viz.get_frame == 3 )
            {
              scene_play_sfx(28);
              v1->char_c.meta.cEffectSprite.h_inerc = 8.0;
              v1->char_c.field_49A = 0;
LABEL_594:
              v190 = __OFSUB__(v1->char_c.meta.viz.get_frame, 3);
              v189 = (signed __int16)(v1->char_c.meta.viz.get_frame - 3) < 0;
            }
            if ( (unsigned __int8)v189 ^ v190 )
            {
LABEL_598:
              v192 = 0.0;
            }
            else
            {
              v191 = v1->char_c.meta.cEffectSprite.h_inerc - 0.800000011920929;
              v1->char_c.meta.cEffectSprite.h_inerc = v191;
              v192 = 0.0;
              if ( v191 < 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              return;
            if ( v1->char_c.meta.viz.get_frame_time )
              goto LABEL_603;
            v194 = __OFSUB__(v1->char_c.meta.viz.get_frame, 2);
            v193 = (signed __int16)(v1->char_c.meta.viz.get_frame - 2) < 0;
            if ( v1->char_c.meta.viz.get_frame == 2 )
            {
              char_c::play_sfx(&v1->char_c, 1);
              shake_camera(5.0);
              *(float *)&v1577 = 0.0;
              v1578 = 0.0;
              v1579 = 4.0;
              v195 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v196 = v1->char_c.meta.cEffectSprite.y + 85.0;
              v197 = v196;
              v198 = (double)(175 * (char)v195) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 848, v198, v197, v195, 1, (int)&v1577, 3);
              *(float *)&v1577 = -10.0;
              v1579 = 2.0;
              v199 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v200 = v1->char_c.meta.cEffectSprite.y + 85.0;
              v201 = v200;
              v202 = (double)(175 * (char)v199) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 848, v202, v201, v199, 1, (int)&v1577, 3);
              v1->char_c.meta.cEffectSprite.h_inerc = 9.5;
              v1->char_c.field_49A = 0;
              v192 = 0.0;
LABEL_603:
              v194 = __OFSUB__(v1->char_c.meta.viz.get_frame, 2);
              v193 = (signed __int16)(v1->char_c.meta.viz.get_frame - 2) < 0;
            }
            if ( (unsigned __int8)v193 ^ v194 )
              return;
            v203 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v203;
            if ( v203 >= v192 )
              return;
            goto LABEL_2828;
          case 304:
            char_c::sub10func(&v1->char_c);
            if ( get_true(1) )
              return;
            if ( !v1->char_c.down_A )
              v1->char_c.not_charge_attack = 0;
            if ( v1->char_c.field_49A > 0 )
            {
              v204 = v1->char_c.meta.cEffectSprite.h_inerc - 0.6000000238418579;
              v1->char_c.meta.cEffectSprite.h_inerc = v204;
              if ( v204 < 0.0 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                v1->char_c.field_49A = 0;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 2);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_1032;
            if ( v1->char_c.meta.viz.get_subseq )
              goto LABEL_628;
            if ( v1->char_c.meta.viz.get_frame >= 6 )
            {
              v205 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v205;
              if ( v205 < 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            }
            if ( v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 4 )
              goto LABEL_628;
            if ( v1->char_c.not_charge_attack )
            {
              ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              v206 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v207 = v1->char_c.meta.cEffectSprite.y + 40.0;
              v208 = v207;
              v209 = (double)(34 * (char)v206) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 62, v209, v208, v206, 1);
            }
            else
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
              v1->char_c.field_49A = 0;
              scene_play_sfx(29);
LABEL_628:
              if ( v1->char_c.meta.viz.get_subseq == 1 )
              {
                if ( v1->char_c.meta.viz.get_frame >= 3 )
                {
                  v210 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
                  v1->char_c.meta.cEffectSprite.h_inerc = v210;
                  if ( v210 < 0.0 )
                    v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                }
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 1 )
                {
                  v1->char_c.meta.cEffectSprite.h_inerc = 22.5;
                  v1->char_c.field_49A = 0;
                  scene_play_sfx(29);
                }
              }
            }
            return;
          case 305:
            char_c::sub10func(&v1->char_c);
            if ( !get_true(0) )
            {
              if ( v1->char_c.meta.viz.get_frame > 16 )
              {
                v211 = v1->char_c.meta.cEffectSprite.h_inerc - 0.6000000238418579;
                v1->char_c.meta.cEffectSprite.h_inerc = v211;
                if ( v211 < 0.0 )
                  v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              }
              if ( viz_process(&v1->char_c) )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 5 )
                  scene_play_sfx(28);
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 16 )
                {
                  scene_play_sfx(29);
                  v1->char_c.meta.field_190 = 0;
                }
              }
            }
            return;
          case 306:
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
              goto LABEL_692;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
              scene_play_sfx(28);
            return;
          case 307:
            if ( !v1->char_c.down_A )
              v1->char_c.not_charge_attack = 0;
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::sub10func(&v1->char_c);
            }
            else
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                v28 = v1->char_c.meta.vtbl;
                v27 = v1;
                if ( v1->char_c.meta.field_190 )
                  goto LABEL_110;
                v28->set_subseq_func3(&v1->char_c.meta, 1);
                goto LABEL_111;
              }
              if ( v1->char_c.meta.viz.get_frame >= 3 )
              {
                v212 = v1->char_c.meta.cEffectSprite.h_inerc + 0.2000000029802322;
                v1->char_c.meta.cEffectSprite.h_inerc = v212;
                if ( v212 > -2.0 )
                  v1->char_c.meta.cEffectSprite.h_inerc = -2.0;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
            {
              char_c::play_sfx(&v1->char_c, 1);
              shake_camera(5.0);
              *(float *)&v1580 = 0.0;
              v1581 = 0.0;
              v1582 = 1.0;
              v213 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v214 = v1->char_c.meta.cEffectSprite.y + 62.0;
              v215 = v214;
              v216 = (double)(154 * (char)v213) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 848, v216, v215, v213, 1, (int)&v1580, 3);
              *(float *)&v1580 = 10.0;
              v1582 = 2.0;
              v217 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v218 = v1->char_c.meta.cEffectSprite.y + 62.0;
              v219 = v218;
              v220 = (double)(154 * (char)v217) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 848, v220, v219, v217, 1, (int)&v1580, 3);
              v1->char_c.meta.cEffectSprite.h_inerc = -12.5;
              v221 = 6.0;
              break;
            }
            return;
          case 308:
            if ( !v1->char_c.down_A )
              v1->char_c.not_charge_attack = 0;
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.0;
              return;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
            if ( v1->char_c.meta.viz.get_elaps_frames )
              goto LABEL_685;
            if ( v1->char_c.meta.viz.get_frame_time )
              return;
            if ( !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_1110;
LABEL_685:
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              v1->char_c.meta.field_190 = 0;
              v1->char_c.meta.field_194 = 1;
              v1->char_c.meta.cEffectSprite.h_inerc = -4.0;
              v1->char_c.meta.cEffectSprite.v_inerc = 7.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
              scene_play_sfx(29);
              char_c::play_sfx(&v1->char_c, 1);
              shake_camera(5.0);
              *(float *)&v1574 = 0.0;
              v1575 = 0.0;
              v1576 = 1.0;
              v222 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v223 = v1->char_c.meta.cEffectSprite.y - 55.0;
              v224 = v223;
              v225 = (double)(145 * (char)v222) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 848, v225, v224, v222, 1, (int)&v1574, 3);
              *(float *)&v1574 = 45.0;
              v1576 = 2.0;
              v226 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v227 = v1->char_c.meta.cEffectSprite.y - 55.0;
              v228 = v227;
              v229 = (double)(145 * (char)v226) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 848, v229, v228, v226, 1, (int)&v1574, 3);
            }
            return;
          case 309:
            if ( !v1->char_c.down_A )
              v1->char_c.not_charge_attack = 0;
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
LABEL_692:
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              v1->char_c.meta.cEffectSprite.v_force = 0.0;
              v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
            }
            else
            {
              if ( viz_process(&v1->char_c) )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
              if ( !v1->char_c.meta.viz.get_subseq )
              {
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
                {
                  if ( v1->char_c.meta.cEffectSprite.v_inerc < 0.0 )
                    v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
                  v1->char_c.meta.cEffectSprite.v_force = -0.2;
                }
                if ( !v1->char_c.meta.viz.get_subseq )
                {
                  if ( v1->char_c.meta.viz.get_frame_time )
                    return;
                  v230 = v1->char_c.meta.viz.get_frame;
                  if ( v230 == 5 || v230 == 7 || v230 == 9 || v230 == 11 )
                  {
                    scene_play_sfx(27);
                    v1->char_c.meta.field_190 = 0;
                    v1->char_c.meta.field_194 = 1;
                  }
                }
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 13 )
                  v1->char_c.meta.cEffectSprite.v_force = 0.5;
              }
            }
            return;
          case 310:
            if ( v1->char_c.meta.field_190 )
            {
              if ( ++v1->char_c.field_7D0 > 5 )
              {
                v1->char_c.meta.field_190 = 0;
                v1->char_c.field_7D0 = 0;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !v1->char_c.meta.viz.get_elaps_frames )
                v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
              if ( !(v1->char_c.meta.viz.get_elaps_frames % 8) )
                scene_play_sfx(27);
              if ( v1->char_c.meta.field_190 )
              {
                if ( ++v1->char_c.field_7D0 > 5 )
                {
                  v1->char_c.meta.field_190 = 0;
                  v1->char_c.field_7D0 = 0;
                }
              }
              if ( v1->char_c.meta.viz.get_elaps_frames > 30 )
              {
                ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                v1->char_c.meta.cEffectSprite.v_inerc = 6.0;
                v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.meta.cEffectSprite.h_inerc * 0.5;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
                return;
              }
            }
            if ( viz_process(&v1->char_c) )
              goto LABEL_728;
            return;
          case 320:
            char_c::sub10func(&v1->char_c);
            if ( get_true(0) )
              return;
            if ( v1->char_c.meta.viz.get_frame >= 5 )
            {
              v231 = v1->char_c.meta.cEffectSprite.h_inerc - 2.0;
              v1->char_c.meta.cEffectSprite.h_inerc = v231;
              if ( v231 < 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( v1->char_c.meta.viz.get_frame_time )
              return;
            v183 = v1->char_c.meta.viz.get_frame == 5;
            goto LABEL_2811;
          case 321:
            char_c::sub10func(&v1->char_c);
            if ( !get_true(1) )
            {
              if ( v1->char_c.meta.viz.get_frame > 3 )
              {
                v232 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
                v1->char_c.meta.cEffectSprite.h_inerc = v232;
                if ( v232 < 0.0 )
                  v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              }
              if ( viz_process(&v1->char_c) )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
              {
                v1->char_c.field_49A = 0;
                v1->char_c.meta.cEffectSprite.h_inerc = 16.5;
              }
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 6 )
                  v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
                  scene_play_sfx(29);
              }
            }
            return;
          case 322:
            v233 = v1->char_c.meta.viz.get_subseq;
            if ( !v233 || v233 == 3 )
            {
              char_c::sub10func(&v1->char_c);
              v6 = 0.0;
            }
            if ( v1->char_c.meta.viz.get_subseq < 3 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
                v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
                v1->char_c.meta.cEffectSprite.v_force = 0.0;
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              }
              v6 = 0.0;
            }
            if ( v1->char_c.meta.viz.get_subseq == 3 )
            {
              v234 = v1->char_c.meta.cEffectSprite.h_inerc - 0.800000011920929;
              v1->char_c.meta.cEffectSprite.h_inerc = v234;
              if ( v234 < v6 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = v6;
                v1->char_c.field_49A = 0;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              scene_play_sfx(29);
              v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
              v1->char_c.meta.cEffectSprite.v_inerc = 6.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.89999998;
            }
            return;
          case 330:
            goto LABEL_523;
          case 400:
            char_c::sub10func(&v1->char_c);
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_3278;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
              goto LABEL_784;
            if ( v1->char_c.meta.viz.get_frame == 4 && v1->char_c.not_charge_attack )
            {
              ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              v235 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v236 = v1->char_c.meta.cEffectSprite.y + 70.0;
              v237 = v236;
              v238 = v1->char_c.meta.cEffectSprite.x - (double)(40 * (char)v235);
              scene_add_effect(&v1->char_c, 62, v238, v237, v235, 1);
              return;
            }
            if ( v1->char_c.meta.viz.get_frame == 6 )
            {
              *(float *)&v1790 = 15.0;
              v1791 = 10.0;
              v1792 = 0.0;
              v239 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v240 = v1->char_c.meta.cEffectSprite.y + 100.0;
              v241 = v240;
              v242 = (double)(85 * (char)v239) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 800, v242, v241, v239, 1, (int)&v1790, 3);
              char_c::spell_energy_spend(&v1->char_c, 200, 45);
              char_c::add_card_energy(&v1->char_c, 30);
              v1->char_c.meta.field_190 = 1;
              char_c::play_sfx(&v1->char_c, 2);
            }
LABEL_784:
            if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time )
              return;
            v243 = v1->char_c.meta.viz.get_frame;
            if ( v243 == 3 )
              goto LABEL_790;
            if ( v243 != 8 && v243 != 13 )
              return;
            if ( v243 == 3 )
            {
LABEL_790:
              char_c::spell_energy_spend(&v1->char_c, 200, 45);
              char_c::add_card_energy(&v1->char_c, 30);
            }
            v1796 = 15.0;
            v1797 = 10.0;
            v1798 = 0.0;
            v244 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v245 = v1->char_c.meta.cEffectSprite.y + 100.0;
            v246 = v245;
            v247 = (double)(85 * (char)v244) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 800, v247, v246, v244, 1, (int)&v1796, 3);
            goto LABEL_1037;
          case 401:
            char_c::sub10func(&v1->char_c);
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
            {
              if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
              {
                char_c::spell_energy_spend(&v1->char_c, 200, 45);
                char_c::add_card_energy(&v1->char_c, 30);
                v248 = v1->char_c.meta.enemy;
                v249 = (v248->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
                v250 = v249;
                v251 = v248->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
                v252 = -atan2_deg(v251, v250);
                v1->char_c.field_7E4 = v252;
                if ( v252 < -20.0 )
                  v1->char_c.field_7E4 = -20.0;
                if ( v1->char_c.field_7E4 > 20.0 )
                  v1->char_c.field_7E4 = 20.0;
                v1658 = SLODWORD(v1->char_c.field_7E4);
                v1659 = 30.0;
                v1660 = 3.0;
                v253 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v254 = v1->char_c.meta.cEffectSprite.y + 100.0;
                v255 = v254;
                v256 = (double)(85 * (char)v253) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v256, v255, v253, 1, (int)&v1658, 3);
                v1->char_c.meta.field_190 = 1;
                char_c::play_sfx(&v1->char_c, 3);
              }
              if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
              {
                char_c::spell_energy_spend(&v1->char_c, 200, 45);
                char_c::add_card_energy(&v1->char_c, 30);
                v257 = v1->char_c.meta.enemy;
                v258 = (v257->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
                v259 = v258;
                v260 = v257->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
                v261 = -atan2_deg(v260, v259);
                v1->char_c.field_7E4 = v261;
                if ( v261 < -20.0 )
                  v1->char_c.field_7E4 = -20.0;
                if ( v1->char_c.field_7E4 > 20.0 )
                  v1->char_c.field_7E4 = 20.0;
                v1564 = SLODWORD(v1->char_c.field_7E4);
                v1565 = 30.0;
                v1566 = 3.0;
                v262 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v263 = v1->char_c.meta.cEffectSprite.y + 100.0;
                v264 = v263;
                v265 = (double)(85 * (char)v262) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v265, v264, v262, 1, (int)&v1564, 3);
                *(float *)&v1564 = v1->char_c.field_7E4 + 10.0;
                v266 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v267 = v1->char_c.meta.cEffectSprite.y + 100.0;
                v268 = v267;
                v269 = (double)(85 * (char)v266) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v269, v268, v266, 1, (int)&v1564, 3);
                *(float *)&v1564 = v1->char_c.field_7E4 - 10.0;
                v270 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v271 = v1->char_c.meta.cEffectSprite.y + 100.0;
                v272 = v271;
                v273 = (double)(85 * (char)v270) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v273, v272, v270, 1, (int)&v1564, 3);
                v1->char_c.meta.field_190 = 1;
                char_c::play_sfx(&v1->char_c, 3);
              }
            }
            else
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            }
            return;
          case 402:
            char_c::sub10func(&v1->char_c);
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( v1->char_c.field_49A > 0 )
            {
              v274 = v1->char_c.meta.cEffectSprite.h_inerc - 0.6000000238418579;
              v1->char_c.meta.cEffectSprite.h_inerc = v274;
              if ( v274 < 0.0 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                v1->char_c.field_49A = 0;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 2);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_1032;
            if ( v1->char_c.meta.viz.get_subseq )
              goto LABEL_838;
            if ( v1->char_c.meta.viz.get_frame_time )
              goto LABEL_835;
            if ( v1->char_c.meta.viz.get_frame == 2 && v1->char_c.not_charge_attack )
            {
              ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              v275 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v276 = v1->char_c.meta.cEffectSprite.y + 57.0;
              v277 = v276;
              v278 = (double)(28 * (char)v275) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 62, v278, v277, v275, 1);
              return;
            }
            if ( v1->char_c.meta.viz.get_frame == 3 )
            {
              scene_play_sfx(29);
              v1->char_c.field_49A = 0;
            }
LABEL_835:
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
            {
              char_c::spell_energy_spend(&v1->char_c, 200, 45);
              char_c::add_card_energy(&v1->char_c, 30);
              char_c::play_sfx(&v1->char_c, 1);
              v279 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v280 = (double)(198 * (char)v279) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 58, v280, 0.0, v279, -2);
              shake_camera(4.0);
            }
LABEL_838:
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              return;
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 1 )
                v1->char_c.meta.cEffectSprite.h_inerc = 10.0;
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 2 )
                {
                  scene_play_sfx(29);
                  v1->char_c.field_49A = 0;
                }
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
                {
                  v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                  char_c::play_sfx(&v1->char_c, 1);
                  char_c::spell_energy_spend(&v1->char_c, 200, 45);
                  char_c::add_card_energy(&v1->char_c, 30);
                  v281 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v282 = (double)(198 * (char)v281) + v1->char_c.meta.cEffectSprite.x;
                  scene_add_effect(&v1->char_c, 58, v282, 0.0, v281, -2);
                  shake_camera(7.0);
                  *(float *)&v1549 = 0.0;
                  v1550 = 0.0;
                  v1551 = 7.0;
                  v283 = (double)(210 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 800, v283, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1549, 3);
                  v1388 = 0.0;
                  do
                  {
                    *(float *)&v1549 = (double)(unsigned int)get_MT_range(40) + v1388 * 60.0 - 20.0;
                    v1550 = (double)(unsigned int)get_MT_range(8) + 30.0;
                    v1551 = 1.0;
                    if ( *(float *)&v1549 < 0.0 || *(float *)&v1549 > 180.0 )
                      v1->char_c.field_7D0 = -1;
                    else
                      v1->char_c.field_7D0 = 1;
                    v284 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v285 = (double)(40 * (char)v284) + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 811, v285, v1->char_c.meta.cEffectSprite.y, v284, LOBYTE(v1->char_c.field_7D0), (int)&v1549, 3);
                    v1388 = v1388 + 1.0;
                  }
                  while ( v1388 < 6.0 );
                }
              }
            }
            v286 = v1->char_c.meta.cEffectSprite.h_inerc - 0.699999988079071;
            v287 = v286;
            goto LABEL_2827;
          case 404:
            v289 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 2);
            v288 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 2) < 0;
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              char_c::sub10func(&v1->char_c);
              v289 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 2);
              v288 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 2) < 0;
            }
            if ( (unsigned __int8)v288 ^ v289 )
            {
              if ( !v1->char_c.down_B )
                v1->char_c.not_charge_attack = 0;
            }
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) && v1->char_c.meta.viz.get_subseq < 2 )
            {
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
              v1->char_c.air_dash_cnt = 0;
              goto LABEL_111;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
            {
LABEL_728:
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
              return;
            }
            if ( v1->char_c.meta.viz.get_subseq )
              goto LABEL_881;
            if ( v1->char_c.meta.viz.get_frame_time )
              goto LABEL_878;
            if ( v1->char_c.meta.viz.get_frame == 4 && v1->char_c.not_charge_attack )
            {
              ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              v290 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v291 = v1->char_c.meta.cEffectSprite.y + 80.0;
              v292 = v291;
              v293 = v1->char_c.meta.cEffectSprite.x - (double)(35 * (char)v290);
              scene_add_effect(&v1->char_c, 62, v293, v292, v290, 1);
              return;
            }
            if ( v1->char_c.meta.viz.get_frame == 6 )
            {
              char_c::spell_energy_spend(&v1->char_c, 200, 45);
              char_c::add_card_energy(&v1->char_c, 30);
              *(float *)&v1667 = 15.0;
              v1668 = 10.0;
              v1669 = 0.0;
              v294 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v295 = v1->char_c.meta.cEffectSprite.y + 100.0;
              v296 = v295;
              v297 = (double)(50 * (char)v294) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 800, v297, v296, v294, 1, (int)&v1667, 3);
              v1->char_c.meta.field_190 = 1;
              char_c::play_sfx(&v1->char_c, 2);
            }
LABEL_878:
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 9 )
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
LABEL_881:
            if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time )
              return;
            v298 = v1->char_c.meta.viz.get_frame;
            if ( v298 == 3 )
              goto LABEL_887;
            if ( v298 == 8 || v298 == 13 )
            {
              if ( v298 == 3 )
              {
LABEL_887:
                char_c::spell_energy_spend(&v1->char_c, 200, 45);
                char_c::add_card_energy(&v1->char_c, 30);
              }
              *(float *)&v1769 = 15.0;
              v1770 = 10.0;
              v1771 = 0.0;
              v299 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v300 = v1->char_c.meta.cEffectSprite.y + 100.0;
              v301 = v300;
              v302 = (double)(50 * (char)v299) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 800, v302, v301, v299, 1, (int)&v1769, 3);
              v1->char_c.meta.field_190 = 1;
              char_c::play_sfx(&v1->char_c, 2);
            }
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 16 )
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
            return;
          case 405:
            v304 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 2);
            v303 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 2) < 0;
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              char_c::sub10func(&v1->char_c);
              v304 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 2);
              v303 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 2) < 0;
            }
            if ( (unsigned __int8)v303 ^ v304 )
            {
              if ( !v1->char_c.down_B )
                v1->char_c.not_charge_attack = 0;
            }
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) && v1->char_c.meta.viz.get_subseq < 2 )
              goto LABEL_1103;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
              goto LABEL_1110;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 6 )
              {
                char_c::spell_energy_spend(&v1->char_c, 200, 45);
                char_c::add_card_energy(&v1->char_c, 30);
                v305 = v1->char_c.meta.enemy;
                v306 = (v305->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
                v307 = v306;
                v308 = v305->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
                v309 = -atan2_deg(v308, v307);
                v1->char_c.field_7E4 = v309;
                if ( v309 < -20.0 )
                  v1->char_c.field_7E4 = -20.0;
                if ( v1->char_c.field_7E4 > 20.0 )
                  v1->char_c.field_7E4 = 20.0;
                v1673 = SLODWORD(v1->char_c.field_7E4);
                v1674 = 30.0;
                v1675 = 3.0;
                v310 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v311 = v1->char_c.meta.cEffectSprite.y + 100.0;
                v312 = v311;
                v313 = (double)(50 * (char)v310) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v313, v312, v310, 1, (int)&v1673, 3);
                v1->char_c.meta.field_190 = 1;
                char_c::play_sfx(&v1->char_c, 3);
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 9 )
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame != 3 )
              goto LABEL_963;
            char_c::spell_energy_spend(&v1->char_c, 200, 45);
            char_c::add_card_energy(&v1->char_c, 30);
            v314 = v1->char_c.meta.enemy;
            v315 = (v314->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
            v316 = v315;
            v317 = v314->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
            v318 = -atan2_deg(v317, v316);
            v1->char_c.field_7E4 = v318;
            if ( v318 < -20.0 )
              v1->char_c.field_7E4 = -20.0;
            if ( v1->char_c.field_7E4 > 20.0 )
              v1->char_c.field_7E4 = 20.0;
            v1555 = SLODWORD(v1->char_c.field_7E4);
            v1556 = 30.0;
            v1557 = 3.0;
            v319 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v320 = v1->char_c.meta.cEffectSprite.y + 100.0;
            v321 = v320;
            v322 = (double)(50 * (char)v319) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 800, v322, v321, v319, 1, (int)&v1555, 3);
            *(float *)&v1555 = v1->char_c.field_7E4 + 10.0;
            v323 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v324 = v1->char_c.meta.cEffectSprite.y + 100.0;
            v325 = v324;
            v326 = (double)(50 * (char)v323) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 800, v326, v325, v323, 1, (int)&v1555, 3);
            a2 = &v1555;
            *(float *)&v1555 = v1->char_c.field_7E4 - 10.0;
            x = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v327 = v1->char_c.meta.cEffectSprite.y + 100.0;
            a4 = v327;
            v328 = (double)(50 * (char)x) + v1->char_c.meta.cEffectSprite.x;
            v329 = v328;
            goto LABEL_962;
          case 406:
            v331 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 2);
            v330 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 2) < 0;
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              char_c::sub10func(&v1->char_c);
              v331 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 2);
              v330 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 2) < 0;
            }
            if ( (unsigned __int8)v330 ^ v331 )
            {
              if ( !v1->char_c.down_B )
                v1->char_c.not_charge_attack = 0;
            }
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) && v1->char_c.meta.viz.get_subseq < 2 )
              goto LABEL_1103;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
              goto LABEL_1110;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 6 )
              {
                char_c::spell_energy_spend(&v1->char_c, 200, 45);
                char_c::add_card_energy(&v1->char_c, 30);
                v332 = v1->char_c.meta.enemy;
                v333 = (v332->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
                v334 = v333;
                v335 = v332->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
                v336 = -atan2_deg(v335, v334);
                v1->char_c.field_7E4 = v336;
                if ( v336 < 30.0 )
                  v1->char_c.field_7E4 = 30.0;
                if ( v1->char_c.field_7E4 > 45.0 )
                  v1->char_c.field_7E4 = 45.0;
                v1802 = SLODWORD(v1->char_c.field_7E4);
                v1803 = 30.0;
                v1804 = 3.0;
                v337 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v338 = v1->char_c.meta.cEffectSprite.y + 100.0;
                v339 = v338;
                v340 = (double)(50 * (char)v337) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v340, v339, v337, 1, (int)&v1802, 3);
                v1->char_c.meta.field_190 = 1;
                char_c::play_sfx(&v1->char_c, 3);
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 9 )
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 3 )
              {
                char_c::spell_energy_spend(&v1->char_c, 200, 45);
                char_c::add_card_energy(&v1->char_c, 30);
                v341 = v1->char_c.meta.enemy;
                v342 = (v341->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
                v343 = v342;
                v344 = v341->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
                v345 = -atan2_deg(v344, v343);
                v1->char_c.field_7E4 = v345;
                if ( v345 < 20.0 )
                  v1->char_c.field_7E4 = 20.0;
                if ( v1->char_c.field_7E4 > 60.0 )
                  v1->char_c.field_7E4 = 60.0;
                v1558 = SLODWORD(v1->char_c.field_7E4);
                v1559 = 30.0;
                v1560 = 3.0;
                v346 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v347 = v1->char_c.meta.cEffectSprite.y + 100.0;
                v348 = v347;
                v349 = (double)(50 * (char)v346) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v349, v348, v346, 1, (int)&v1558, 3);
                *(float *)&v1558 = v1->char_c.field_7E4 + 10.0;
                v350 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v351 = v1->char_c.meta.cEffectSprite.y + 100.0;
                v352 = v351;
                v353 = (double)(50 * (char)v350) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v353, v352, v350, 1, (int)&v1558, 3);
                a2 = &v1558;
                *(float *)&v1558 = v1->char_c.field_7E4 - 10.0;
                x = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v354 = v1->char_c.meta.cEffectSprite.y + 100.0;
                a4 = v354;
                v355 = (double)(50 * (char)x) + v1->char_c.meta.cEffectSprite.x;
                v329 = v355;
LABEL_962:
                a3 = v329;
                addbullet(&v1->char_c, 800, a3, a4, x, 1, (int)a2, 3);
                v1->char_c.meta.field_190 = 1;
                char_c::play_sfx(&v1->char_c, 3);
              }
LABEL_963:
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
            }
            return;
          case 408:
            char_c::sub10func(&v1->char_c);
            v357 = v1->char_c.meta.cEffectSprite.h_inerc;
            if ( v1->char_c.meta.viz.get_frame < 9 )
            {
              v358 = v357 - 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v358;
              if ( v358 < 10.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 10.0;
            }
            else
            {
              v1->char_c.meta.cEffectSprite.h_inerc = v357 - 0.699999988079071;
            }
            if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame == 4 )
              v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
            if ( v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame == 6 )
              scene_play_sfx(29);
            if ( v1->char_c.meta.viz.get_frame_time )
              return;
            v359 = v1->char_c.meta.viz.get_frame;
            if ( v359 == 7 || v359 == 8 )
              goto LABEL_2391;
            if ( v359 == 9 )
              v1->char_c.meta.field_190 = 0;
            return;
          case 409:
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
              goto LABEL_3102;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
            return;
          case 410:
            char_c::sub10func(&v1->char_c);
            if ( !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
            {
              if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
              {
                char_c::spell_energy_spend(&v1->char_c, 200, 60);
                char_c::add_card_energy(&v1->char_c, 50);
                *(float *)&v1679 = 10.0;
                v1680 = 8.0;
                v1681 = 0.0;
                v360 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v361 = v1->char_c.meta.cEffectSprite.y + 100.0;
                v362 = v361;
                v363 = (double)(85 * (char)v360) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 801, v363, v362, v360, 1, (int)&v1679, 3);
                v1->char_c.meta.field_190 = 1;
                char_c::play_sfx(&v1->char_c, 2);
              }
              if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
              {
                char_c::spell_energy_spend(&v1->char_c, 200, 60);
                char_c::add_card_energy(&v1->char_c, 50);
                v1775 = 10.0;
                v1776 = 8.0;
                a2a = (int *)&v1775;
                v1777 = 0.0;
                xa = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v364 = v1->char_c.meta.cEffectSprite.y + 100.0;
                a4a = v364;
                v365 = (double)(85 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                v366 = v365;
LABEL_1023:
                v373 = v366;
                addbullet(&v1->char_c, 801, v373, a4a, xa, 1, (int)a2a, 3);
                v1->char_c.meta.field_190 = 1;
                char_c::play_sfx(&v1->char_c, 2);
              }
            }
            else
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            }
            return;
          case 411:
            char_c::sub10func(&v1->char_c);
            if ( !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_1014;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              char_c::spell_energy_spend(&v1->char_c, 200, 60);
              char_c::add_card_energy(&v1->char_c, 50);
              *(float *)&v1685 = 30.0;
              v1686 = 8.0;
              v1687 = 0.0;
              v367 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v368 = v1->char_c.meta.cEffectSprite.y + 100.0;
              v369 = v368;
              v370 = (double)(85 * (char)v367) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v370, v369, v367, 1, (int)&v1685, 3);
              v1->char_c.meta.field_190 = 1;
              char_c::play_sfx(&v1->char_c, 2);
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 3 )
              return;
            char_c::spell_energy_spend(&v1->char_c, 200, 60);
            char_c::add_card_energy(&v1->char_c, 50);
            *(float *)&v1808 = 30.0;
            v1809 = 8.0;
            a2a = &v1808;
            v1810 = 0.0;
            xa = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v371 = v1->char_c.meta.cEffectSprite.y + 100.0;
            a4a = v371;
            v372 = (double)(85 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
            v366 = v372;
            goto LABEL_1023;
          case 412:
            char_c::sub10func(&v1->char_c);
            if ( !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 2);
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
            {
              if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
              {
                char_c::spell_energy_spend(&v1->char_c, 200, 60);
                char_c::add_card_energy(&v1->char_c, 50);
                *(float *)&v1691 = 10.0;
                v1692 = 17.5;
                v1693 = 0.0;
                v374 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v375 = v1->char_c.meta.cEffectSprite.y + 88.0;
                v376 = v375;
                v377 = (double)(18 * (char)v374) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 801, v377, v376, v374, 1, (int)&v1691, 3);
LABEL_1037:
                v1->char_c.meta.field_190 = 1;
                char_c::play_sfx(&v1->char_c, 2);
              }
            }
            else
            {
LABEL_1032:
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 2);
            }
            return;
          case 414:
            v379 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 2);
            v378 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 2) < 0;
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              char_c::sub10func(&v1->char_c);
              v379 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 2);
              v378 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 2) < 0;
            }
            if ( (unsigned __int8)v378 ^ v379 )
            {
              if ( !v1->char_c.down_B )
                v1->char_c.not_charge_attack = 0;
            }
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) && v1->char_c.meta.viz.get_subseq < 2 )
              goto LABEL_1103;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            v380 = v1->char_c.meta.viz.get_elaps_frames;
            if ( !v380 && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
              return;
            }
            if ( !v380 && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
              goto LABEL_1110;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 6 )
              {
                char_c::spell_energy_spend(&v1->char_c, 200, 60);
                char_c::add_card_energy(&v1->char_c, 50);
                *(float *)&v1781 = 10.0;
                v1782 = 8.0;
                v1783 = 0.0;
                v381 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v382 = v1->char_c.meta.cEffectSprite.y + 100.0;
                v383 = v382;
                v384 = (double)(50 * (char)v381) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 801, v384, v383, v381, 1, (int)&v1781, 3);
                v1->char_c.meta.field_190 = 1;
                char_c::play_sfx(&v1->char_c, 2);
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 9 )
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame != 3 )
              goto LABEL_1127;
            char_c::spell_energy_spend(&v1->char_c, 200, 60);
            char_c::add_card_energy(&v1->char_c, 50);
            v1697 = 10.0;
            v1698 = 8.0;
            a2b = &v1697;
            v1699 = 0.0;
            xb = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v385 = v1->char_c.meta.cEffectSprite.y + 100.0;
            a4b = v385;
            v386 = (double)(50 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
            v387 = v386;
            goto LABEL_1126;
          case 415:
            v389 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 2);
            v388 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 2) < 0;
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              char_c::sub10func(&v1->char_c);
              v389 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 2);
              v388 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 2) < 0;
            }
            if ( (unsigned __int8)v388 ^ v389 )
            {
              if ( !v1->char_c.down_B )
                v1->char_c.not_charge_attack = 0;
            }
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) && v1->char_c.meta.viz.get_subseq < 2 )
              goto LABEL_1103;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            v390 = v1->char_c.meta.viz.get_elaps_frames;
            if ( !v390 && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
              return;
            }
            if ( !v390 && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
              goto LABEL_1110;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 6 )
              {
                char_c::spell_energy_spend(&v1->char_c, 200, 60);
                char_c::add_card_energy(&v1->char_c, 50);
                *(float *)&v1814 = 30.0;
                v1815 = 8.0;
                v1816 = 0.0;
                v391 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v392 = v1->char_c.meta.cEffectSprite.y + 100.0;
                v393 = v392;
                v394 = (double)(50 * (char)v391) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 801, v394, v393, v391, 1, (int)&v1814, 3);
                v1->char_c.meta.field_190 = 1;
                char_c::play_sfx(&v1->char_c, 2);
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 9 )
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame != 3 )
              goto LABEL_1127;
            char_c::spell_energy_spend(&v1->char_c, 200, 60);
            char_c::add_card_energy(&v1->char_c, 50);
            v1703 = 30.0;
            v1704 = 8.0;
            a2b = &v1703;
            v1705 = 0.0;
            xb = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v395 = v1->char_c.meta.cEffectSprite.y + 100.0;
            a4b = v395;
            v396 = (double)(50 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
            v387 = v396;
            goto LABEL_1126;
          case 416:
            v398 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 2);
            v397 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 2) < 0;
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              char_c::sub10func(&v1->char_c);
              v398 = __OFSUB__(v1->char_c.meta.viz.get_subseq, 2);
              v397 = (signed __int16)(v1->char_c.meta.viz.get_subseq - 2) < 0;
            }
            if ( (unsigned __int8)v397 ^ v398 )
            {
              if ( !v1->char_c.down_B )
                v1->char_c.not_charge_attack = 0;
            }
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) && v1->char_c.meta.viz.get_subseq < 2 )
            {
LABEL_1103:
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
              v1->char_c.air_dash_cnt = 0;
              goto LABEL_111;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            v399 = v1->char_c.meta.viz.get_elaps_frames;
            if ( (v399 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1) && (v399 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 2) )
            {
              if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 6 )
                {
                  char_c::spell_energy_spend(&v1->char_c, 200, 60);
                  char_c::add_card_energy(&v1->char_c, 50);
                  *(float *)&v1787 = 10.0;
                  v1788 = 0.0;
                  v1789 = 0.0;
                  v400 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v401 = v1->char_c.meta.cEffectSprite.y + 100.0;
                  v402 = v401;
                  v403 = (double)(50 * (char)v400) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 801, v403, v402, v400, 1, (int)&v1787, 3);
                  v1->char_c.meta.field_190 = 1;
                  char_c::play_sfx(&v1->char_c, 2);
                }
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 9 )
                  v1->char_c.meta.cEffectSprite.v_force = 0.5;
              }
              if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 3 )
                {
                  char_c::spell_energy_spend(&v1->char_c, 200, 60);
                  char_c::add_card_energy(&v1->char_c, 50);
                  *(float *)&v1709 = 10.0;
                  v1710 = 0.0;
                  a2b = (float *)&v1709;
                  v1711 = 0.0;
                  xb = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v404 = v1->char_c.meta.cEffectSprite.y + 100.0;
                  a4b = v404;
                  v405 = (double)(50 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                  v387 = v405;
LABEL_1126:
                  v406 = v387;
                  addbullet(&v1->char_c, 801, v406, a4b, xb, 1, (int)a2b, 3);
                  v1->char_c.meta.field_190 = 1;
                  char_c::play_sfx(&v1->char_c, 2);
                }
LABEL_1127:
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
                  v1->char_c.meta.cEffectSprite.v_force = 0.5;
              }
            }
            else
            {
LABEL_1110:
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
            }
            return;
          case 418:
            v407 = v1->char_c.meta.viz.get_subseq;
            v3 = 5;
            if ( !v407 || v407 == 5 )
            {
              char_c::sub10func(&v1->char_c);
              if ( v1->char_c.meta.viz.get_subseq )
              {
                v6 = 0.0;
              }
              else
              {
                v408 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
                v1->char_c.meta.cEffectSprite.h_inerc = v408;
                v6 = 0.0;
                if ( v408 < 0.0 )
                  v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 2 && !(v1->char_c.meta.viz.get_elaps_frames % 15) )
            {
              scene_play_sfx(28);
              v6 = 0.0;
            }
            v409 = v1->char_c.meta.viz.get_subseq == 5;
            if ( v1->char_c.meta.viz.get_subseq >= 5 )
              goto LABEL_1148;
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v410 = v1->char_c.meta.viz.get_subseq;
            if ( v410 == 1 || v410 == 2 )
            {
              v411 = v1->char_c.meta.field_190;
              if ( v411 )
              {
                if ( v411 != 3 )
                {
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
                  v1->char_c.meta.cEffectSprite.h_inerc = -3.0;
                  v1->char_c.meta.cEffectSprite.v_inerc = 13.0;
                  v1->char_c.meta.cEffectSprite.v_force = 0.75;
                  v1->char_c.meta.field_190 = 1;
                  return;
                }
              }
            }
            v6 = 0.0;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.0;
              goto LABEL_2838;
            }
            v409 = v1->char_c.meta.viz.get_subseq == 5;
LABEL_1148:
            if ( v409 )
            {
              if ( v6 < v1->char_c.meta.cEffectSprite.h_inerc )
              {
                v412 = v1->char_c.meta.cEffectSprite.h_inerc - 1.0;
                v1->char_c.meta.cEffectSprite.h_inerc = v412;
                if ( v412 < v6 )
                  v1->char_c.meta.cEffectSprite.h_inerc = v6;
              }
              if ( v6 > v1->char_c.meta.cEffectSprite.h_inerc )
              {
                v413 = v1->char_c.meta.cEffectSprite.h_inerc + 1.0;
                v1->char_c.meta.cEffectSprite.h_inerc = v413;
                if ( v413 > v6 )
                  v1->char_c.meta.cEffectSprite.h_inerc = v6;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
              return;
            v1->char_c.meta.cEffectSprite.h_inerc = 12.0;
            v221 = 9.0;
            break;
          default:
            goto LABEL_3248;
        }
LABEL_3188:
        v1->char_c.meta.cEffectSprite.v_inerc = v221;
        v1->char_c.meta.cEffectSprite.v_force = 0.5;
        return;
      }
      char_c::sub10func(&v1->char_c);
      v1->char_c.meta.field_18C = 0;
      if ( !v1->char_c.down_B )
        v1->char_c.not_charge_attack = 0;
      if ( viz_process(&v1->char_c) )
        v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
      if ( v1->char_c.meta.viz.get_elaps_frames || (v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 3) && (v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 4) )
      {
        if ( v1->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1184;
        v414 = v1->char_c.field_7D0;
        if ( v414 < 14 || v1->char_c.not_charge_attack && v414 < 120 )
        {
LABEL_1181:
          if ( v414 == 30 )
          {
            v416 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v417 = v1->char_c.meta.cEffectSprite.y + 90.0;
            v418 = v417;
            v419 = v1->char_c.meta.cEffectSprite.x - (double)(5 * (char)v416);
            scene_add_effect(&v1->char_c, 62, v419, v418, v416, 1);
            v1->char_c.field_7D2 = 1;
          }
          ++v1->char_c.field_7D0;
LABEL_1184:
          v420 = v1->char_c.meta.viz.get_subseq;
          if ( (v420 == 2 || v420 == 3 || v420 == 4) && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
          {
            if ( v1->char_c.field_7D2 == 1 )
            {
              *(float *)&v1835 = 0.0;
              v1836 = 25.0;
              v1837 = 0.0;
              v1838 = 120.0;
              v421 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v422 = v1->char_c.meta.cEffectSprite.y + 70.0;
              v423 = v422;
              v424 = (double)(140 * (char)v421) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 810, v424, v423, v421, 1, (int)&v1835, 4);
              a2c = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              y = v1->char_c.meta.cEffectSprite.y;
              v425 = (double)(200 * (char)a2c) + v1->char_c.meta.cEffectSprite.x;
              v426 = v425;
LABEL_1191:
              v427 = v426;
              scene_add_effect(&v1->char_c, 128, v427, y, a2c, -1);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 10);
LABEL_1436:
              shake_camera(12.0);
            }
            else
            {
              *(float *)&v1843 = 0.0;
              v1844 = 8.0;
              v1845 = 0.0;
              v1846 = (double)(char)v1->char_c.skills_1[0] * 5.0 + 15.0;
              v428 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v429 = v1->char_c.meta.cEffectSprite.y + 70.0;
              v430 = v429;
              v431 = (double)(140 * (char)v428) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 810, v431, v430, v428, 1, (int)&v1843, 4);
              a2d = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              ya = v1->char_c.meta.cEffectSprite.y;
              v432 = (double)(200 * (char)a2d) + v1->char_c.meta.cEffectSprite.x;
              v433 = v432;
LABEL_1222:
              v450 = v433;
              scene_add_effect(&v1->char_c, 128, v450, ya, a2d, -1);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 10);
              shake_camera(8.0);
            }
          }
          return;
        }
        v415 = v1->char_c.skills_1[0];
        if ( (char)v415 > 1 )
        {
          if ( v415 == 2 || v415 == 3 )
          {
LABEL_2365:
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
            return;
          }
          if ( (char)v415 >= 4 )
          {
LABEL_3230:
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 4);
            return;
          }
          goto LABEL_1181;
        }
LABEL_2868:
        ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
        return;
      }
LABEL_3278:
      v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
      return;
    }
    if ( v9 > 770 )
    {
      v1334 = v9 - 795;
      if ( v1334 )
      {
        v1335 = v1334 - 2;
        if ( v1335 )
        {
          if ( v1335 != 1 )
          {
LABEL_3248:
            char_c::func10(&v1->char_c);
            return;
          }
          v1336 = v1->char_c.meta.viz.get_subseq;
          if ( !v1336 && v1->char_c.meta.viz.get_elaps_frames >= 0 )
            goto LABEL_2868;
          if ( v1336 == 1 && (v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force, (unsigned __int8)char_c::char_on_ground_down(&v1->char_c)) )
          {
            scene_play_sfx(30);
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            char_c::reset_forces(&v1->char_c);
            v1457 = 0.0;
            do
            {
              *(float *)&v1631 = (double)(unsigned int)get_MT_range(40) + v1457 * 36.0 - 20.0;
              v1632 = (double)(unsigned int)get_MT_range(8) + 30.0;
              v1633 = 1.0;
              if ( *(float *)&v1631 < 0.0 || *(float *)&v1631 > 180.0 )
                v1->char_c.field_7D0 = -1;
              else
                v1->char_c.field_7D0 = 1;
              v1337 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1338 = (double)(40 * (char)v1337) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 811, v1338, v1->char_c.meta.cEffectSprite.y, v1337, LOBYTE(v1->char_c.field_7D0), (int)&v1631, 3);
              v1457 = v1457 + 1.0;
            }
            while ( v1457 < 10.0 );
          }
          else
          {
            v1339 = v1->char_c.meta.viz.get_subseq;
            if ( (!v1339 || v1339 == 1) && !(v1->char_c.meta.viz.get_elaps_frames % 4) )
            {
              *(float *)&v1760 = (double)(unsigned int)get_MT_range(360);
              v1340 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161;
              v1761 = v1340 + 6.0;
              v1762 = 1.0;
              v1341 = v1->char_c.meta.cEffectSprite.y + 100.0;
              addbullet(&v1->char_c, 999, v1->char_c.meta.cEffectSprite.x, v1341, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1760, 3);
            }
            if ( v1->char_c.meta.viz.get_subseq == 3 && v1->char_c.field_7D4 == 1 )
              goto LABEL_2868;
            if ( viz_process(&v1->char_c) )
LABEL_3259:
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
          }
        }
        else
        {
          v1342 = v1->char_c.meta.viz.get_subseq;
          if ( !v1342 && v1->char_c.meta.viz.get_elaps_frames >= 0 )
            goto LABEL_2868;
          if ( v1342 != 1 || (v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force, !char_c::char_on_ground_down(&v1->char_c)) )
          {
            v1345 = v1->char_c.meta.viz.get_subseq;
            if ( (!v1345 || v1345 == 1) && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
            {
              *(float *)&v1766 = (double)(unsigned int)get_MT_range(360);
              v1346 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161;
              v1767 = v1346 + 6.0;
              v1768 = 1.0;
              v1347 = v1->char_c.meta.cEffectSprite.y + 100.0;
              addbullet(&v1->char_c, 999, v1->char_c.meta.cEffectSprite.x, v1347, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1766, 3);
            }
            if ( v1->char_c.meta.viz.get_subseq == 3 && v1->char_c.field_7D4 == 1 )
              goto LABEL_2868;
            if ( !viz_process(&v1->char_c) )
              return;
            goto LABEL_3278;
          }
          v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
          v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
          char_c::reset_forces(&v1->char_c);
          v1458 = 0.0;
          do
          {
            *(float *)&v1637 = (double)(unsigned int)get_MT_range(40) + v1458 * 36.0 - 20.0;
            v1638 = (double)(unsigned int)get_MT_range(8) + 30.0;
            v1639 = 1.0;
            if ( *(float *)&v1637 < 0.0 || *(float *)&v1637 > 180.0 )
              v1->char_c.field_7D0 = -1;
            else
              v1->char_c.field_7D0 = 1;
            v1343 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v1344 = (double)(40 * (char)v1343) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 811, v1344, v1->char_c.meta.cEffectSprite.y, v1343, LOBYTE(v1->char_c.field_7D0), (int)&v1637, 3);
            v1458 = v1458 + 1.0;
          }
          while ( v1458 < 10.0 );
        }
      }
      else
      {
        if ( !v1->char_c.meta.viz.get_subseq )
        {
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 4) )
          {
            *(float *)&v1772 = (double)(unsigned int)get_MT_range(360);
            v1348 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161;
            v1773 = v1348 + 6.0;
            v1774 = 1.0;
            v1349 = v1->char_c.meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 999, v1->char_c.meta.cEffectSprite.x, v1349, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1772, 3);
          }
          v1350 = -v1->char_c.meta.cEffectSprite.y * 0.1000000014901161;
          v1->char_c.meta.cEffectSprite.v_inerc = v1350;
          if ( v1350 < -12.0 )
            v1->char_c.meta.cEffectSprite.v_inerc = -12.0;
          if ( v1->char_c.meta.cEffectSprite.v_inerc > -2.0 )
            v1->char_c.meta.cEffectSprite.v_inerc = -2.0;
          v1->char_c.meta.cEffectSprite.v_inerc = -4.0;
          v1->char_c.meta.cEffectSprite.x = sin_deg__int(3 * v1->char_c.meta.viz.get_elaps_frames) * v1->char_c.field_7DC + v1->char_c.dash_angle;
          v1->char_c.field_7DC = v1->char_c.field_7DC * 0.8999999761581421;
          v1351 = v1->char_c.meta.cEffectSprite.y;
          if ( c_meta::getlvl_height(&v1->char_c) >= v1351 )
          {
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
            v1->char_c.meta.cEffectSprite.x = v1->char_c.dash_angle;
            v1459 = 0.0;
            do
            {
              *(float *)&v1778 = (double)(unsigned int)get_MT_range(40) + v1459 * 45.0 - 20.0;
              v1779 = (double)(unsigned int)get_MT_range(13) + 12.0;
              v1780 = 0.0;
              v1352 = v1->char_c.meta.cEffectSprite.y + 100.0;
              addbullet(&v1->char_c, 999, v1->char_c.meta.cEffectSprite.x, v1352, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1778, 3);
              v1459 = v1459 + 1.0;
            }
            while ( v1459 < 8.0 );
          }
        }
        v1353 = v1->char_c.meta.viz.get_subseq;
        if ( v1353 == 1 && v1->char_c.meta.viz.get_elaps_frames >= 120 || v1353 == 2 && v1->char_c.field_7D4 == 1 )
        {
LABEL_3151:
          ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
        }
        else if ( viz_process(&v1->char_c) )
        {
LABEL_3294:
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
        }
      }
    }
    else
    {
      if ( v9 != 770 )
      {
        switch ( v9 )
        {
          case 501:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 0;
            if ( !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4) )
              goto LABEL_3278;
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_1214;
            v434 = v1->char_c.field_7D0;
            if ( v434 >= 20 && (!v1->char_c.not_charge_attack || v434 >= 120) )
              goto LABEL_2868;
            if ( v434 == 30 )
            {
              v435 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v436 = v1->char_c.meta.cEffectSprite.y + 142.0;
              v437 = v436;
              v438 = (double)(13 * (char)v435) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 62, v438, v437, v435, 1);
              v1->char_c.field_7D2 = 1;
            }
            ++v1->char_c.field_7D0;
LABEL_1214:
            v439 = v1->char_c.meta.viz.get_subseq;
            if ( v439 != 2 && v439 != 3 && v439 != 4 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 4 )
              return;
            if ( v1->char_c.field_7D2 == 1 )
            {
              *(float *)&v1875 = -60.0;
              v1876 = 25.0;
              v1877 = 4.0;
              v1878 = 120.0;
              v440 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v441 = v1->char_c.meta.cEffectSprite.y + 166.0;
              v442 = v441;
              v443 = (double)(80 * (char)v440) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 810, v443, v442, v440, 1, (int)&v1875, 4);
              a2c = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              y = v1->char_c.meta.cEffectSprite.y;
              v444 = (double)(200 * (char)a2c) + v1->char_c.meta.cEffectSprite.x;
              v426 = v444;
              goto LABEL_1191;
            }
            *(float *)&v1851 = -60.0;
            v1852 = 8.0;
            v1853 = 4.0;
            v1854 = (double)(char)v1->char_c.skills_1[0] * 5.0 + 15.0;
            v445 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v446 = v1->char_c.meta.cEffectSprite.y + 166.0;
            v447 = v446;
            v448 = (double)(80 * (char)v445) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 810, v448, v447, v445, 1, (int)&v1851, 4);
            a2d = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            ya = v1->char_c.meta.cEffectSprite.y;
            v449 = (double)(200 * (char)a2d) + v1->char_c.meta.cEffectSprite.x;
            v433 = v449;
            goto LABEL_1222;
          case 505:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 4;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
            {
              *(float *)&v1867 = 0.0;
              v1868 = 0.0;
              v1869 = 7.0;
              v1870 = 0.0;
              v451 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v452 = v1->char_c.meta.cEffectSprite.y + 250.0;
              v453 = v452;
              v454 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)v451);
              addbullet(&v1->char_c, 815, v454, v453, v451, 1, (int)&v1867, 4);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_1236;
            v455 = v1->char_c.field_7D0;
            if ( v455 >= 0 && (!v1->char_c.not_charge_attack || v455 >= 180) )
              goto LABEL_3151;
            v1->char_c.field_7D0 = v455 + 1;
LABEL_1236:
            if ( v1->char_c.meta.viz.get_subseq == 2 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
            {
              v1->char_c.field_7D2 = 1;
              v1612 = 1.0;
              v1389 = 0.0;
              do
              {
                *(float *)&v1610 = (double)(unsigned int)get_MT_range(40) + v1389 * 60.0 - 20.0;
                v1611 = (double)(unsigned int)get_MT_range(8) + 30.0;
                if ( *(float *)&v1610 < 0.0 || *(float *)&v1610 > 180.0 )
                  v1->char_c.field_7D0 = -1;
                else
                  v1->char_c.field_7D0 = 1;
                v456 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v457 = (double)(40 * (char)v456) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 811, v457, v1->char_c.meta.cEffectSprite.y, v456, LOBYTE(v1->char_c.field_7D0), (int)&v1610, 3);
                v1389 = v1389 + 1.0;
              }
              while ( v1389 < 6.0 );
            }
            return;
          case 506:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 4;
            if ( !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
            {
              *(float *)&v1859 = 0.0;
              v1860 = 0.0;
              v1861 = 7.0;
              v1862 = 1.0;
              v458 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v459 = v1->char_c.meta.cEffectSprite.y + 250.0;
              v460 = v459;
              v461 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)v458);
              addbullet(&v1->char_c, 815, v461, v460, v458, 1, (int)&v1859, 4);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_1259;
            v462 = v1->char_c.field_7D0;
            if ( v462 >= 0 && (!v1->char_c.not_charge_attack || v462 >= 180) )
              goto LABEL_3151;
            v1->char_c.field_7D0 = v462 + 1;
LABEL_1259:
            if ( v1->char_c.meta.viz.get_subseq == 2 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
            {
              v1->char_c.field_7D2 = 1;
              v1645 = 1.0;
              v1390 = 0.0;
              do
              {
                *(float *)&v1643 = (double)(unsigned int)get_MT_range(40) + v1390 * 60.0 - 20.0;
                v1644 = (double)(unsigned int)get_MT_range(8) + 30.0;
                if ( *(float *)&v1643 < 0.0 || *(float *)&v1643 > 180.0 )
                  v1->char_c.field_7D0 = -1;
                else
                  v1->char_c.field_7D0 = 1;
                v463 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v464 = (double)(40 * (char)v463) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 811, v464, v1->char_c.meta.cEffectSprite.y, v463, LOBYTE(v1->char_c.field_7D0), (int)&v1643, 3);
                v1390 = v1390 + 1.0;
              }
              while ( v1390 < 6.0 );
            }
            return;
          case 507:
            if ( v1->char_c.meta.viz.get_subseq == 3 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 4;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( v1->char_c.meta.viz.get_subseq <= 2 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
              }
            }
            if ( viz_process(&v1->char_c) )
              goto LABEL_3278;
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
              goto LABEL_1873;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
            {
              *(float *)&v1839 = 0.0;
              v1840 = 0.0;
              v1841 = 7.0;
              v1842 = 0.0;
              v465 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v466 = v1->char_c.meta.cEffectSprite.y + 250.0;
              v467 = v466;
              v468 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)v465);
              addbullet(&v1->char_c, 815, v468, v467, v465, 1, (int)&v1839, 4);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_1290;
            v469 = v1->char_c.field_7D0;
            if ( v469 >= 0 && (!v1->char_c.not_charge_attack || v469 >= 180) )
              goto LABEL_3151;
            v1->char_c.field_7D0 = v469 + 1;
LABEL_1290:
            if ( v1->char_c.meta.viz.get_subseq != 2 || v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame != 2 )
              goto LABEL_1331;
            v1->char_c.field_7D2 = 1;
            v1651 = 1.0;
            v1391 = 0.0;
            do
            {
              *(float *)&v1649 = (double)(unsigned int)get_MT_range(40) + v1391 * 60.0 - 20.0;
              v1650 = (double)(unsigned int)get_MT_range(8) + 30.0;
              if ( *(float *)&v1649 < 0.0 || *(float *)&v1649 > 180.0 )
                v1->char_c.field_7D0 = -1;
              else
                v1->char_c.field_7D0 = 1;
              v470 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v471 = (double)(40 * (char)v470) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 811, v471, v1->char_c.meta.cEffectSprite.y, v470, LOBYTE(v1->char_c.field_7D0), (int)&v1649, 3);
              v1391 = v1391 + 1.0;
            }
            while ( v1391 < 6.0 );
            goto LABEL_1330;
          case 508:
            if ( v1->char_c.meta.viz.get_subseq == 3 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 4;
            if ( !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            if ( v1->char_c.meta.viz.get_subseq <= 2 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
              }
            }
            if ( viz_process(&v1->char_c) )
              goto LABEL_3278;
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
              goto LABEL_1873;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
            {
              *(float *)&v1847 = 0.0;
              v1848 = 0.0;
              v1849 = 7.0;
              v1850 = 1.0;
              v472 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v473 = v1->char_c.meta.cEffectSprite.y + 250.0;
              v474 = v473;
              v475 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)v472);
              addbullet(&v1->char_c, 815, v475, v474, v472, 1, (int)&v1847, 4);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_1321;
            v476 = v1->char_c.field_7D0;
            if ( v476 >= 0 && (!v1->char_c.not_charge_attack || v476 >= 180) )
              goto LABEL_3151;
            v1->char_c.field_7D0 = v476 + 1;
LABEL_1321:
            if ( v1->char_c.meta.viz.get_subseq != 2 || v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame == 2 )
            {
              v1->char_c.field_7D2 = 1;
              v1657 = 1.0;
              v1392 = 0.0;
              do
              {
                *(float *)&v1655 = (double)(unsigned int)get_MT_range(40) + v1392 * 60.0 - 20.0;
                v1656 = (double)(unsigned int)get_MT_range(8) + 30.0;
                if ( *(float *)&v1655 < 0.0 || *(float *)&v1655 > 180.0 )
                  v1->char_c.field_7D0 = -1;
                else
                  v1->char_c.field_7D0 = 1;
                v477 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v478 = (double)(40 * (char)v477) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 811, v478, v1->char_c.meta.cEffectSprite.y, v477, LOBYTE(v1->char_c.field_7D0), (int)&v1655, 3);
                v1392 = v1392 + 1.0;
              }
              while ( v1392 < 6.0 );
LABEL_1330:
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = -6.0;
              v1->char_c.meta.cEffectSprite.v_inerc = 7.5;
            }
LABEL_1331:
            if ( v1->char_c.meta.viz.get_frame_time )
              return;
            v479 = v1->char_c.meta.viz.get_frame == 8;
            goto LABEL_1682;
          case 510:
            v1->char_c.meta.field_18C = 8;
            v480 = v1->char_c.meta.viz.get_subseq;
            if ( !v480 || v480 >= 3 )
              char_c::sub10func(&v1->char_c);
            v481 = v1->char_c.meta.viz.get_subseq;
            if ( v481 != 1 && v481 != 2 )
              goto LABEL_1407;
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( !char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_1407;
            char_c::reset_forces(&v1->char_c);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            v482 = v1->char_c.skills_1[8];
            v1393 = 0.0;
            if ( (char)v482 <= 1 )
            {
              do
              {
                *(float *)&v1507 = (double)(unsigned int)get_MT_range(20) + v1393 * 36.0;
                v1508 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                v1509 = 1.0;
                v483 = -*(float *)&v1507;
                v484 = sinus(v483) > 0.0;
                addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v484), (int)&v1507, 3);
                v1393 = v1393 + 1.0;
              }
              while ( v1393 < 10.0 );
              v1437 = 0.0;
              do
              {
                *(float *)&v1507 = (double)(unsigned int)get_MT_range(160) + 10.0;
                v1508 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                v1509 = 3.0;
                v485 = -*(float *)&v1507;
                v486 = sinus(v485) > 0.0;
                addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v486), (int)&v1507, 3);
                v1437 = v1437 + 1.0;
              }
              while ( v1437 < 6.0 );
              v1508 = 1.0;
              v1509 = 0.0;
              addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1507, 3);
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
              char_c::play_sfx(&v1->char_c, 12);
              shake_camera(10.0);
              return;
            }
            if ( (char)v482 <= 3 )
            {
              do
              {
                *(float *)&v1504 = (double)(unsigned int)get_MT_range(20) + v1393 * 24.0;
                v1505 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 15.0;
                v1506 = 1.0;
                v487 = -*(float *)&v1504;
                v488 = sinus(v487) > 0.0;
                addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v488), (int)&v1504, 3);
                v1393 = v1393 + 1.0;
              }
              while ( v1393 < 15.0 );
              v1438 = 0.0;
              do
              {
                *(float *)&v1504 = (double)(unsigned int)get_MT_range(160) + 10.0;
                v1505 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                v1506 = 3.0;
                v489 = -*(float *)&v1504;
                v490 = sinus(v489) > 0.0;
                addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v490), (int)&v1504, 3);
                v1438 = v1438 + 1.0;
              }
              while ( v1438 < 6.0 );
              v1505 = 1.5;
              v1506 = 0.0;
              addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1504, 3);
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 4);
              char_c::play_sfx(&v1->char_c, 12);
              shake_camera(12.0);
              return;
            }
            do
            {
              *(float *)&v1474 = (double)(unsigned int)get_MT_range(20) + v1393 * 24.0;
              v1475 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 15.0;
              v1476 = 1.0;
              v491 = -*(float *)&v1474;
              v492 = sinus(v491) > 0.0;
              addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v492), (int)&v1474, 3);
              v1393 = v1393 + 1.0;
            }
            while ( v1393 < 15.0 );
            v1439 = 0.0;
            do
            {
              *(float *)&v1474 = (double)(unsigned int)get_MT_range(160) + 10.0;
              v1475 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
              v1476 = 3.0;
              v493 = -*(float *)&v1474;
              v494 = sinus(v493) > 0.0;
              addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v494), (int)&v1474, 3);
              v1439 = v1439 + 1.0;
            }
            while ( v1439 < 6.0 );
            v1475 = 2.0;
            v1476 = 0.0;
            addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1474, 3);
            v1475 = 0.5;
            v495 = &v1474;
            v1476 = 2.0;
            goto LABEL_1406;
          case 511:
            v1->char_c.meta.field_18C = 8;
            v496 = v1->char_c.meta.viz.get_subseq;
            if ( !v496 || v496 >= 3 )
              char_c::sub10func(&v1->char_c);
            v497 = v1->char_c.meta.viz.get_subseq;
            if ( v497 == 1 || v497 == 2 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v498 = v1->char_c.skills_1[8];
                v1394 = 0.0;
                if ( (char)v498 > 1 )
                {
                  if ( (char)v498 > 3 )
                  {
                    do
                    {
                      *(float *)&v1477 = (double)(unsigned int)get_MT_range(20) + v1394 * 24.0;
                      v1478 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 15.0;
                      v1479 = 1.0;
                      v507 = -*(float *)&v1477;
                      v508 = sinus(v507) > 0.0;
                      addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v508), (int)&v1477, 3);
                      v1394 = v1394 + 1.0;
                    }
                    while ( v1394 < 15.0 );
                    v1442 = 0.0;
                    do
                    {
                      *(float *)&v1477 = (double)(unsigned int)get_MT_range(160) + 10.0;
                      v1478 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                      v1479 = 3.0;
                      v509 = -*(float *)&v1477;
                      v510 = sinus(v509) > 0.0;
                      addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v510), (int)&v1477, 3);
                      v1442 = v1442 + 1.0;
                    }
                    while ( v1442 < 6.0 );
                    v1478 = 2.0;
                    v1479 = 0.0;
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1477, 3);
                    v1478 = 0.5;
                    v1479 = 2.0;
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1477, 3);
                    char_c::play_sfx(&v1->char_c, 12);
                    v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                    shake_camera(15.0);
                  }
                  else
                  {
                    do
                    {
                      *(float *)&v1513 = (double)(unsigned int)get_MT_range(20) + v1394 * 24.0;
                      v1514 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 15.0;
                      v1515 = 1.0;
                      v503 = -*(float *)&v1513;
                      v504 = sinus(v503) > 0.0;
                      addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v504), (int)&v1513, 3);
                      v1394 = v1394 + 1.0;
                    }
                    while ( v1394 < 15.0 );
                    v1441 = 0.0;
                    do
                    {
                      *(float *)&v1513 = (double)(unsigned int)get_MT_range(160) + 10.0;
                      v1514 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                      v1515 = 3.0;
                      v505 = -*(float *)&v1513;
                      v506 = sinus(v505) > 0.0;
                      addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v506), (int)&v1513, 3);
                      v1441 = v1441 + 1.0;
                    }
                    while ( v1441 < 6.0 );
                    v1514 = 1.5;
                    v1515 = 0.0;
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1513, 3);
                    v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 4);
                    char_c::play_sfx(&v1->char_c, 12);
                    shake_camera(12.0);
                  }
                }
                else
                {
                  do
                  {
                    *(float *)&v1492 = (double)(unsigned int)get_MT_range(20) + v1394 * 36.0;
                    v1493 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                    v1494 = 1.0;
                    v499 = -*(float *)&v1492;
                    v500 = sinus(v499) > 0.0;
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v500), (int)&v1492, 3);
                    v1394 = v1394 + 1.0;
                  }
                  while ( v1394 < 10.0 );
                  v1440 = 0.0;
                  do
                  {
                    *(float *)&v1492 = (double)(unsigned int)get_MT_range(160) + 10.0;
                    v1493 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                    v1494 = 3.0;
                    v501 = -*(float *)&v1492;
                    v502 = sinus(v501) > 0.0;
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v502), (int)&v1492, 3);
                    v1440 = v1440 + 1.0;
                  }
                  while ( v1440 < 6.0 );
                  v1493 = 1.0;
                  v1494 = 0.0;
                  addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1492, 3);
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
                  char_c::play_sfx(&v1->char_c, 12);
                  shake_camera(10.0);
                }
                return;
              }
            }
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 12.5;
              v1->char_c.meta.cEffectSprite.v_inerc = 15.0;
              v1->char_c.meta.cEffectSprite.v_force = 1.25;
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
            }
            if ( v1->char_c.meta.viz.get_elaps_frames )
              return;
            if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, v1->char_c.meta.viz.get_elaps_frames);
              return;
            }
            goto LABEL_1454;
          case 512:
            v1->char_c.meta.field_18C = 8;
            if ( v1->char_c.meta.viz.get_subseq >= 3 )
              char_c::sub10func(&v1->char_c);
            v511 = v1->char_c.meta.viz.get_subseq;
            if ( v511 == 1 || v511 == 2 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v512 = v1->char_c.skills_1[8];
                v1395 = 0.0;
                if ( (char)v512 > 1 )
                {
                  if ( (char)v512 > 3 )
                  {
                    do
                    {
                      *(float *)&v1483 = (double)(unsigned int)get_MT_range(20) + v1395 * 24.0;
                      v1484 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 15.0;
                      v1485 = 1.0;
                      v521 = -*(float *)&v1483;
                      v522 = sinus(v521) > 0.0;
                      addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v522), (int)&v1483, 3);
                      v1395 = v1395 + 1.0;
                    }
                    while ( v1395 < 15.0 );
                    v1445 = 0.0;
                    do
                    {
                      *(float *)&v1483 = (double)(unsigned int)get_MT_range(160) + 10.0;
                      v1484 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                      v1485 = 3.0;
                      v523 = -*(float *)&v1483;
                      v524 = sinus(v523) > 0.0;
                      addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v524), (int)&v1483, 3);
                      v1445 = v1445 + 1.0;
                    }
                    while ( v1445 < 6.0 );
                    v1484 = 2.0;
                    v1485 = 0.0;
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1483, 3);
                    v1484 = 0.5;
                    v495 = &v1483;
                    v1485 = 2.0;
LABEL_1406:
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)v495, 3);
                    char_c::play_sfx(&v1->char_c, 12);
                    v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                    shake_camera(15.0);
                  }
                  else
                  {
                    do
                    {
                      *(float *)&v1498 = (double)(unsigned int)get_MT_range(20) + v1395 * 24.0;
                      v1499 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 15.0;
                      v1500 = 1.0;
                      v517 = -*(float *)&v1498;
                      v518 = sinus(v517) > 0.0;
                      addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v518), (int)&v1498, 3);
                      v1395 = v1395 + 1.0;
                    }
                    while ( v1395 < 15.0 );
                    v1444 = 0.0;
                    do
                    {
                      *(float *)&v1498 = (double)(unsigned int)get_MT_range(160) + 10.0;
                      v1499 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                      v1500 = 3.0;
                      v519 = -*(float *)&v1498;
                      v520 = sinus(v519) > 0.0;
                      addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v520), (int)&v1498, 3);
                      v1444 = v1444 + 1.0;
                    }
                    while ( v1444 < 6.0 );
                    v1499 = 1.5;
                    v1500 = 0.0;
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1498, 3);
                    v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 4);
                    char_c::play_sfx(&v1->char_c, 12);
                    shake_camera(12.0);
                  }
                }
                else
                {
                  do
                  {
                    *(float *)&v1510 = (double)(unsigned int)get_MT_range(20) + v1395 * 36.0;
                    v1511 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                    v1512 = 1.0;
                    v513 = -*(float *)&v1510;
                    v514 = sinus(v513) > 0.0;
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v514), (int)&v1510, 3);
                    v1395 = v1395 + 1.0;
                  }
                  while ( v1395 < 10.0 );
                  v1443 = 0.0;
                  do
                  {
                    *(float *)&v1510 = (double)(unsigned int)get_MT_range(160) + 10.0;
                    v1511 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                    v1512 = 3.0;
                    v515 = -*(float *)&v1510;
                    v516 = sinus(v515) > 0.0;
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v516), (int)&v1510, 3);
                    v1443 = v1443 + 1.0;
                  }
                  while ( v1443 < 6.0 );
                  v1511 = 1.0;
                  v1512 = 0.0;
                  addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1510, 3);
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
                  char_c::play_sfx(&v1->char_c, 12);
                  shake_camera(10.0);
                }
                return;
              }
            }
LABEL_1407:
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 7.5;
              v1->char_c.meta.cEffectSprite.v_inerc = 13.5;
              v1->char_c.meta.cEffectSprite.v_force = 1.25;
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
            }
            if ( v1->char_c.meta.viz.get_elaps_frames )
              return;
            if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, v1->char_c.meta.viz.get_elaps_frames);
              return;
            }
            goto LABEL_1454;
          case 513:
            v1->char_c.meta.field_18C = 8;
            if ( v1->char_c.meta.viz.get_subseq >= 3 )
              char_c::sub10func(&v1->char_c);
            v525 = v1->char_c.meta.viz.get_subseq;
            if ( v525 == 1 || v525 == 2 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v526 = v1->char_c.skills_1[8];
                v1396 = 0.0;
                if ( (char)v526 <= 1 )
                {
                  do
                  {
                    *(float *)&v1501 = (double)(unsigned int)get_MT_range(20) + v1396 * 36.0;
                    v1502 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                    v1503 = 1.0;
                    v527 = -*(float *)&v1501;
                    v528 = sinus(v527) > 0.0;
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v528), (int)&v1501, 3);
                    v1396 = v1396 + 1.0;
                  }
                  while ( v1396 < 10.0 );
                  v1446 = 0.0;
                  do
                  {
                    *(float *)&v1501 = (double)(unsigned int)get_MT_range(160) + 10.0;
                    v1502 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                    v1503 = 3.0;
                    v529 = -*(float *)&v1501;
                    v530 = sinus(v529) > 0.0;
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v530), (int)&v1501, 3);
                    v1446 = v1446 + 1.0;
                  }
                  while ( v1446 < 6.0 );
                  v1502 = 1.0;
                  v1503 = 0.0;
                  addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1501, 3);
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
                  char_c::play_sfx(&v1->char_c, 12);
                  shake_camera(10.0);
                  return;
                }
                if ( (char)v526 <= 3 )
                {
                  do
                  {
                    *(float *)&v1486 = (double)(unsigned int)get_MT_range(20) + v1396 * 24.0;
                    v1487 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 15.0;
                    v1488 = 1.0;
                    v531 = -*(float *)&v1486;
                    v532 = sinus(v531) > 0.0;
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v532), (int)&v1486, 3);
                    v1396 = v1396 + 1.0;
                  }
                  while ( v1396 < 15.0 );
                  v1447 = 0.0;
                  do
                  {
                    *(float *)&v1486 = (double)(unsigned int)get_MT_range(160) + 10.0;
                    v1487 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                    v1488 = 3.0;
                    v533 = -*(float *)&v1486;
                    v534 = sinus(v533) > 0.0;
                    addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v534), (int)&v1486, 3);
                    v1447 = v1447 + 1.0;
                  }
                  while ( v1447 < 6.0 );
                  v1487 = 1.5;
                  v1488 = 0.0;
                  addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1486, 3);
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 4);
                  char_c::play_sfx(&v1->char_c, 12);
                  goto LABEL_1436;
                }
                do
                {
                  *(float *)&v1480 = (double)(unsigned int)get_MT_range(20) + v1396 * 24.0;
                  v1481 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 15.0;
                  v1482 = 1.0;
                  v535 = -*(float *)&v1480;
                  v536 = sinus(v535) > 0.0;
                  addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v536), (int)&v1480, 3);
                  v1396 = v1396 + 1.0;
                }
                while ( v1396 < 15.0 );
                v1448 = 0.0;
                do
                {
                  *(float *)&v1480 = (double)(unsigned int)get_MT_range(160) + 10.0;
                  v1481 = (double)(unsigned int)get_MT_range(25) * 0.1000000014901161 + 10.0;
                  v1482 = 3.0;
                  v537 = -*(float *)&v1480;
                  v538 = sinus(v537) > 0.0;
                  addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, (unsigned __int8)(1 - 2 * v538), (int)&v1480, 3);
                  v1448 = v1448 + 1.0;
                }
                while ( v1448 < 6.0 );
                v1481 = 2.0;
                v1482 = 0.0;
                addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1480, 3);
                v1481 = 0.5;
                v1482 = 2.0;
                addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1480, 3);
                char_c::play_sfx(&v1->char_c, 12);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                shake_camera(15.0);
                return;
              }
            }
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 12.5;
              v1->char_c.meta.cEffectSprite.v_inerc = 15.0;
              v1->char_c.meta.cEffectSprite.v_force = 1.25;
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
            }
            if ( v1->char_c.meta.viz.get_elaps_frames )
              return;
            if ( v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 4 )
            {
LABEL_1454:
              if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 5 )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
              return;
            }
            goto LABEL_3278;
          case 520:
            v539 = v1->char_c.meta.viz.get_subseq;
            if ( !v539 || v539 == 6 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 1;
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v540 = v1->char_c.meta.viz.get_subseq;
            if ( v540 == 4 || v540 == 5 )
            {
              v541 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v541;
              if ( v541 > -5.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = -5.0;
            }
            if ( !char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_1476;
            v542 = v1->char_c.meta.viz.get_subseq;
            if ( v542 == 3 )
            {
              char_c::play_sfx(&v1->char_c, 12);
              shake_camera(6.0);
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 4);
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              v1->char_c.meta.cEffectSprite.h_inerc = -12.5;
              v1->char_c.meta.cEffectSprite.v_inerc = 5.5;
              v1->char_c.meta.cEffectSprite.v_force = 0.34999999;
              *(float *)&v1531 = 0.0;
              v1532 = 0.0;
              v1533 = 0.0;
              v543 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v544 = (double)(40 * (char)v543) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 811, v544, v1->char_c.meta.cEffectSprite.y, v543, 1, (int)&v1531, 3);
              v1533 = 2.0;
              v545 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v546 = (double)(40 * (char)v545) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 811, v546, v1->char_c.meta.cEffectSprite.y, v545, -1, (int)&v1531, 3);
              v1533 = 1.0;
              v1397 = 0.0;
              do
              {
                *(float *)&v1531 = (double)(unsigned int)get_MT_range(40) + v1397 * 60.0 - 20.0;
                v1532 = (double)(unsigned int)get_MT_range(8) + 30.0;
                if ( *(float *)&v1531 < 0.0 || *(float *)&v1531 > 180.0 )
                  v1->char_c.field_7D0 = -1;
                else
                  v1->char_c.field_7D0 = 1;
                v547 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v548 = (double)(40 * (char)v547) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 811, v548, v1->char_c.meta.cEffectSprite.y, v547, LOBYTE(v1->char_c.field_7D0), (int)&v1531, 3);
                v1397 = v1397 + 1.0;
              }
              while ( v1397 < 6.0 );
              return;
            }
            if ( v542 == 4 || v542 == 5 )
              goto LABEL_1501;
LABEL_1476:
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( v1->char_c.meta.viz.get_elaps_frames )
              return;
            if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 3.0;
              v549 = 12.5;
              goto LABEL_1509;
            }
            goto LABEL_1510;
          case 521:
            v550 = v1->char_c.meta.viz.get_subseq;
            if ( !v550 || v550 == 6 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 1;
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v551 = v1->char_c.meta.viz.get_subseq;
            if ( v551 == 4 || v551 == 5 )
            {
              v552 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v552;
              if ( v552 > -5.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = -5.0;
            }
            if ( !char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_1502;
            v553 = v1->char_c.meta.viz.get_subseq;
            if ( v553 == 3 )
            {
              char_c::play_sfx(&v1->char_c, 12);
              shake_camera(6.0);
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 4);
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              v1->char_c.meta.cEffectSprite.h_inerc = -12.5;
              v1->char_c.meta.cEffectSprite.v_inerc = 5.5;
              v1->char_c.meta.cEffectSprite.v_force = 0.34999999;
              *(float *)&v1522 = 0.0;
              v1523 = 0.0;
              v1524 = 0.0;
              v554 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v555 = (double)(40 * (char)v554) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 811, v555, v1->char_c.meta.cEffectSprite.y, v554, 1, (int)&v1522, 3);
              v1524 = 2.0;
              v556 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v557 = (double)(40 * (char)v556) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 811, v557, v1->char_c.meta.cEffectSprite.y, v556, -1, (int)&v1522, 3);
              v1524 = 1.0;
              v1398 = 0.0;
              do
              {
                *(float *)&v1522 = (double)(unsigned int)get_MT_range(40) + v1398 * 60.0 - 20.0;
                v1523 = (double)(unsigned int)get_MT_range(8) + 30.0;
                if ( *(float *)&v1522 < 0.0 || *(float *)&v1522 > 180.0 )
                  v1->char_c.field_7D0 = -1;
                else
                  v1->char_c.field_7D0 = 1;
                v558 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v559 = (double)(40 * (char)v558) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 811, v559, v1->char_c.meta.cEffectSprite.y, v558, LOBYTE(v1->char_c.field_7D0), (int)&v1522, 3);
                v1398 = v1398 + 1.0;
              }
              while ( v1398 < 6.0 );
            }
            else
            {
              if ( v553 == 4 || v553 == 5 )
              {
LABEL_1501:
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 6);
                goto LABEL_111;
              }
LABEL_1502:
              if ( viz_process(&v1->char_c) )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
              if ( !v1->char_c.meta.viz.get_elaps_frames )
              {
                if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
                {
                  v1->char_c.meta.cEffectSprite.h_inerc = 9.0;
                  v549 = 17.5;
LABEL_1509:
                  v1->char_c.meta.cEffectSprite.v_inerc = v549;
                  v1->char_c.meta.cEffectSprite.v_force = 0.25;
                }
LABEL_1510:
                if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
                {
                  v1->char_c.meta.cEffectSprite.h_inerc = 18.0;
                  v1->char_c.meta.cEffectSprite.v_inerc = -18.0;
                  char_c::play_sfx(&v1->char_c, 11);
                  char_c::spell_energy_spend(&v1->char_c, 200, 120);
                  char_c::add_card_energy(&v1->char_c, 50);
                  v1->char_c.meta.field_190 = 0;
                  v1->char_c.meta.field_194 = 1;
                }
              }
            }
            return;
          case 522:
            if ( v1->char_c.meta.viz.get_subseq == 5 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 1;
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v560 = v1->char_c.meta.viz.get_subseq;
            if ( v560 == 3 || v560 == 4 )
            {
              v561 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v561;
              if ( v561 > -5.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = -5.0;
            }
            if ( !char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_1532;
            v562 = v1->char_c.meta.viz.get_subseq;
            if ( v562 == 2 )
            {
              char_c::play_sfx(&v1->char_c, 12);
              shake_camera(6.0);
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              v1->char_c.meta.cEffectSprite.h_inerc = -12.5;
              v1->char_c.meta.cEffectSprite.v_inerc = 5.5;
              v1->char_c.meta.cEffectSprite.v_force = 0.34999999;
              *(float *)&v1528 = 0.0;
              v1529 = 0.0;
              v1530 = 0.0;
              v563 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v564 = (double)(40 * (char)v563) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 811, v564, v1->char_c.meta.cEffectSprite.y, v563, 1, (int)&v1528, 3);
              v1530 = 2.0;
              v565 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v566 = (double)(40 * (char)v565) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 811, v566, v1->char_c.meta.cEffectSprite.y, v565, -1, (int)&v1528, 3);
              v1530 = 1.0;
              v1399 = 0.0;
              do
              {
                *(float *)&v1528 = (double)(unsigned int)get_MT_range(40) + v1399 * 60.0 - 20.0;
                v1529 = (double)(unsigned int)get_MT_range(8) + 30.0;
                if ( *(float *)&v1528 < 0.0 || *(float *)&v1528 > 180.0 )
                  v1->char_c.field_7D0 = -1;
                else
                  v1->char_c.field_7D0 = 1;
                v567 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v568 = (double)(40 * (char)v567) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 811, v568, v1->char_c.meta.cEffectSprite.y, v567, LOBYTE(v1->char_c.field_7D0), (int)&v1528, 3);
                v1399 = v1399 + 1.0;
              }
              while ( v1399 < 6.0 );
              return;
            }
            if ( v562 != 3 && v562 != 4 )
              goto LABEL_1532;
            goto LABEL_1556;
          case 523:
            if ( v1->char_c.meta.viz.get_subseq == 5 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 1;
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v569 = v1->char_c.meta.viz.get_subseq;
            if ( v569 == 3 || v569 == 4 )
            {
              v570 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v570;
              if ( v570 > -5.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = -5.0;
            }
            if ( !char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_1532;
            v571 = v1->char_c.meta.viz.get_subseq;
            if ( v571 == 2 )
            {
              char_c::play_sfx(&v1->char_c, 12);
              shake_camera(6.0);
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              v1->char_c.meta.cEffectSprite.h_inerc = -12.5;
              v1->char_c.meta.cEffectSprite.v_inerc = 5.5;
              v1->char_c.meta.cEffectSprite.v_force = 0.34999999;
              *(float *)&v1525 = 0.0;
              v1526 = 0.0;
              v1527 = 0.0;
              v572 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v573 = (double)(40 * (char)v572) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 811, v573, v1->char_c.meta.cEffectSprite.y, v572, 1, (int)&v1525, 3);
              v1527 = 2.0;
              v574 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v575 = (double)(40 * (char)v574) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 811, v575, v1->char_c.meta.cEffectSprite.y, v574, -1, (int)&v1525, 3);
              v1527 = 1.0;
              v1400 = 0.0;
              do
              {
                *(float *)&v1525 = (double)(unsigned int)get_MT_range(40) + v1400 * 60.0 - 20.0;
                v1526 = (double)(unsigned int)get_MT_range(8) + 30.0;
                if ( *(float *)&v1525 < 0.0 || *(float *)&v1525 > 180.0 )
                  v1->char_c.field_7D0 = -1;
                else
                  v1->char_c.field_7D0 = 1;
                v576 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v577 = (double)(40 * (char)v576) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 811, v577, v1->char_c.meta.cEffectSprite.y, v576, LOBYTE(v1->char_c.field_7D0), (int)&v1525, 3);
                v1400 = v1400 + 1.0;
              }
              while ( v1400 < 6.0 );
            }
            else
            {
              if ( v571 == 3 || v571 == 4 )
              {
LABEL_1556:
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                goto LABEL_111;
              }
LABEL_1532:
              if ( viz_process(&v1->char_c) )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = 18.0;
                v1->char_c.meta.cEffectSprite.v_inerc = -18.0;
                char_c::play_sfx(&v1->char_c, 11);
LABEL_1616:
                char_c::spell_energy_spend(&v1->char_c, 200, 120);
                char_c::add_card_energy(&v1->char_c, 50);
              }
            }
            return;
          case 525:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 5;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 6 )
              return;
            shake_camera(8.0);
            v1518 = 2.0;
            v1401 = 0.0;
            do
            {
              *(float *)&v1516 = (double)(unsigned int)get_MT_range(40) + v1401 * 60.0 - 20.0;
              v1517 = (double)(unsigned int)get_MT_range(8) + 30.0;
              if ( *(float *)&v1516 < 0.0 || *(float *)&v1516 > 180.0 )
                v1->char_c.field_7D0 = -1;
              else
                v1->char_c.field_7D0 = 1;
              v578 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v579 = (double)(103 * (char)v578) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 816, v579, v1->char_c.meta.cEffectSprite.y, v578, LOBYTE(v1->char_c.field_7D0), (int)&v1516, 3);
              v1401 = v1401 + 1.0;
            }
            while ( v1401 < 6.0 );
            v1518 = 3.0;
            v580 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v581 = (double)(103 * (char)v580) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 816, v581, v1->char_c.meta.cEffectSprite.y, v580, -1, (int)&v1516, 3);
            v1518 = 0.0;
            v582 = (double)(char)v1->char_c.skills_1[5] + 5.0;
            v1449 = 0.0;
            v1402 = v582;
            if ( v582 > 0.0 )
            {
              do
              {
                *(float *)&v1516 = -(double)(unsigned int)get_MT_range(80) - 20.0;
                v1517 = (double)(unsigned int)get_MT_range(18) + 7.0;
                if ( *(float *)&v1516 < 0.0 || *(float *)&v1516 > 180.0 )
                  v1->char_c.field_7D0 = -1;
                else
                  v1->char_c.field_7D0 = 1;
                v583 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v584 = (double)(103 * (char)v583) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 816, v584, v1->char_c.meta.cEffectSprite.y, v583, 1, (int)&v1516, 3);
                v1449 = v1449 + 1.0;
              }
              while ( v1449 < v1402 );
            }
            goto LABEL_1590;
          case 526:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 5;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 6 )
              return;
            shake_camera(8.0);
            v1521 = 2.0;
            v1403 = 0.0;
            do
            {
              *(float *)&v1519 = (double)(unsigned int)get_MT_range(40) + v1403 * 60.0 - 20.0;
              v1520 = (double)(unsigned int)get_MT_range(8) + 30.0;
              if ( *(float *)&v1519 < 0.0 || *(float *)&v1519 > 180.0 )
                v1->char_c.field_7D0 = -1;
              else
                v1->char_c.field_7D0 = 1;
              v585 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v586 = (double)(103 * (char)v585) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 816, v586, v1->char_c.meta.cEffectSprite.y, v585, LOBYTE(v1->char_c.field_7D0), (int)&v1519, 3);
              v1403 = v1403 + 1.0;
            }
            while ( v1403 < 6.0 );
            v1521 = 3.0;
            v587 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v588 = (double)(103 * (char)v587) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 816, v588, v1->char_c.meta.cEffectSprite.y, v587, -1, (int)&v1519, 3);
            v1521 = 0.0;
            v589 = (double)(char)v1->char_c.skills_1[5] + 7.0;
            v1450 = 0.0;
            v1404 = v589;
            if ( v589 > 0.0 )
            {
              do
              {
                *(float *)&v1519 = -(double)(unsigned int)get_MT_range(80) - 20.0;
                v1520 = (double)(unsigned int)get_MT_range(20) + 10.0;
                if ( *(float *)&v1519 < 0.0 || *(float *)&v1519 > 180.0 )
                  v1->char_c.field_7D0 = -1;
                else
                  v1->char_c.field_7D0 = 1;
                v590 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v591 = (double)(103 * (char)v590) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 816, v591, v1->char_c.meta.cEffectSprite.y, v590, 1, (int)&v1519, 3);
                v1450 = v1450 + 1.0;
              }
              while ( v1450 < v1404 );
            }
LABEL_1590:
            scene_add_effect(&v1->char_c, 127, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1);
            char_c::play_sfx(&v1->char_c, 18);
            goto LABEL_1616;
          case 530:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 9;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_3278;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 7 )
              return;
            v1->char_c.meta.field_190 = 1;
            shake_camera(8.0);
            v1820 = -80.0;
            v1821 = 25.0;
            a2e = (int *)&v1820;
            v1822 = 0.0;
            xc = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            a4c = v1->char_c.meta.cEffectSprite.y;
            v592 = (double)(100 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
            v593 = v592;
            goto LABEL_1615;
          case 531:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 9;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_3278;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 7 )
              return;
            v1->char_c.meta.field_190 = 1;
            shake_camera(8.0);
            *(float *)&v1715 = -70.0;
            v1716 = 35.0;
            a2e = &v1715;
            v1717 = 0.0;
            xc = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            a4c = v1->char_c.meta.cEffectSprite.y;
            v594 = (double)(100 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
            v593 = v594;
LABEL_1615:
            v595 = v593;
            addbullet(&v1->char_c, 821, v595, a4c, xc, 1, (int)a2e, 3);
            scene_add_effect(&v1->char_c, 127, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1);
            char_c::play_sfx(&v1->char_c, 23);
            goto LABEL_1616;
          case 540:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 2;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_3278;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              v1->char_c.meta.field_190 = 1;
              v1795 = 0.0;
              for ( i = 0; i < (char)v1->char_c.skills_1[2] + 6; ++i )
              {
                v597 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161;
                *(float *)&v1793 = v597 + 5.0;
                v1794 = (double)(unsigned int)get_MT_range(14) - 7.0;
                v598 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v599 = v1->char_c.meta.cEffectSprite.y + 116.0;
                v600 = v599;
                v601 = (double)(43 * (char)v598) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 812, v601, v600, v598, 1, (int)&v1793, 3);
              }
              char_c::play_sfx(&v1->char_c, 13);
            }
            return;
          case 541:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 2;
            if ( !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_3278;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              v1->char_c.meta.field_190 = 1;
              v1723 = 2.0;
              for ( j = 0; j < (char)v1->char_c.skills_1[2] + 6; ++j )
              {
                *(float *)&v1721 = -(double)(unsigned int)get_MT_range(45) - 10.0;
                v1722 = (double)(unsigned int)(get_MT_range(6) + 6);
                v603 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v604 = v1->char_c.meta.cEffectSprite.y + 116.0;
                v605 = v604;
                v606 = (double)(43 * (char)v603) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 812, v606, v605, v603, 1, (int)&v1721, 3);
              }
              char_c::play_sfx(&v1->char_c, 13);
            }
            return;
          case 542:
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::sub10func(&v1->char_c);
            }
            else
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
                goto LABEL_1662;
            }
            v1->char_c.meta.field_18C = 2;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_1873;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
              return;
            if ( v1->char_c.meta.viz.get_frame != 6 )
              goto LABEL_1680;
            char_c::add_card_energy(&v1->char_c, 50);
            char_c::spell_energy_spend(&v1->char_c, 200, 120);
            v1->char_c.meta.field_190 = 1;
            v1828 = 0.0;
            for ( k = 0; k < (char)v1->char_c.skills_1[2] + 2; ++k )
            {
              v608 = (double)(unsigned int)get_MT_range(20) * 0.1000000014901161;
              *(float *)&v1826 = v608 + 8.0;
              v1827 = (double)(unsigned int)get_MT_range(14) - 7.0;
              v609 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v610 = v1->char_c.meta.cEffectSprite.y + 116.0;
              v611 = v610;
              v612 = (double)(43 * (char)v609) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 812, v612, v611, v609, 1, (int)&v1826, 3);
            }
            goto LABEL_1679;
          case 543:
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::sub10func(&v1->char_c);
            }
            else
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
LABEL_1662:
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                return;
              }
            }
            v1->char_c.meta.field_18C = 2;
            if ( !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_1873;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 6 )
              {
                char_c::add_card_energy(&v1->char_c, 50);
                char_c::spell_energy_spend(&v1->char_c, 200, 120);
                v1->char_c.meta.field_190 = 1;
                v1729 = 2.0;
                for ( l = 0; l < (char)v1->char_c.skills_1[2] + 2; ++l )
                {
                  *(float *)&v1727 = -(double)(unsigned int)get_MT_range(15) - 30.0;
                  v1728 = (double)(unsigned int)(get_MT_range(3) + 6);
                  v614 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v615 = v1->char_c.meta.cEffectSprite.y + 116.0;
                  v616 = v615;
                  v617 = (double)(43 * (char)v614) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 812, v617, v616, v614, 1, (int)&v1727, 3);
                }
LABEL_1679:
                char_c::play_sfx(&v1->char_c, 13);
              }
LABEL_1680:
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                v479 = v1->char_c.meta.viz.get_frame == 9;
LABEL_1682:
                if ( v479 )
                  v1->char_c.meta.cEffectSprite.v_force = 0.5;
              }
            }
            return;
          case 545:
          case 547:
            v1->field_894 = 1;
            v1->char_c.meta.field_18C = 6;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( v1->char_c.meta.viz.get_subseq >= 2 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
                goto LABEL_1739;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              if ( v1->char_c.meta.viz.get_frame == 2 && v1->char_c.meta.viz.get_frame_time >= 3 && v1->char_c.skills_1[6] >= 3 )
                ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_frame_func8)(v1);
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
              {
                char_c::add_card_energy(&v1->char_c, 50);
                char_c::spell_energy_spend(&v1->char_c, 200, 120);
                v1->char_c.field_7E4 = (double)(unsigned int)get_MT_range(45);
                v1->char_c.field_7DC = 10.0;
                v1->char_c.dash_angle = 15.0;
                v1->char_c.meta.field_190 = 1;
                char_c::play_sfx(&v1->char_c, 19);
              }
              if ( v1->char_c.meta.viz.get_frame >= 2 )
              {
                if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) )
                {
                  *(float *)&v1799 = (double)(unsigned int)get_MT_range(360);
                  v1800 = (double)(unsigned int)get_MT_range(5) + 5.0;
                  v1801 = 5.0;
                  v618 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v619 = (double)(unsigned int)get_MT_range(60) + v1->char_c.meta.cEffectSprite.y + 30.0;
                  v620 = v619;
                  v621 = (double)(unsigned int)get_MT_range(60) + v1->char_c.meta.cEffectSprite.x - 30.0;
                  addbullet(&v1->char_c, 817, v621, v620, v618, 1, (int)&v1799, 3);
                }
                if ( v1->char_c.meta.viz.get_frame == 3 )
                {
                  v622 = v1->char_c.meta.cEffectSprite.color_A;
                  if ( (unsigned __int8)v622 < 0xFu )
                    v1->char_c.meta.cEffectSprite.color_A = 0;
                  else
                    v1->char_c.meta.cEffectSprite.color_A = v622 - 15;
                }
              }
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_1732;
            if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) )
            {
              *(float *)&v1733 = (double)(unsigned int)get_MT_range(360);
              v1734 = (double)(unsigned int)get_MT_range(3) + 1.0;
              v1735 = 5.0;
              v623 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v624 = (double)(unsigned int)get_MT_range(60) + v1->char_c.meta.cEffectSprite.y + 30.0;
              v625 = v624;
              v626 = (double)(unsigned int)get_MT_range(60) + v1->char_c.meta.cEffectSprite.x - 30.0;
              addbullet(&v1->char_c, 817, v626, v625, v623, 1, (int)&v1733, 3);
            }
            ++v1->char_c.field_7D2;
            if ( v1->char_c.field_7D0 )
            {
              v628 = 0.0;
            }
            else
            {
              v1->char_c.field_7DC = v1->char_c.field_7DC + v1->char_c.dash_angle;
              v627 = v1->char_c.dash_angle - 0.75;
              v1->char_c.dash_angle = v627;
              v628 = 0.0;
              if ( v627 <= 0.0 )
              {
                v1->char_c.dash_angle = 0.0;
                v1->char_c.field_7D0 = 1;
              }
            }
            if ( v1->char_c.field_7D0 != 1 || (v629 = v1->char_c.dash_angle + 0.1500000059604645, v1->char_c.dash_angle = v629, v1->char_c.field_7DC = v1->char_c.field_7DC - v629, v1->char_c.not_charge_attack) && v1->char_c.meta.viz.get_elaps_frames < 20 * ((char)v1->char_c.skills_1[6] + 2) )
            {
              v632 = (double)(char)v1->char_c.skills_1[6] * 0.05000000074505806;
              v1->char_c.field_7E8 = (double)v1->char_c.down_X * v632 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.field_7E8;
              v1->char_c.field_7EC = v1->char_c.field_7EC - v632 * (double)v1->char_c.down_Y;
              if ( v1->char_c.field_7E8 > 10.0 )
                v1->char_c.field_7E8 = 10.0;
              if ( v1->char_c.field_7E8 < -10.0 )
                v1->char_c.field_7E8 = -10.0;
              if ( v1->char_c.field_7EC > 10.0 )
                v1->char_c.field_7EC = 10.0;
              if ( v1->char_c.field_7EC < -10.0 )
                v1->char_c.field_7EC = -10.0;
              v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.field_7E8;
              if ( v1->char_c.meta.cEffectSprite.y < 300.0 || v628 >= v1->char_c.field_7EC )
                v628 = v1->char_c.field_7EC;
              v1->char_c.meta.cEffectSprite.v_inerc = v628;
LABEL_1732:
              if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D2 )
                ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            }
            else
            {
              v1->char_c.meta.cEffectSprite.color_A = -1;
              char_c::play_sfx(&v1->char_c, 20);
              v630 = v1->char_c.meta.vtbl;
              v1->char_c.field_7DC = 0.0;
              ((void (__thiscall *)(char_suika *))v630->next_subseq_func5)(v1);
              v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.meta.cEffectSprite.h_inerc * 0.300000011920929;
              v1->char_c.meta.cEffectSprite.v_inerc = 10.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
              v631 = v1->char_c.skills_1[6];
              v1451 = 2.0;
              if ( (char)v631 >= 3 )
                v1451 = 2.5;
              if ( (char)v631 >= 4 )
                v1451 = 3.0;
              v1->char_c.field_7D2 = (signed int)((double)v1->char_c.field_7D2 / v1451);
            }
            return;
          case 546:
          case 548:
            v1->field_894 = 1;
            v1->char_c.meta.field_18C = 6;
            if ( !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            if ( v1->char_c.meta.viz.get_subseq >= 2 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
LABEL_1739:
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                return;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              if ( v1->char_c.meta.viz.get_frame == 2 && v1->char_c.meta.viz.get_frame_time >= 13 && v1->char_c.skills_1[6] >= 3 )
                ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_frame_func8)(v1);
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
              {
                char_c::add_card_energy(&v1->char_c, 50);
                char_c::spell_energy_spend(&v1->char_c, 200, 120);
                v1->char_c.field_7E4 = (double)(unsigned int)get_MT_range(45);
                v1->char_c.field_7DC = 10.0;
                v1->char_c.dash_angle = 15.0;
                v1->char_c.meta.field_190 = 1;
                char_c::play_sfx(&v1->char_c, 19);
              }
              if ( v1->char_c.meta.viz.get_frame >= 2 )
              {
                if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) )
                {
                  *(float *)&v1832 = (double)(unsigned int)get_MT_range(360);
                  v1833 = (double)(unsigned int)get_MT_range(3) + 1.0;
                  v1834 = 5.0;
                  v633 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v634 = (double)(unsigned int)get_MT_range(60) + v1->char_c.meta.cEffectSprite.y + 30.0;
                  v635 = v634;
                  v636 = (double)(unsigned int)get_MT_range(60) + v1->char_c.meta.cEffectSprite.x - 30.0;
                  addbullet(&v1->char_c, 817, v636, v635, v633, 1, (int)&v1832, 3);
                }
                if ( v1->char_c.meta.viz.get_frame == 3 )
                {
                  v637 = v1->char_c.meta.cEffectSprite.color_A;
                  if ( (unsigned __int8)v637 < 0xFu )
                    v1->char_c.meta.cEffectSprite.color_A = 0;
                  else
                    v1->char_c.meta.cEffectSprite.color_A = v637 - 15;
                }
              }
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_1784;
            if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) )
            {
              *(float *)&v1739 = (double)(unsigned int)get_MT_range(360);
              v1740 = (double)(unsigned int)get_MT_range(5) + 5.0;
              v1741 = 5.0;
              v638 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v639 = (double)(unsigned int)get_MT_range(60) + v1->char_c.meta.cEffectSprite.y + 30.0;
              v640 = v639;
              v641 = (double)(unsigned int)get_MT_range(60) + v1->char_c.meta.cEffectSprite.x - 30.0;
              addbullet(&v1->char_c, 817, v641, v640, v638, 1, (int)&v1739, 3);
            }
            ++v1->char_c.field_7D2;
            if ( v1->char_c.field_7D0 )
            {
              v643 = 0.0;
            }
            else
            {
              v1->char_c.field_7DC = v1->char_c.field_7DC + v1->char_c.dash_angle;
              v642 = v1->char_c.dash_angle - 0.75;
              v1->char_c.dash_angle = v642;
              v643 = 0.0;
              if ( v642 <= 0.0 )
              {
                v1->char_c.dash_angle = 0.0;
                v1->char_c.field_7D0 = 1;
              }
            }
            if ( v1->char_c.field_7D0 != 1 || (v644 = v1->char_c.dash_angle + 0.1500000059604645, v1->char_c.dash_angle = v644, v1->char_c.field_7DC = v1->char_c.field_7DC - v644, v1->char_c.not_charge_attack) && v1->char_c.meta.viz.get_elaps_frames < 20 * ((char)v1->char_c.skills_1[6] + 2) )
            {
              v648 = (double)(char)v1->char_c.skills_1[6] * 0.01999999955296516 + 0.02999999932944775;
              v1->char_c.field_7E8 = (double)v1->char_c.down_X * v648 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.field_7E8;
              v1->char_c.field_7EC = v1->char_c.field_7EC - v648 * (double)v1->char_c.down_Y;
              if ( v1->char_c.field_7E8 > 10.0 )
                v1->char_c.field_7E8 = 10.0;
              if ( v1->char_c.field_7E8 < -10.0 )
                v1->char_c.field_7E8 = -10.0;
              if ( v1->char_c.field_7EC > 10.0 )
                v1->char_c.field_7EC = 10.0;
              if ( v1->char_c.field_7EC < -10.0 )
                v1->char_c.field_7EC = -10.0;
              v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.field_7E8;
              if ( v1->char_c.meta.cEffectSprite.y < 300.0 || v643 >= v1->char_c.field_7EC )
                v643 = v1->char_c.field_7EC;
              v1->char_c.meta.cEffectSprite.v_inerc = v643;
LABEL_1784:
              if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_elaps_frames >= v1->char_c.field_7D2 )
                ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            }
            else
            {
              v1->char_c.meta.cEffectSprite.color_A = -1;
              char_c::play_sfx(&v1->char_c, 20);
              v645 = v1->char_c.meta.vtbl;
              v1->char_c.field_7DC = 0.0;
              ((void (__thiscall *)(char_suika *))v645->next_subseq_func5)(v1);
              v646 = 2;
              v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.meta.cEffectSprite.h_inerc * 0.300000011920929;
              v1->char_c.meta.cEffectSprite.v_inerc = 10.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
              v647 = v1->char_c.skills_1[6];
              if ( (char)v647 >= 3 )
                v646 = 3;
              if ( (char)v647 >= 4 )
                v646 = 4;
              v1->char_c.field_7D2 /= v646;
            }
            return;
          case 550:
            v1->char_c.meta.field_18C = 10;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            char_c::sub10func(&v1->char_c);
            v649 = v1->char_c.field_7D0;
            if ( v649 > 0 )
            {
              v650 = v1->char_c.field_7D2;
              if ( v650 < (v1->char_c.skills_1[10] >= 3) + 2 )
              {
                if ( v649 % 5 == 1 )
                {
                  v1->char_c.field_7D2 = v650 + 1;
                  char_c::play_sfx(&v1->char_c, 26);
                  *(float *)&v1805 = 20.0 - (double)(unsigned int)get_MT_range(40);
                  v1806 = 5.0;
                  v1807 = 0.0;
                  v651 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v652 = v1->char_c.meta.current_frame_params;
                  v653 = v1->char_c.meta.cEffectSprite.y - (double)v652->extra_24byte[5];
                  v654 = v653;
                  v655 = (double)(v652->extra_24byte[4] * (char)v651) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 822, v655, v654, v651, 1, (int)&v1805, 3);
                }
                ++v1->char_c.field_7D0;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              v1->char_c.field_7E4 = (double)(unsigned int)get_MT_range(45);
              v1->char_c.meta.field_190 = 1;
              v1->char_c.field_7D0 = 1;
            }
            return;
          case 551:
            v1->char_c.meta.field_18C = 10;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            char_c::sub10func(&v1->char_c);
            v656 = v1->char_c.field_7D0;
            if ( v656 > 0 )
            {
              v657 = v1->char_c.field_7D2;
              if ( v657 < (v1->char_c.skills_1[10] >= 3) + 4 )
              {
                if ( v656 % 5 == 1 )
                {
                  v1->char_c.field_7D2 = v657 + 1;
                  char_c::play_sfx(&v1->char_c, 26);
                  *(float *)&v1745 = 20.0 - (double)(unsigned int)get_MT_range(40);
                  v1746 = 5.0;
                  v1747 = 0.0;
                  v658 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v659 = v1->char_c.meta.current_frame_params;
                  v660 = v1->char_c.meta.cEffectSprite.y - (double)v659->extra_24byte[5];
                  v661 = v660;
                  v662 = (double)(v659->extra_24byte[4] * (char)v658) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 822, v662, v661, v658, 1, (int)&v1745, 3);
                }
                ++v1->char_c.field_7D0;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              v1->char_c.field_7E4 = (double)(unsigned int)get_MT_range(45);
              v1->char_c.meta.field_190 = 1;
              v1->char_c.field_7D0 = 1;
            }
            return;
          case 560:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 3;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_3278;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              *(float *)&v1829 = 7.0;
              v1830 = 6.0;
              v1831 = 0.0;
              v663 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v664 = v1->char_c.meta.cEffectSprite.y + 85.0;
              v665 = v664;
              v666 = (double)(100 * (char)v663) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 813, v666, v665, v663, -1, (int)&v1829, 3);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 14);
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 3 )
              return;
            v1751 = 7.0;
            v1752 = 6.0;
            v1753 = 3.0;
            v667 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v668 = v1->char_c.meta.cEffectSprite.y + 85.0;
            v669 = v668;
            v670 = (double)(100 * (char)v667) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 813, v670, v669, v667, -1, (int)&v1751, 3);
            goto LABEL_1938;
          case 561:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 3;
            if ( !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_1014;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              *(float *)&v1811 = 15.0;
              v1812 = 6.0;
              v1813 = 0.0;
              v671 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v672 = v1->char_c.meta.cEffectSprite.y + 85.0;
              v673 = v672;
              v674 = (double)(100 * (char)v671) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 813, v674, v673, v671, -1, (int)&v1811, 3);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 14);
            }
            if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 3 )
              return;
            v1757 = 15.0;
            v1758 = 6.0;
            v1759 = 3.0;
            v675 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v676 = v1->char_c.meta.cEffectSprite.y + 85.0;
            v677 = v676;
            v678 = (double)(100 * (char)v675) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 813, v678, v677, v675, -1, (int)&v1757, 3);
            goto LABEL_1938;
          case 562:
            if ( v1->char_c.meta.viz.get_subseq == 5 )
              char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 3;
            v679 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v1->char_c.meta.cEffectSprite.v_inerc = v679;
            v680 = v679 + v1->char_c.meta.cEffectSprite.y;
            if ( c_meta::getlvl_height(&v1->char_c) >= v680 && v1->char_c.meta.cEffectSprite.v_inerc < 0.0 && v1->char_c.meta.viz.get_subseq < 5 )
            {
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
              v1->char_c.meta.cEffectSprite.v_force = 0.0;
              v1->char_c.air_dash_cnt = 0;
              goto LABEL_111;
            }
            if ( v1->char_c.meta.viz.get_subseq < 2 && !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            v681 = v1->char_c.field_7D0;
            if ( v681 > 0 )
            {
              v682 = v1->char_c.meta.viz.get_subseq;
              if ( v682 == 2 || v682 == 3 )
              {
                if ( v681 % 4 == 1 )
                {
                  char_c::add_card_energy(&v1->char_c, 10);
                  v1->char_c.meta.field_190 = 1;
                  v683 = v1->char_c.meta.enemy;
                  v684 = (v683->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
                  v685 = v684;
                  v686 = v683->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
                  v687 = -(signed __int16)(signed int)atan2_deg(v686, v685);
                  v1->char_c.field_7D4 = v687;
                  if ( v687 < -10 )
                    v1->char_c.field_7D4 = -10;
                  if ( v1->char_c.field_7D4 > 10 )
                    v1->char_c.field_7D4 = 10;
                  char_c::play_sfx(&v1->char_c, 9);
                  if ( v1->char_c.field_7D8 == 1 )
                  {
                    v688 = (double)v1->char_c.field_7D4 + 30.0;
                    v1823 = v688 - (double)(MT_getnext() % 0x3Cu);
                    v1824 = 15.0;
                    v1825 = (double)(unsigned int)get_MT_range(4);
                    a2f = (int *)&v1823;
                  }
                  else
                  {
                    v693 = (double)v1->char_c.field_7D4 + 30.0;
                    *(float *)&v1763 = v693 - (double)(MT_getnext() % 0x3Cu);
                    v1764 = 15.0;
                    v1765 = (double)(unsigned int)get_MT_range(4);
                    a2f = &v1763;
                  }
                  v689 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v690 = v1->char_c.meta.cEffectSprite.y + 85.0;
                  v691 = v690;
                  v692 = (double)(44 * (char)v689) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 808, v692, v691, v689, 1, (int)a2f, 3);
                }
                ++v1->char_c.field_7D0;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            v694 = v1->char_c.meta.viz.get_elaps_frames;
            if ( v694 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 5 )
            {
              if ( v1->char_c.meta.viz.get_subseq == 1 && v694 > 4 && (!v1->char_c.not_charge_attack || v694 > 25) )
                ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              {
                if ( v1->char_c.not_charge_attack == 1 )
                {
                  v695 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v696 = v1->char_c.meta.cEffectSprite.y + 107.0;
                  v697 = v696;
                  v698 = v1->char_c.meta.cEffectSprite.x - (double)(23 * (char)v695);
                  scene_add_effect(&v1->char_c, 62, v698, v697, v695, 1);
                }
                *(float *)&v1661 = 0.0;
                v1662 = 0.0;
                v1663 = 4.0;
                v699 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v700 = v1->char_c.meta.cEffectSprite.y + 107.0;
                v701 = v700;
                v702 = v1->char_c.meta.cEffectSprite.x - (double)(23 * (char)v699);
                addbullet(&v1->char_c, 808, v702, v701, v699, 1, (int)&v1661, 3);
              }
              if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_frame == 2 && !v1->char_c.meta.viz.get_frame_time )
              {
                v1->char_c.field_7D0 = 1;
                char_c::spell_energy_spend(&v1->char_c, 200, 120);
              }
              if ( v1->char_c.meta.viz.get_subseq == 3 )
              {
                v703 = v1->char_c.meta.viz.get_elaps_frames;
                if ( v703 > 10 && !v1->char_c.not_charge_attack || v703 > 25 )
                  ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              }
              if ( v1->char_c.meta.viz.get_subseq == 4 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
                v1->char_c.meta.cEffectSprite.v_force = 0.60000002;
            }
            else
            {
LABEL_1873:
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
            }
            return;
          case 565:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 7;
            if ( !v1->char_c.down_B )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_3278;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
              goto LABEL_1914;
            if ( v1->char_c.meta.viz.get_frame == 4 && v1->char_c.not_charge_attack )
            {
              ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              v704 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v705 = v1->char_c.meta.cEffectSprite.y + 70.0;
              v706 = v705;
              v707 = v1->char_c.meta.cEffectSprite.x - (double)(40 * (char)v704);
              scene_add_effect(&v1->char_c, 62, v707, v706, v704, 1);
              return;
            }
            if ( v1->char_c.meta.viz.get_frame == 6 )
            {
              *(float *)&v1855 = 7.0;
              v1856 = 10.0;
              v1857 = 0.0;
              v1858 = 0.0;
              v708 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v709 = v1->char_c.meta.cEffectSprite.y + 85.0;
              v710 = v709;
              v711 = (double)(100 * (char)v708) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 818, v711, v710, v708, 1, (int)&v1855, 4);
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 14);
            }
LABEL_1914:
            if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 3 )
              return;
            v1863 = 7.0;
            a2g = (int *)&v1863;
            v1864 = 10.0;
            v1865 = 3.0;
            v1866 = 1.0;
            xd = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v712 = v1->char_c.meta.cEffectSprite.y + 85.0;
            a4d = v712;
            v713 = (double)(100 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
            v714 = v713;
            goto LABEL_1937;
          case 566:
            char_c::sub10func(&v1->char_c);
            v1->char_c.meta.field_18C = 7;
            if ( !v1->char_c.down_C )
              v1->char_c.not_charge_attack = 0;
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              goto LABEL_1014;
            if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
              goto LABEL_1933;
            if ( v1->char_c.meta.viz.get_frame == 4 && v1->char_c.not_charge_attack )
            {
              ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              v715 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v716 = v1->char_c.meta.cEffectSprite.y + 70.0;
              v717 = v716;
              v718 = v1->char_c.meta.cEffectSprite.x - (double)(40 * (char)v715);
              scene_add_effect(&v1->char_c, 62, v718, v717, v715, 1);
            }
            else
            {
              if ( v1->char_c.meta.viz.get_frame == 6 )
              {
                *(float *)&v1871 = 15.0;
                v1872 = 10.0;
                v1873 = 0.0;
                v1874 = 0.0;
                v719 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v720 = v1->char_c.meta.cEffectSprite.y + 85.0;
                v721 = v720;
                v722 = (double)(100 * (char)v719) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 818, v722, v721, v719, 1, (int)&v1871, 4);
                char_c::spell_energy_spend(&v1->char_c, 200, 120);
                char_c::add_card_energy(&v1->char_c, 50);
                char_c::play_sfx(&v1->char_c, 14);
              }
LABEL_1933:
              if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
              {
                *(float *)&v1879 = 15.0;
                a2g = &v1879;
                v1880 = 10.0;
                v1881 = 3.0;
                v1882 = 1.0;
                xd = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v723 = v1->char_c.meta.cEffectSprite.y + 85.0;
                a4d = v723;
                v724 = (double)(100 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                v714 = v724;
LABEL_1937:
                v725 = v714;
                addbullet(&v1->char_c, 818, v725, a4d, xd, 1, (int)a2g, 4);
LABEL_1938:
                char_c::spell_energy_spend(&v1->char_c, 200, 120);
                char_c::add_card_energy(&v1->char_c, 50);
                char_c::play_sfx(&v1->char_c, 14);
              }
            }
            return;
          case 570:
            v1->char_c.meta.field_18C = 11;
            switch ( v1->char_c.meta.viz.get_subseq )
            {
              case 1:
                if ( !(v1->char_c.meta.viz.get_elaps_frames % 20) )
                {
                  v1405 = 0.0;
                  do
                  {
                    *(float *)&v1546 = (double)(unsigned int)get_MT_range(20) + v1405 * 30.0;
                    v1547 = 250.0;
                    v1548 = 2.0;
                    v726 = -*(float *)&v1546;
                    v727 = (unsigned __int8)(1 - 2 * (sinus(v726) > 0.0));
                    v728 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v729 = -*(float *)&v1546;
                    v730 = sinus(v729);
                    v731 = v730 * v1547 * 0.2000000029802322 + v1->char_c.meta.cEffectSprite.y;
                    v732 = v731;
                    v733 = -*(float *)&v1546;
                    v734 = cosinus(v733);
                    v735 = v734 * v1547 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 823, v735, v732, v728, v727, (int)&v1546, 3);
                    v1405 = v1405 + 1.0;
                  }
                  while ( v1405 < 12.0 );
                }
                v736 = v1->char_c.meta.field_190;
                if ( v736 != 1 && v736 != 7 )
                  goto LABEL_1949;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
                char_c::reset_forces(v1->char_c.meta.enemy);
                v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                v737 = (v1->char_c.meta.cEffectSprite.h_inerc + 70.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                v1->char_c.meta.enemy->meta.cEffectSprite.x = v737;
                v738 = v1->char_c.meta.cEffectSprite.v_inerc + v1->char_c.meta.cEffectSprite.y;
                v1->char_c.meta.enemy->meta.cEffectSprite.y = v738;
                ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(100);
                return;
              case 4:
              case 5:
                v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
                if ( !char_c::char_on_ground_down(&v1->char_c) )
                  goto LABEL_1949;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 6);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 180.0;
                v739 = (v1->char_c.meta.cEffectSprite.h_inerc + 21.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                v1->char_c.meta.enemy->meta.cEffectSprite.x = v739;
                v740 = v1->char_c.meta.cEffectSprite.y + 140.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                v1->char_c.meta.enemy->meta.cEffectSprite.y = v740;
                return;
              case 7:
              case 8:
                v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
                if ( char_c::char_on_ground_down(&v1->char_c) )
                  goto LABEL_2001;
                goto LABEL_1949;
              default:
LABEL_1949:
                if ( viz_process(&v1->char_c) )
                  goto LABEL_3278;
                v741 = v1->char_c.meta.viz.get_subseq;
                if ( !v741 && v1->char_c.meta.viz.get_frame == 4 && v1->char_c.meta.viz.get_frame_time >= 2 * (8 - (char)v1->char_c.skills_1[11]) )
                  goto LABEL_2789;
                if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v741 == 1 )
                {
                  char_c::spell_energy_spend(&v1->char_c, 200, 120);
                  char_c::add_card_energy(&v1->char_c, 50);
                  char_c::play_sfx(&v1->char_c, 15);
                  *(float *)&v1664 = 0.0;
                  v1665 = (double)(char)v1->char_c.skills_1[11] + 7.0;
                  v1666 = 0.0;
                  v742 = v1->char_c.meta.cEffectSprite.y + 100.0;
                  addbullet(&v1->char_c, 823, v1->char_c.meta.cEffectSprite.x, v742, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1664, 3);
                }
                if ( v1->char_c.meta.viz.get_subseq == 1 )
                {
                  v743 = v1->char_c.meta.enemy;
                  v744 = v743->meta.cEffectSprite.y;
                  c_meta::getlvl_height(v743);
                  v1->char_c.meta.field_194 = 1;
                  if ( v1->char_c.meta.viz.get_elaps_frames >= 40 )
                    goto LABEL_2868;
                }
                if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame )
                {
                  if ( v1->char_c.meta.viz.get_subseq != 3 )
                    goto LABEL_1971;
                  if ( v1->char_c.meta.viz.get_frame )
                  {
                    if ( v1->char_c.meta.viz.get_frame != 1 )
                      goto LABEL_1971;
                    v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                    move_val = 107;
                    v745 = (v1->char_c.meta.cEffectSprite.h_inerc + 48.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                    v1->char_c.meta.enemy->meta.cEffectSprite.x = v745;
                    v746 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                    v747 = v746;
                  }
                  else
                  {
                    v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                    move_val = 100;
                    v748 = (v1->char_c.meta.cEffectSprite.h_inerc + 70.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                    v1->char_c.meta.enemy->meta.cEffectSprite.x = v748;
                    v749 = v1->char_c.meta.cEffectSprite.v_inerc + v1->char_c.meta.cEffectSprite.y;
                    v747 = v749;
                  }
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = v747;
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(move_val);
                }
                else if ( v1->char_c.meta.viz.get_subseq == 3 )
                {
                  v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
                  return;
                }
LABEL_1971:
                if ( v1->char_c.meta.viz.get_subseq == 4 )
                {
                  v1->char_c.meta.enemy->meta.cEffectSprite.dir = v1->char_c.meta.cEffectSprite.dir;
                  sub_4867D0(1, v1->char_c.meta.cEffectSprite.x);
                  sub_4867F0(1, v1->char_c.meta.cEffectSprite.y);
                  v750 = (v1->char_c.meta.cEffectSprite.h_inerc + 45.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v750;
                  v751 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = v751;
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                }
                if ( v1->char_c.meta.viz.get_subseq == 5 )
                {
                  sub_4867D0(1, v1->char_c.meta.cEffectSprite.x);
                  sub_4867F0(1, v1->char_c.meta.cEffectSprite.y);
                  switch ( (_WORD)v1 )
                  {
                    case 0:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -135.0;
                      v752 = (v1->char_c.meta.cEffectSprite.h_inerc + 44.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v752;
                      v753 = v1->char_c.meta.cEffectSprite.y + 128.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v754 = v753;
                      goto LABEL_1982;
                    case 1:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -60.0;
                      v755 = (v1->char_c.meta.cEffectSprite.h_inerc + 50.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v755;
                      v756 = v1->char_c.meta.cEffectSprite.y + 85.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v756;
                      break;
                    case 2:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -10.0;
                      v757 = (v1->char_c.meta.cEffectSprite.h_inerc + 20.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v757;
                      v758 = v1->char_c.meta.cEffectSprite.y + 60.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v758;
                      break;
                    case 3:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 45.0;
                      v759 = (v1->char_c.meta.cEffectSprite.h_inerc - 28.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v759;
                      v760 = v1->char_c.meta.cEffectSprite.y + 50.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v754 = v760;
                      goto LABEL_1982;
                    case 4:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 90.0;
                      v761 = (v1->char_c.meta.cEffectSprite.h_inerc - 55.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v761;
                      v762 = v1->char_c.meta.cEffectSprite.y + 100.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v762;
                      break;
                    case 5:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 135.0;
                      v763 = (v1->char_c.meta.cEffectSprite.h_inerc - 50.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v763;
                      v764 = v1->char_c.meta.cEffectSprite.y + 140.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v764;
                      break;
                    case 6:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 180.0;
                      v765 = (v1->char_c.meta.cEffectSprite.h_inerc - 5.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v765;
                      v766 = v1->char_c.meta.cEffectSprite.y + 150.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v754 = v766;
LABEL_1982:
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v754;
                      break;
                    default:
                      break;
                  }
                }
                if ( v1->char_c.meta.viz.get_subseq != 6 )
                  goto LABEL_2045;
                sub_4867D0(1, v1->char_c.meta.cEffectSprite.x);
                sub_4867F0(1, v1->char_c.meta.cEffectSprite.y);
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
                {
                  v1->char_c.meta.enemy->meta.cEffectSprite.dir = -v1->char_c.meta.cEffectSprite.dir;
                  v1->char_c.meta.enemy->meta.cEffectSprite.h_inerc = 0.0;
                  v1->char_c.meta.enemy->meta.cEffectSprite.v_inerc = 0.0;
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(97);
                  char_c::play_sfx(&v1->char_c, 51);
                  shake_camera(20.0);
                  char_c::play_sfx(&v1->char_c, 12);
                  v767 = (double)(60 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v767;
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = c_meta::getlvl_height(v1->char_c.meta.enemy);
                  sub_464110(&v1->char_c, (signed int)((double)(signed int)((double)(char)v1->char_c.skills_1[11] * 0.1000000014901161 + 1500.0) * v1->char_c.field_548), 750, 1, 1);
                  v768 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v769 = v1->char_c.meta.cEffectSprite.y + 10.0;
                  v770 = v769;
                  v771 = (double)(37 * (char)v768) + v1->char_c.meta.cEffectSprite.x;
                  scene_add_effect(&v1->char_c, 4, v771, v770, v768, 1);
                  v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                  v1->char_c.meta.enemy->meta.hit_stop = 44;
                  *(float *)&v1670 = 0.0;
                  v1671 = 0.0;
                  v1672 = 2.0;
                  v772 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v773 = (double)(37 * (char)v772) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 858, v773, v1->char_c.meta.cEffectSprite.y, v772, -1, (int)&v1670, 3);
                }
                if ( !v1->char_c.meta.viz.get_frame )
                {
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                  v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 180.0;
                  v776 = (v1->char_c.meta.cEffectSprite.h_inerc + 21.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v776;
                  v777 = v1->char_c.meta.cEffectSprite.y + 140.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                  v778 = v777;
                  goto LABEL_2044;
                }
                if ( v1->char_c.meta.viz.get_frame == 1 )
                {
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                  v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 120.0;
                  v774 = (v1->char_c.meta.cEffectSprite.h_inerc + 85.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v774;
                  v775 = v1->char_c.meta.cEffectSprite.y + 85.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = v775;
                  v1->char_c.meta.enemy->meta.cEffectSprite.dir = -v1->char_c.meta.cEffectSprite.dir;
                }
                break;
            }
            goto LABEL_2045;
          case 571:
            v1->char_c.meta.field_18C = 11;
            switch ( v1->char_c.meta.viz.get_subseq )
            {
              case 1:
                if ( !(v1->char_c.meta.viz.get_elaps_frames % 20) )
                {
                  v1406 = 0.0;
                  do
                  {
                    *(float *)&v1552 = (double)(unsigned int)get_MT_range(20) + v1406 * 30.0;
                    v1553 = 250.0;
                    v1554 = 2.0;
                    v779 = -*(float *)&v1552;
                    v780 = (unsigned __int8)(1 - 2 * (sinus(v779) > 0.0));
                    v781 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v782 = -*(float *)&v1552;
                    v783 = sinus(v782);
                    v784 = v783 * v1553 * 0.2000000029802322 + v1->char_c.meta.cEffectSprite.y;
                    v785 = v784;
                    v786 = -*(float *)&v1552;
                    v787 = cosinus(v786);
                    v788 = v787 * v1553 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 823, v788, v785, v781, v780, (int)&v1552, 3);
                    v1406 = v1406 + 1.0;
                  }
                  while ( v1406 < 12.0 );
                }
                v789 = v1->char_c.meta.field_190;
                if ( v789 != 1 && v789 != 7 )
                  goto LABEL_2002;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
                char_c::reset_forces(v1->char_c.meta.enemy);
                v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                v790 = (v1->char_c.meta.cEffectSprite.h_inerc + 70.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                v1->char_c.meta.enemy->meta.cEffectSprite.x = v790;
                v791 = v1->char_c.meta.cEffectSprite.v_inerc + v1->char_c.meta.cEffectSprite.y;
                v1->char_c.meta.enemy->meta.cEffectSprite.y = v791;
                ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(100);
                return;
              case 4:
              case 5:
                v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
                if ( !char_c::char_on_ground_down(&v1->char_c) )
                  goto LABEL_2002;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 6);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 180.0;
                v792 = (v1->char_c.meta.cEffectSprite.h_inerc + 21.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                v1->char_c.meta.enemy->meta.cEffectSprite.x = v792;
                v793 = v1->char_c.meta.cEffectSprite.y + 140.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                v1->char_c.meta.enemy->meta.cEffectSprite.y = v793;
                return;
              case 7:
              case 8:
                v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
                if ( char_c::char_on_ground_down(&v1->char_c) )
                  goto LABEL_2001;
                goto LABEL_2002;
              default:
LABEL_2002:
                if ( viz_process(&v1->char_c) )
                  goto LABEL_3278;
                v794 = v1->char_c.meta.viz.get_subseq;
                if ( !v794 && v1->char_c.meta.viz.get_frame == 4 && v1->char_c.meta.viz.get_frame_time >= 27 - 2 * (char)v1->char_c.skills_1[11] )
                  goto LABEL_2789;
                if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v794 == 1 )
                {
                  char_c::spell_energy_spend(&v1->char_c, 200, 120);
                  char_c::add_card_energy(&v1->char_c, 50);
                  char_c::play_sfx(&v1->char_c, 15);
                  *(float *)&v1676 = 0.0;
                  v1677 = (double)(char)v1->char_c.skills_1[11] * 1.25 + 9.0;
                  v1678 = 0.0;
                  v795 = v1->char_c.meta.cEffectSprite.y + 100.0;
                  addbullet(&v1->char_c, 823, v1->char_c.meta.cEffectSprite.x, v795, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1676, 3);
                }
                if ( v1->char_c.meta.viz.get_subseq == 1 )
                {
                  v796 = v1->char_c.meta.enemy;
                  v797 = v796->meta.cEffectSprite.y;
                  c_meta::getlvl_height(v796);
                  v1->char_c.meta.field_194 = 1;
                  if ( v1->char_c.meta.viz.get_elaps_frames >= 40 )
                    goto LABEL_2868;
                }
                if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame )
                {
                  if ( v1->char_c.meta.viz.get_subseq != 3 )
                    goto LABEL_2024;
                  if ( v1->char_c.meta.viz.get_frame )
                  {
                    if ( v1->char_c.meta.viz.get_frame != 1 )
                      goto LABEL_2024;
                    v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                    move_vala = 107;
                    v798 = (v1->char_c.meta.cEffectSprite.h_inerc + 48.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                    v1->char_c.meta.enemy->meta.cEffectSprite.x = v798;
                    v799 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                    v800 = v799;
                  }
                  else
                  {
                    v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                    move_vala = 100;
                    v801 = (v1->char_c.meta.cEffectSprite.h_inerc + 70.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                    v1->char_c.meta.enemy->meta.cEffectSprite.x = v801;
                    v802 = v1->char_c.meta.cEffectSprite.v_inerc + v1->char_c.meta.cEffectSprite.y;
                    v800 = v802;
                  }
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = v800;
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(move_vala);
                }
                else if ( v1->char_c.meta.viz.get_subseq == 3 )
                {
                  v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
                  return;
                }
LABEL_2024:
                if ( v1->char_c.meta.viz.get_subseq == 4 )
                {
                  v1->char_c.meta.enemy->meta.cEffectSprite.dir = v1->char_c.meta.cEffectSprite.dir;
                  sub_4867D0(1, v1->char_c.meta.cEffectSprite.x);
                  sub_4867F0(1, v1->char_c.meta.cEffectSprite.y);
                  v803 = (v1->char_c.meta.cEffectSprite.h_inerc + 45.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v803;
                  v804 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = v804;
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                }
                if ( v1->char_c.meta.viz.get_subseq == 5 )
                {
                  sub_4867D0(1, v1->char_c.meta.cEffectSprite.x);
                  sub_4867F0(1, v1->char_c.meta.cEffectSprite.y);
                  switch ( (_WORD)v1 )
                  {
                    case 0:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -135.0;
                      v805 = (v1->char_c.meta.cEffectSprite.h_inerc + 44.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v805;
                      v806 = v1->char_c.meta.cEffectSprite.y + 128.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v807 = v806;
                      goto LABEL_2035;
                    case 1:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -60.0;
                      v808 = (v1->char_c.meta.cEffectSprite.h_inerc + 50.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v808;
                      v809 = v1->char_c.meta.cEffectSprite.y + 85.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v809;
                      break;
                    case 2:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -10.0;
                      v810 = (v1->char_c.meta.cEffectSprite.h_inerc + 20.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v810;
                      v811 = v1->char_c.meta.cEffectSprite.y + 60.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v811;
                      break;
                    case 3:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 45.0;
                      v812 = (v1->char_c.meta.cEffectSprite.h_inerc - 28.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v812;
                      v813 = v1->char_c.meta.cEffectSprite.y + 50.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v807 = v813;
                      goto LABEL_2035;
                    case 4:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 90.0;
                      v814 = (v1->char_c.meta.cEffectSprite.h_inerc - 55.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v814;
                      v815 = v1->char_c.meta.cEffectSprite.y + 100.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v815;
                      break;
                    case 5:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 135.0;
                      v816 = (v1->char_c.meta.cEffectSprite.h_inerc - 50.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v816;
                      v817 = v1->char_c.meta.cEffectSprite.y + 140.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v817;
                      break;
                    case 6:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 180.0;
                      v818 = (v1->char_c.meta.cEffectSprite.h_inerc - 5.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v818;
                      v819 = v1->char_c.meta.cEffectSprite.y + 150.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v807 = v819;
LABEL_2035:
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v807;
                      break;
                    default:
                      break;
                  }
                }
                if ( v1->char_c.meta.viz.get_subseq == 6 )
                {
                  sub_4867D0(1, v1->char_c.meta.cEffectSprite.x);
                  sub_4867F0(1, v1->char_c.meta.cEffectSprite.y);
                  if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
                  {
                    v1->char_c.meta.enemy->meta.cEffectSprite.dir = -v1->char_c.meta.cEffectSprite.dir;
                    v1->char_c.meta.enemy->meta.cEffectSprite.h_inerc = 0.0;
                    v1->char_c.meta.enemy->meta.cEffectSprite.v_inerc = 0.0;
                    ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(97);
                    char_c::play_sfx(&v1->char_c, 51);
                    shake_camera(20.0);
                    char_c::play_sfx(&v1->char_c, 12);
                    v820 = (double)(60 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                    v1->char_c.meta.enemy->meta.cEffectSprite.x = v820;
                    v1->char_c.meta.enemy->meta.cEffectSprite.y = c_meta::getlvl_height(v1->char_c.meta.enemy);
                    sub_464110(&v1->char_c, (signed int)((double)(signed int)((double)(char)v1->char_c.skills_1[11] * 0.1000000014901161 + 1500.0) * v1->char_c.field_548), 750, 1, 1);
                    v821 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v822 = v1->char_c.meta.cEffectSprite.y + 10.0;
                    v823 = v822;
                    v824 = (double)(37 * (char)v821) + v1->char_c.meta.cEffectSprite.x;
                    scene_add_effect(&v1->char_c, 4, v824, v823, v821, 1);
                    v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                    v1->char_c.meta.enemy->meta.hit_stop = 44;
                    *(float *)&v1682 = 0.0;
                    v1683 = 0.0;
                    v1684 = 2.0;
                    v825 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v826 = (double)(37 * (char)v825) + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 858, v826, v1->char_c.meta.cEffectSprite.y, v825, -1, (int)&v1682, 3);
                  }
                  if ( v1->char_c.meta.viz.get_frame )
                  {
                    if ( v1->char_c.meta.viz.get_frame == 1 )
                    {
                      ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 120.0;
                      v827 = (v1->char_c.meta.cEffectSprite.h_inerc + 85.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v827;
                      v828 = v1->char_c.meta.cEffectSprite.y + 85.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v828;
                      v1->char_c.meta.enemy->meta.cEffectSprite.dir = -v1->char_c.meta.cEffectSprite.dir;
                    }
                  }
                  else
                  {
                    ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                    v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 180.0;
                    v829 = (v1->char_c.meta.cEffectSprite.h_inerc + 21.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                    v1->char_c.meta.enemy->meta.cEffectSprite.x = v829;
                    v830 = v1->char_c.meta.cEffectSprite.y + 140.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                    v778 = v830;
LABEL_2044:
                    v1->char_c.meta.enemy->meta.cEffectSprite.y = v778;
                  }
                }
                break;
            }
LABEL_2045:
            if ( !v1->char_c.meta.viz.get_elaps_frames )
            {
              if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = 2.0;
                v1->char_c.meta.cEffectSprite.v_inerc = 25.0;
                v1->char_c.meta.cEffectSprite.v_force = 0.85000002;
              }
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 7 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = -10.0;
                v1->char_c.meta.cEffectSprite.v_inerc = 7.0;
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
                sub_4867D0(0, v1->char_c.meta.cEffectSprite.x);
                sub_4867F0(0, v1->char_c.meta.cEffectSprite.y);
                v1->char_c.meta.enemy->meta.hit_stop = 0;
              }
            }
            return;
          case 599:
            v831 = v1->char_c.field_7D0;
            if ( v831 > 0 && v1->char_c.meta.viz.get_frame < 7 && v831 < 12 )
            {
              v832 = MT_getnext() % 0x23u;
              v1->char_c.field_7D4 = v832;
              *(float *)&v1567 = (double)(-20 - v832);
              v1568 = (double)(signed __int16)(MT_getnext() % 5u + 10);
              v1569 = 0.0;
              v833 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v834 = (double)(20 * (char)v833 * (v1->char_c.field_7D0 + 1)) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 807, v834, v1->char_c.meta.cEffectSprite.y, v833, 1, (int)&v1567, 3);
              *(float *)&v1567 = (double)(MT_getnext() % 0x168u);
              v1568 = 0.0;
              v1569 = 1.0;
              v835 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v836 = (double)(20 * (char)v835 * (v1->char_c.field_7D0 + 1)) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v836, v1->char_c.meta.cEffectSprite.y, v835, 1, (int)&v1567, 3);
              if ( v1->char_c.field_7D0 == 1 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                char_c::spell_energy_spend(&v1->char_c, 200, 120);
              }
              ++v1->char_c.field_7D0;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
              v1->char_c.field_7D0 = 1;
            return;
          case 600:
            v837 = v1->char_c.meta.viz.get_subseq;
            if ( !v837 || v837 == 5 )
              char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 5, 2);
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              v838 = v1->char_c.meta.cEffectSprite.v_inerc - 0.4000000059604645;
              v1->char_c.meta.cEffectSprite.v_inerc = v838;
              if ( v838 < 1.0 )
                v1->char_c.meta.cEffectSprite.v_inerc = 1.0;
              if ( ++v1->char_c.field_7D0 >= 60 )
                goto LABEL_3151;
            }
            v839 = v1->char_c.meta.viz.get_subseq;
            if ( v839 == 3 || v839 == 4 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              if ( char_c::char_on_ground_down(&v1->char_c) )
              {
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                goto LABEL_111;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::sub_4834E0(&v1->char_c, 40);
              scene_play_sfx(23);
              v840 = v1->char_c.meta.cEffectSprite.y + 100.0;
              scene_add_effect(&v1->char_c, 115, v1->char_c.meta.cEffectSprite.x, v840, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              char_c::sub_469450(&v1->char_c, 0, 0, 60);
              char_c::sub_483570(&v1->char_c);
              weather_forecast_next();
              *(float *)&v1688 = 0.0;
              v1689 = 0.0;
              v1690 = 0.0;
              v841 = v1->char_c.meta.cEffectSprite.y + 100.0;
              addbullet(&v1->char_c, 850, v1->char_c.meta.cEffectSprite.x, v841, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1688, 3);
              char_c::play_sfx(&v1->char_c, 50);
              v1->char_c.meta.cEffectSprite.v_inerc = 10.0;
            }
            if ( v1->char_c.meta.viz.get_subseq == 3 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = 6.0;
              v1->char_c.meta.cEffectSprite.h_inerc = -8.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
            }
            return;
          case 601:
            if ( v1->char_c.meta.viz.get_subseq <= 2 )
              char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 5, 2);
            if ( v1->char_c.meta.viz.get_subseq != 2 )
              goto LABEL_2101;
            if ( v1->char_c.meta.field_190 == 1 )
            {
              if ( v1->char_c.meta.cEffectSprite.x > 750.0 && v1->char_c.meta.cEffectSprite.dir == 1 )
                v1->char_c.meta.cEffectSprite.x = 750.0;
              if ( v1->char_c.meta.cEffectSprite.x < 550.0 && v1->char_c.meta.cEffectSprite.dir == -1 )
                v1->char_c.meta.cEffectSprite.x = 550.0;
              ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(102);
              v842 = (double)(510 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
              v1->char_c.meta.enemy->meta.cEffectSprite.x = v842;
              v1->char_c.meta.enemy->meta.cEffectSprite.y = v1->char_c.meta.cEffectSprite.y;
              char_c::reset_forces(v1->char_c.meta.enemy);
            }
            else
            {
              if ( char_c::sub10func(&v1->char_c) )
              {
                v1->char_c.meta.enemy->meta.field_1A4 = 0.0;
                v1->char_c.meta.enemy->meta.field_1A8 = 0.0;
                ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(53);
              }
LABEL_2101:
              if ( viz_process(&v1->char_c) )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
              if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
              {
                char_c::sub_4834E0(&v1->char_c, 40);
                scene_play_sfx(23);
                v843 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v844 = v1->char_c.meta.cEffectSprite.y + 160.0;
                v845 = v844;
                v846 = (double)(50 * (char)v843) + v1->char_c.meta.cEffectSprite.x;
                scene_add_effect(&v1->char_c, 115, v846, v845, v843, 1);
                char_c::sub_469450(&v1->char_c, 0, 0, 60);
                char_c::sub_483570(&v1->char_c);
                weather_forecast_next();
              }
              if ( v1->char_c.meta.viz.get_subseq == 3 && !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 2 )
                {
                  shake_camera(5.0);
                  v847 = (double)(470 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v847;
                  *(float *)&v1694 = 0.0;
                  v1695 = 0.0;
                  v1696 = 0.0;
                  addbullet(&v1->char_c, 851, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1694, 3);
                  char_c::play_sfx(&v1->char_c, 55);
                }
                if ( !v1->char_c.meta.viz.get_frame_time )
                {
                  if ( v1->char_c.meta.viz.get_frame == 3 )
                  {
                    v848 = (double)(450 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                    v1->char_c.meta.enemy->meta.cEffectSprite.x = v848;
                  }
                  if ( !v1->char_c.meta.viz.get_frame_time )
                  {
                    if ( v1->char_c.meta.viz.get_frame == 4 )
                    {
                      v849 = (double)(400 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v849;
                    }
                    if ( !v1->char_c.meta.viz.get_frame_time )
                    {
                      if ( v1->char_c.meta.viz.get_frame == 5 )
                      {
                        v850 = (double)(330 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                        v1->char_c.meta.enemy->meta.cEffectSprite.x = v850;
                      }
                      if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
                      {
                        char_c::crash_spell_borders(v1->char_c.meta.enemy, 1);
                        v851 = v1->char_c.meta.enemy;
                        if ( v851->meta.health <= 0 )
                          goto LABEL_2273;
                        ((void (__stdcall *)(signed int))v851->meta.vtbl->set_seq_func2)(53);
                        v1->char_c.meta.enemy->meta.cEffectSprite.dir = v1->char_c.meta.cEffectSprite.dir;
                      }
                    }
                  }
                }
              }
            }
            return;
          case 602:
            if ( v1->char_c.meta.viz.get_frame == 19 )
              char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 5, 2);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && !v1->char_c.meta.viz.get_subseq )
            {
              char_c::sub_4834E0(&v1->char_c, 40);
              scene_play_sfx(23);
              v852 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v853 = v1->char_c.meta.cEffectSprite.y + 50.0;
              v854 = v853;
              v855 = (double)(20 * (char)v852) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 115, v855, v854, v852, 1);
              char_c::sub_469450(&v1->char_c, 0, 0, 60);
              char_c::sub_483570(&v1->char_c);
              weather_forecast_next();
            }
            v856 = v1->char_c.meta.viz.get_frame;
            if ( v856 >= 6 && v856 <= 17 )
            {
              v1->char_c.meta.cEffectSprite.x_off = 0.0;
              v1->char_c.meta.cEffectSprite.y_off = 0.0;
              v857 = 2.0 - v1->char_c.field_7DC;
              v1->char_c.meta.cEffectSprite.scaleX = v857;
              v1->char_c.meta.cEffectSprite.scaleY = v857;
              v1->char_c.field_7DC = v1->char_c.field_7DC * 0.75;
            }
            if ( v1->char_c.meta.viz.get_frame == 18 )
            {
              v858 = v1->char_c.meta.cEffectSprite.scaleX - 0.1000000014901161;
              v1->char_c.meta.cEffectSprite.scaleX = v858;
              if ( v858 < 1.0 )
                v1->char_c.meta.cEffectSprite.scaleX = 1.0;
              v1->char_c.meta.cEffectSprite.scaleY = v1->char_c.meta.cEffectSprite.scaleX;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 6 )
              {
                *(float *)&v1534 = 0.0;
                v1535 = 0.0;
                v1536 = 0.0;
                addbullet(&v1->char_c, 852, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1534, 3);
                v1407 = 0.0;
                do
                {
                  *(float *)&v1534 = (double)(unsigned int)get_MT_range(40) + v1407 * 45.0 - 20.0;
                  v1535 = 30.0;
                  v1536 = 1.0;
                  if ( *(float *)&v1534 < 0.0 || *(float *)&v1534 > 180.0 )
                    v1->char_c.field_7D0 = -1;
                  else
                    v1->char_c.field_7D0 = 1;
                  v859 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v860 = (double)(40 * (char)v859) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 811, v860, v1->char_c.meta.cEffectSprite.y, v859, LOBYTE(v1->char_c.field_7D0), (int)&v1534, 3);
                  v1407 = v1407 + 1.0;
                }
                while ( v1407 < 8.0 );
                char_c::play_sfx(&v1->char_c, 53);
              }
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 18 )
                  char_c::play_sfx(&v1->char_c, 54);
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 19 )
                {
                  v1->char_c.meta.cEffectSprite.scaleX = 1.0;
                  v1->char_c.meta.cEffectSprite.scaleY = 1.0;
                }
              }
            }
            return;
          case 603:
            v861 = v1->char_c.meta.viz.get_subseq;
            if ( !v861 || v861 == 7 )
              char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 5, 2);
            v862 = v1->char_c.meta.viz.get_subseq;
            if ( v862 != 1 && v862 != 2 )
              goto LABEL_2172;
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 7);
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.0;
              return;
            }
            v862 = v1->char_c.meta.viz.get_subseq;
            if ( v862 == 2 )
            {
              v863 = v1->char_c.meta.field_190;
              if ( v863 == 1 || v863 == 7 )
              {
                char_c::reset_forces(&v1->char_c);
                ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                char_c::reset_forces(v1->char_c.meta.enemy);
                ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                v864 = (v1->char_c.meta.cEffectSprite.h_inerc + 45.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                v1->char_c.meta.enemy->meta.cEffectSprite.x = v864;
                v865 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                v1->char_c.meta.enemy->meta.cEffectSprite.y = v865;
                return;
              }
            }
LABEL_2172:
            if ( v862 == 3 )
            {
              v866 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              v1->char_c.meta.cEffectSprite.v_inerc = v866;
              if ( v866 < 1.0 )
                v1->char_c.meta.cEffectSprite.v_inerc = 1.0;
              sub_4867D0(1, v1->char_c.meta.cEffectSprite.x);
              sub_4867F0(1, v1->char_c.meta.cEffectSprite.y);
              v867 = (v1->char_c.meta.cEffectSprite.h_inerc + 45.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              v1->char_c.meta.enemy->meta.cEffectSprite.x = v867;
              v868 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
              v1->char_c.meta.enemy->meta.cEffectSprite.y = v868;
            }
            if ( v1->char_c.meta.viz.get_subseq != 4 )
              goto LABEL_2179;
            sub_4867D0(1, v1->char_c.meta.cEffectSprite.x);
            sub_4867F0(1, v1->char_c.meta.cEffectSprite.y);
            v869 = v1->char_c.field_7D0;
            if ( v869 >= 120 )
              goto LABEL_3151;
            v1->char_c.field_7D0 = v869 + 1;
            v1->char_c.meta.enemy->meta.cEffectSprite.dir = v1->char_c.meta.cEffectSprite.dir;
LABEL_2179:
            if ( v1->char_c.meta.viz.get_subseq == 5 && v1->char_c.meta.viz.get_frame >= 4 && (v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force, (unsigned __int8)char_c::char_on_ground_down(&v1->char_c)) )
            {
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 7);
            }
            else
            {
              if ( v1->char_c.meta.viz.get_subseq != 6 || (v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force, !char_c::char_on_ground_down(&v1->char_c)) )
              {
                if ( v1->char_c.meta.viz.get_subseq == 7 )
                {
                  v870 = v1->char_c.meta.cEffectSprite.h_inerc - 0.75;
                  v1->char_c.meta.cEffectSprite.h_inerc = v870;
                  if ( v870 < 0.0 )
                    v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                }
                if ( viz_process(&v1->char_c) )
                  v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
                if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
                {
                  char_c::sub_4834E0(&v1->char_c, 40);
                  scene_play_sfx(23);
                  v871 = v1->char_c.meta.cEffectSprite.y + 100.0;
                  scene_add_effect(&v1->char_c, 115, v1->char_c.meta.cEffectSprite.x, v871, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                  char_c::sub_469450(&v1->char_c, 0, 0, 60);
                  char_c::sub_483570(&v1->char_c);
                  weather_forecast_next();
                }
                if ( v1->char_c.meta.viz.get_subseq == 3 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
                {
                  v1->char_c.meta.cEffectSprite.v_inerc = 12.5;
                  v1->char_c.meta.cEffectSprite.v_force = 0.5;
                }
                if ( v1->char_c.meta.viz.get_subseq == 4 )
                {
                  switch ( (_WORD)v1 )
                  {
                    case 0:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -135.0;
                      v872 = (double)(44 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v872;
                      v873 = v1->char_c.meta.cEffectSprite.y + 128.0;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v873;
                      break;
                    case 1:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -60.0;
                      v874 = (double)(50 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v874;
                      v875 = v1->char_c.meta.cEffectSprite.y + 85.0;
                      v876 = v875;
                      goto LABEL_2207;
                    case 2:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -10.0;
                      v877 = (double)(20 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v877;
                      v878 = v1->char_c.meta.cEffectSprite.y + 60.0;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v878;
                      break;
                    case 3:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 45.0;
                      v879 = v1->char_c.meta.cEffectSprite.x - (double)(28 * v1->char_c.meta.cEffectSprite.dir);
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v879;
                      v880 = v1->char_c.meta.cEffectSprite.y + 50.0;
                      v876 = v880;
                      goto LABEL_2207;
                    case 4:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 90.0;
                      v881 = v1->char_c.meta.cEffectSprite.x - (double)(55 * v1->char_c.meta.cEffectSprite.dir);
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v881;
                      v882 = v1->char_c.meta.cEffectSprite.y + 100.0;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v882;
                      break;
                    case 5:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 135.0;
                      v883 = v1->char_c.meta.cEffectSprite.x - (double)(50 * v1->char_c.meta.cEffectSprite.dir);
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v883;
                      v884 = v1->char_c.meta.cEffectSprite.y + 140.0;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v884;
                      break;
                    case 6:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 180.0;
                      v885 = v1->char_c.meta.cEffectSprite.x - (double)(5 * v1->char_c.meta.cEffectSprite.dir);
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v885;
                      v886 = v1->char_c.meta.cEffectSprite.y + 150.0;
                      v876 = v886;
LABEL_2207:
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v876;
                      break;
                    default:
                      break;
                  }
                }
                if ( v1->char_c.meta.viz.get_subseq == 5 )
                {
                  if ( !v1->char_c.meta.viz.get_frame_time )
                  {
                    if ( v1->char_c.meta.viz.get_frame == 2 )
                    {
                      sub_4867D0(0, v1->char_c.meta.cEffectSprite.x);
                      sub_4867F0(0, v1->char_c.meta.cEffectSprite.y);
                      v1->char_c.meta.enemy->meta.cEffectSprite.dir = -v1->char_c.meta.cEffectSprite.dir;
                      v1->char_c.meta.enemy->meta.field_1A4 = 36.0;
                      v1->char_c.meta.enemy->meta.field_1A8 = -18.0;
                      ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(88);
                      v1->char_c.meta.cEffectSprite.v_inerc = 6.0;
                      v1->char_c.meta.cEffectSprite.h_inerc = -6.0;
                      v1->char_c.meta.cEffectSprite.v_force = 0.75;
                      char_c::play_sfx(&v1->char_c, 51);
                    }
                    if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
                      v1->char_c.meta.cEffectSprite.v_force = 0.5;
                  }
                  if ( v1->char_c.meta.viz.get_frame )
                  {
                    if ( v1->char_c.meta.viz.get_frame == 1 )
                    {
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 120.0;
                      v887 = (double)(85 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v887;
                      v888 = v1->char_c.meta.cEffectSprite.y + 85.0;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v888;
                      v1->char_c.meta.enemy->meta.cEffectSprite.dir = -v1->char_c.meta.cEffectSprite.dir;
                    }
                  }
                  else
                  {
                    v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 180.0;
                    v889 = (double)(21 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                    v1->char_c.meta.enemy->meta.cEffectSprite.x = v889;
                    v890 = v1->char_c.meta.cEffectSprite.y + 140.0;
                    v1->char_c.meta.enemy->meta.cEffectSprite.y = v890;
                  }
                }
                if ( !v1->char_c.meta.viz.get_elaps_frames )
                {
                  if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
                  {
                    v1->char_c.meta.cEffectSprite.h_inerc = 10.0;
                    v1->char_c.meta.cEffectSprite.v_inerc = 10.0;
                    v1->char_c.meta.cEffectSprite.v_force = 0.60000002;
                  }
                  if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
                  {
                    char_c::play_sfx(&v1->char_c, 50);
                    *(float *)&v1700 = 0.0;
                    v1701 = 0.0;
                    v1702 = 0.0;
                    v891 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v892 = v1->char_c.meta.cEffectSprite.y + 50.0;
                    v893 = v892;
                    v894 = (double)(20 * (char)v891) + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 853, v894, v893, v891, 1, (int)&v1700, 3);
                  }
                }
                return;
              }
LABEL_108:
              v27 = v1;
LABEL_109:
              v28 = v1->char_c.meta.vtbl;
LABEL_110:
              v28->set_seq_func2(&v27->char_c.meta, 10);
            }
LABEL_111:
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            char_c::reset_forces(&v1->char_c);
            return;
          case 604:
            if ( v1->char_c.meta.viz.get_subseq <= 2 )
              char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 5, 2);
            if ( v1->char_c.meta.viz.get_subseq != 2 )
              goto LABEL_2242;
            if ( v1->char_c.meta.field_190 == 1 )
            {
              if ( v1->char_c.meta.cEffectSprite.x > 750.0 && v1->char_c.meta.cEffectSprite.dir == 1 )
                v1->char_c.meta.cEffectSprite.x = 750.0;
              if ( v1->char_c.meta.cEffectSprite.x < 550.0 && v1->char_c.meta.cEffectSprite.dir == -1 )
                v1->char_c.meta.cEffectSprite.x = 550.0;
              ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              v895 = (double)(510 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
              v1->char_c.meta.enemy->meta.cEffectSprite.x = v895;
              v1->char_c.meta.enemy->meta.cEffectSprite.y = v1->char_c.meta.cEffectSprite.y;
              char_c::reset_forces(v1->char_c.meta.enemy);
              ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(102);
              return;
            }
            if ( char_c::sub10func(&v1->char_c) )
            {
              v1->char_c.meta.enemy->meta.field_1A4 = 0.0;
              v1->char_c.meta.enemy->meta.field_1A8 = 0.0;
              ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(53);
            }
LABEL_2242:
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
            {
              char_c::sub_4834E0(&v1->char_c, 40);
              scene_play_sfx(23);
              v896 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v897 = v1->char_c.meta.cEffectSprite.y + 160.0;
              v898 = v897;
              v899 = (double)(50 * (char)v896) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 115, v899, v898, v896, 1);
              char_c::sub_469450(&v1->char_c, 0, 0, 60);
              char_c::sub_483570(&v1->char_c);
              weather_forecast_next();
            }
            if ( v1->char_c.meta.viz.get_subseq != 3 )
              return;
            if ( v1->char_c.meta.viz.get_frame_time )
              goto LABEL_2257;
            if ( v1->char_c.meta.viz.get_frame == 2 )
            {
              shake_camera(5.0);
              v900 = (double)(470 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
              v1->char_c.meta.enemy->meta.cEffectSprite.x = v900;
              *(float *)&v1706 = 0.0;
              v1707 = 0.0;
              v1708 = 0.0;
              addbullet(&v1->char_c, 854, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1706, 3);
              char_c::play_sfx(&v1->char_c, 55);
LABEL_2257:
              if ( v1->char_c.meta.viz.get_frame == 2 && !(v1->char_c.meta.viz.get_elaps_frames % 4) )
              {
                *(float *)&v1712 = 0.0;
                v1713 = 0.0;
                v1714 = 1.0;
                v901 = v1->char_c.meta.enemy;
                v902 = v901->meta.cEffectSprite.y + 100.0;
                addbullet(&v1->char_c, 854, v901->meta.cEffectSprite.x, v902, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1712, 3);
              }
            }
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 3 )
              {
                v903 = (double)(450 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                v1->char_c.meta.enemy->meta.cEffectSprite.x = v903;
              }
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 4 )
                {
                  v904 = (double)(400 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v904;
                }
                if ( !v1->char_c.meta.viz.get_frame_time )
                {
                  if ( v1->char_c.meta.viz.get_frame == 5 )
                  {
                    v905 = (double)(330 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                    v1->char_c.meta.enemy->meta.cEffectSprite.x = v905;
                  }
                  if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
                  {
                    v1->field_890 = 600;
                    v851 = v1->char_c.meta.enemy;
                    if ( v851->meta.health <= 0 )
                    {
LABEL_2273:
                      v851->meta.field_1A4 = -5.0;
                      v1->char_c.meta.enemy->meta.field_1A8 = 12.0;
                      ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(77);
                      v1->char_c.meta.enemy->meta.cEffectSprite.dir = -v1->char_c.meta.cEffectSprite.dir;
                    }
                    else
                    {
                      ((void (__stdcall *)(signed int))v851->meta.vtbl->set_seq_func2)(53);
                      v1->char_c.meta.enemy->meta.cEffectSprite.dir = v1->char_c.meta.cEffectSprite.dir;
                    }
                  }
                }
              }
            }
            return;
          case 605:
            char_c::sub_46AB50(&v1->char_c, 5, 2);
            v906 = v1->char_c.meta.viz.get_subseq;
            switch ( v906 )
            {
              case 0:
                if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && !v906 )
                {
                  char_c::sub_4834E0(&v1->char_c, 40);
                  scene_play_sfx(23);
                  v907 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v908 = v1->char_c.meta.cEffectSprite.y + 50.0;
                  v909 = v908;
                  v910 = (double)(20 * (char)v907) + v1->char_c.meta.cEffectSprite.x;
                  scene_add_effect(&v1->char_c, 115, v910, v909, v907, 1);
                  weather_forecast_next();
                  char_c::sub_469450(&v1->char_c, 0, 0, 60);
                  char_c::sub_483570(&v1->char_c);
                }
                v911 = v1->char_c.meta.viz.get_frame;
                if ( v911 >= 6 && v911 <= 15 )
                {
                  v1->char_c.meta.cEffectSprite.x_off = 0.0;
                  v1->char_c.meta.cEffectSprite.y_off = 0.0;
                  v912 = 3.0 - v1->char_c.field_7DC;
                  v1->char_c.meta.cEffectSprite.scaleX = v912;
                  v1->char_c.meta.cEffectSprite.scaleY = v912;
                  v1->char_c.field_7DC = v1->char_c.field_7DC * 0.75;
                }
                if ( v1->char_c.meta.viz.get_frame == 3 && !v1->char_c.meta.viz.get_frame_time )
                {
                  v1->char_c.meta.field_194 = 1;
                  v1->char_c.meta.field_190 = 0;
                }
                goto LABEL_2286;
              case 1:
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                v914 = v1->char_c.meta.cEffectSprite.y;
                v915 = c_meta::getlvl_height(&v1->char_c);
                v916 = &v1->char_c;
                if ( v915 + 10.0 <= v914 )
                  goto LABEL_2961;
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v917 = v1->field_892;
                if ( v917 <= 0 )
                {
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 14);
                  char_c::play_sfx(&v1->char_c, 54);
                  return;
                }
                v918 = v1->char_c.down_Y;
                v919 = v1->char_c.up_A;
                if ( v918 <= 0 )
                {
                  if ( v919 && v919 < 3 || v1->char_c.down_A == 2 || v1->char_c.keyhit_A )
                  {
                    v1->field_892 = v917 - 45;
                    v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 7);
                    return;
                  }
                  v922 = v1->char_c.up_B;
                  if ( v922 && v922 < 3 || v1->char_c.down_B == 2 || v1->char_c.keyhit_B )
                  {
                    v1->field_892 = v917 - 45;
                    v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 8);
                    return;
                  }
                  v923 = v1->char_c.up_C;
                  if ( v923 && v923 < 3 || v1->char_c.down_C == 2 || v1->char_c.keyhit_C )
                  {
                    v1->field_892 = v917 - 45;
                    v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 9);
                    return;
                  }
                }
                else if ( v919 && v919 < 3 || v1->char_c.down_A == 2 || v1->char_c.keyhit_A || (v920 = v1->char_c.up_B) != 0 && v920 < 3 || v1->char_c.down_B == 2 || v1->char_c.keyhit_B || (v921 = v1->char_c.up_C) != 0 && v921 < 3 || v1->char_c.down_C == 2 || v1->char_c.keyhit_C )
                {
                  v1->field_892 = v917 - 45;
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 15);
                  return;
                }
                v924 = v1->char_c.down_X;
                if ( v924 > 0 )
                {
                  v1->char_c.meta.cEffectSprite.dir = 1;
                  v925 = v1->char_c.meta.vtbl;
                  v1->char_c.meta.cEffectSprite.h_inerc = 4.0;
                  v925->set_subseq_func3(&v1->char_c.meta, 2);
                  return;
                }
                if ( v924 < 0 )
                {
                  v1->char_c.meta.cEffectSprite.dir = -1;
                  v926 = v1->char_c.meta.vtbl;
                  v1->char_c.meta.cEffectSprite.h_inerc = 4.0;
                  v926->set_subseq_func3(&v1->char_c.meta, 2);
                  return;
                }
                if ( v918 >= 0 )
                  goto LABEL_2286;
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
                v1->char_c.field_7DC = 0.0;
                if ( v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir > 0 )
                  v1->char_c.field_7DC = 1.0;
                if ( v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir < 0 )
                  v1->char_c.field_7DC = -1.0;
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
                return;
              case 2:
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                v927 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) + 10.0 <= v927 )
                {
                  v928 = v1->char_c.meta.vtbl->set_subseq_func3;
                  v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
                  v928(&v1->char_c.meta, 5);
                  return;
                }
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                if ( !v1->field_892 )
                {
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 14);
                  char_c::play_sfx(&v1->char_c, 54);
                  return;
                }
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
                {
                  v1->char_c.meta.field_190 = 0;
                  v1->char_c.meta.field_194 = 1;
                }
                v929 = v1->char_c.up_A;
                if ( v929 && v929 < 3 || v1->char_c.down_A == 2 || v1->char_c.keyhit_A )
                {
                  move_valb = 7;
                  goto LABEL_2390;
                }
                v930 = v1->char_c.up_B;
                if ( v930 && v930 < 3 || v1->char_c.down_B == 2 || v1->char_c.keyhit_B )
                {
                  move_valb = 8;
                  goto LABEL_2390;
                }
                v931 = v1->char_c.up_C;
                if ( v931 && v931 < 3 || v1->char_c.down_C == 2 || v1->char_c.keyhit_C )
                {
                  move_valb = 9;
                  goto LABEL_2390;
                }
                v932 = v1->char_c.down_X;
                if ( !v932 )
                {
                  v933 = v1->char_c.meta.vtbl->set_subseq_func3;
                  v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                  v933(&v1->char_c.meta, 1);
                  return;
                }
                if ( v932 > 0 )
                {
                  v1->char_c.meta.cEffectSprite.dir = 1;
                  v1->char_c.meta.cEffectSprite.h_inerc = 4.0;
                }
                if ( v1->char_c.down_X < 0 )
                {
                  v1->char_c.meta.cEffectSprite.dir = -1;
                  v1->char_c.meta.cEffectSprite.h_inerc = 4.0;
                }
                if ( v1->char_c.down_Y >= 0 )
                  goto LABEL_2286;
                v1->char_c.field_7DC = 0.0;
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
                if ( v1->char_c.down_X )
                {
                  v1->char_c.field_7DC = 1.0;
                  v934 = v1->char_c.down_X < 0;
                  if ( v1->char_c.down_X > 0 )
                  {
                    v1->char_c.meta.cEffectSprite.dir = 1;
                    v934 = v1->char_c.down_X < 0;
                  }
                  if ( v934 )
                    v1->char_c.meta.cEffectSprite.dir = -1;
                }
                goto LABEL_2365;
              case 4:
              case 5:
                v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
                if ( char_c::char_on_ground_down(&v1->char_c) )
                {
                  char_c::reset_forces(&v1->char_c);
                  v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 6);
                  char_c::play_sfx(&v1->char_c, 56);
                  shake_camera(4.0);
                  v1408 = 0.0;
                  do
                  {
                    *(float *)&v1592 = (double)(unsigned int)get_MT_range(40) + v1408 * 45.0 - 20.0;
                    v1593 = 30.0;
                    v1594 = 2.0;
                    if ( *(float *)&v1592 < 0.0 || *(float *)&v1592 > 180.0 )
                      v1->char_c.field_7D0 = -1;
                    else
                      v1->char_c.field_7D0 = 1;
                    addbullet(&v1->char_c, 855, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, LOBYTE(v1->char_c.field_7D0), (int)&v1592, 3);
                    v1408 = v1408 + 1.0;
                  }
                  while ( v1408 < 8.0 );
                  return;
                }
                v935 = v1->char_c.up_A;
                if ( v935 && v935 < 3 || v1->char_c.down_A == 2 || v1->char_c.keyhit_A )
                {
                  move_valb = 10;
LABEL_2390:
                  v1->field_892 -= 45;
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, move_valb);
                  v1->char_c.meta.field_194 = 1;
LABEL_2391:
                  v1->char_c.meta.field_190 = 0;
                  return;
                }
                v936 = v1->char_c.up_B;
                if ( v936 && v936 < 3 || v1->char_c.down_B == 2 || v1->char_c.keyhit_B )
                {
                  v1->field_892 -= 45;
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 12);
                  v1->char_c.meta.field_194 = 1;
                  v1->char_c.meta.field_190 = 0;
                  v1->char_c.meta.cEffectSprite.v_inerc = 5.0;
                  v1->char_c.meta.cEffectSprite.v_force = 0.44999999;
                  return;
                }
                v937 = v1->char_c.up_C;
                if ( v937 && v937 < 3 || v1->char_c.down_C == 2 || v1->char_c.keyhit_C )
                {
                  move_valb = 16;
                  goto LABEL_2390;
                }
LABEL_2286:
                if ( viz_process(&v1->char_c) )
                  goto LABEL_3014;
                v913 = 1.0;
                if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
                {
                  v1->char_c.meta.cEffectSprite.scaleX = 1.0;
                  v1->char_c.meta.cEffectSprite.scaleY = 1.0;
                }
                if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
                {
                  v1->char_c.meta.cEffectSprite.v_inerc = 10.0;
                  v1->char_c.meta.cEffectSprite.v_force = 0.30000001;
                  v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.field_7DC * 5.0;
                  v1410 = 0.0;
                  do
                  {
                    *(float *)&v1598 = (double)(unsigned int)get_MT_range(40) + v1410 * 45.0 - 20.0;
                    v1599 = 30.0;
                    v1600 = 2.0;
                    if ( *(float *)&v1598 < 0.0 || *(float *)&v1598 > 180.0 )
                      v1->char_c.field_7D0 = -1;
                    else
                      v1->char_c.field_7D0 = 1;
                    addbullet(&v1->char_c, 855, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, LOBYTE(v1->char_c.field_7D0), (int)&v1598, 3);
                    v1410 = v1410 + 1.0;
                  }
                  while ( v1410 < 8.0 );
                  v913 = 1.0;
                }
                v946 = v1->char_c.meta.viz.get_elaps_frames;
                if ( !v946 && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 7 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 8 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 9) )
                  goto LABEL_3014;
                if ( v946 )
                  goto LABEL_2456;
                if ( (v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 10) && (v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 12) && (v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 14) )
                {
                  if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 15 )
                  {
                    v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, v1->char_c.meta.viz.get_elaps_frames);
                    v913 = 1.0;
                    v1->char_c.meta.cEffectSprite.scaleX = 1.0;
                    v1->char_c.meta.cEffectSprite.scaleY = 1.0;
                  }
LABEL_2456:
                  if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 16 )
                  {
                    switch ( v1->char_c.meta.viz.get_subseq )
                    {
                      case 0:
                        if ( v1->char_c.meta.viz.get_frame >= 6 )
                          v1->field_892 = 480;
                        if ( !v1->char_c.meta.viz.get_frame_time )
                        {
                          if ( v1->char_c.meta.viz.get_frame == 6 )
                          {
                            *(float *)&v1543 = 0.0;
                            v1544 = 0.0;
                            v1545 = 0.0;
                            addbullet(&v1->char_c, 855, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1543, 3);
                            v1411 = 0.0;
                            do
                            {
                              *(float *)&v1543 = (double)(unsigned int)get_MT_range(40) + v1411 * 45.0 - 20.0;
                              v1544 = 30.0;
                              v1545 = 2.0;
                              if ( *(float *)&v1543 < 0.0 || *(float *)&v1543 > 180.0 )
                                v1->char_c.field_7D0 = -1;
                              else
                                v1->char_c.field_7D0 = 1;
                              v947 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                              v948 = (double)(40 * (char)v947) + v1->char_c.meta.cEffectSprite.x;
                              addbullet(&v1->char_c, 855, v948, v1->char_c.meta.cEffectSprite.y, v947, LOBYTE(v1->char_c.field_7D0), (int)&v1543, 3);
                              v1411 = v1411 + 1.0;
                            }
                            while ( v1411 < 8.0 );
                            char_c::play_sfx(&v1->char_c, 53);
                            v913 = 1.0;
                          }
                          if ( !v1->char_c.meta.viz.get_frame_time )
                          {
                            v949 = v1->char_c.meta.viz.get_frame == 16;
                            goto LABEL_2474;
                          }
                        }
                        break;
                      case 1:
                        if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
                        {
                          v1->char_c.meta.field_194 = 1;
                          v1->char_c.meta.field_190 = 0;
                        }
                        break;
                      case 2:
                        if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
                        {
                          char_c::play_sfx(&v1->char_c, 56);
                          shake_camera(2.0);
                          v1412 = 0.0;
                          do
                          {
                            *(float *)&v1628 = (double)(unsigned int)get_MT_range(40) + v1412 * 60.0 - 20.0;
                            v1629 = 20.0;
                            v1630 = 2.0;
                            if ( *(float *)&v1628 < 0.0 || *(float *)&v1628 > 180.0 )
                              v1->char_c.field_7D0 = -1;
                            else
                              v1->char_c.field_7D0 = 1;
                            v950 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                            v951 = (double)(70 * (char)v950) + v1->char_c.meta.cEffectSprite.x;
                            addbullet(&v1->char_c, 855, v951, v1->char_c.meta.cEffectSprite.y, v950, LOBYTE(v1->char_c.field_7D0), (int)&v1628, 3);
                            v1412 = v1412 + 1.0;
                          }
                          while ( v1412 < 6.0 );
                        }
                        if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
                        {
                          char_c::play_sfx(&v1->char_c, 56);
                          shake_camera(2.0);
                          v1413 = 0.0;
                          do
                          {
                            *(float *)&v1604 = (double)(unsigned int)get_MT_range(40) + v1413 * 60.0 - 20.0;
                            v1605 = 20.0;
                            v1606 = 2.0;
                            if ( *(float *)&v1604 < 0.0 || *(float *)&v1604 > 180.0 )
                              v1->char_c.field_7D0 = -1;
                            else
                              v1->char_c.field_7D0 = 1;
                            v952 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                            v953 = (double)(70 * (char)v952) + v1->char_c.meta.cEffectSprite.x;
                            addbullet(&v1->char_c, 855, v953, v1->char_c.meta.cEffectSprite.y, v952, LOBYTE(v1->char_c.field_7D0), (int)&v1604, 3);
                            v1413 = v1413 + 1.0;
                          }
                          while ( v1413 < 6.0 );
                        }
                        break;
                      case 3:
                        if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
                        {
                          v1->char_c.meta.field_190 = 0;
                          v1->char_c.meta.field_194 = 1;
                        }
                        break;
                      case 7:
                        if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 10 )
                        {
                          v1->char_c.meta.field_194 = 1;
                          v1->char_c.meta.field_190 = 0;
                          char_c::play_sfx(&v1->char_c, 57);
                          shake_camera(10.0);
                          v1414 = 0.0;
                          do
                          {
                            *(float *)&v1652 = (double)(unsigned int)get_MT_range(40) + v1414 * 45.0 - 20.0;
                            v1653 = 30.0;
                            v1654 = 2.0;
                            if ( *(float *)&v1652 < 0.0 || *(float *)&v1652 > 180.0 )
                              v1->char_c.field_7D0 = -1;
                            else
                              v1->char_c.field_7D0 = 1;
                            v954 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                            v955 = (double)(420 * (char)v954) + v1->char_c.meta.cEffectSprite.x;
                            addbullet(&v1->char_c, 855, v955, v1->char_c.meta.cEffectSprite.y, v954, LOBYTE(v1->char_c.field_7D0), (int)&v1652, 3);
                            v1414 = v1414 + 1.0;
                          }
                          while ( v1414 < 8.0 );
                        }
                        break;
                      case 8:
                        if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
                        {
                          v1->char_c.meta.field_194 = 1;
                          v1->char_c.meta.field_190 = 0;
                          char_c::play_sfx(&v1->char_c, 58);
                          shake_camera(10.0);
                          v1415 = 0.0;
                          do
                          {
                            *(float *)&v1586 = (double)(unsigned int)get_MT_range(40) + v1415 * 45.0 - 20.0;
                            v1587 = 30.0;
                            v1588 = 2.0;
                            if ( *(float *)&v1586 < 0.0 || *(float *)&v1586 > 180.0 )
                              v1->char_c.field_7D0 = -1;
                            else
                              v1->char_c.field_7D0 = 1;
                            v956 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                            v957 = (double)(310 * (char)v956) + v1->char_c.meta.cEffectSprite.x;
                            addbullet(&v1->char_c, 855, v957, v1->char_c.meta.cEffectSprite.y, v956, LOBYTE(v1->char_c.field_7D0), (int)&v1586, 3);
                            v1415 = v1415 + 1.0;
                          }
                          while ( v1415 < 8.0 );
                        }
                        break;
                      case 9:
                        if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
                        {
                          v1->char_c.meta.field_194 = 1;
                          v1->char_c.meta.field_190 = 0;
                          char_c::play_sfx(&v1->char_c, 57);
                          shake_camera(10.0);
                          v1416 = 0.0;
                          do
                          {
                            *(float *)&v1570 = (double)(unsigned int)get_MT_range(40) + v1416 * 45.0 - 20.0;
                            v1571 = 30.0;
                            v1572 = 2.0;
                            if ( *(float *)&v1570 < 0.0 || *(float *)&v1570 > 180.0 )
                              v1->char_c.field_7D0 = -1;
                            else
                              v1->char_c.field_7D0 = 1;
                            v958 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                            v959 = (double)(240 * (char)v958) + v1->char_c.meta.cEffectSprite.x;
                            addbullet(&v1->char_c, 855, v959, v1->char_c.meta.cEffectSprite.y, v958, LOBYTE(v1->char_c.field_7D0), (int)&v1570, 3);
                            v1416 = v1416 + 1.0;
                          }
                          while ( v1416 < 8.0 );
                          *(float *)&v1570 = -65.0;
                          v1571 = 20.0;
                          v1572 = 5.0;
                          v1573 = 180.0;
                          v960 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                          v961 = v1->char_c.meta.cEffectSprite.y + 460.0;
                          v962 = v961;
                          v963 = (double)(250 * (char)v960) + v1->char_c.meta.cEffectSprite.x;
                          addbullet(&v1->char_c, 855, v963, v962, v960, 1, (int)&v1570, 4);
                        }
                        break;
                      case 10:
                        if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
                        {
                          v1->char_c.meta.field_194 = 1;
                          v1->char_c.meta.field_190 = 0;
                          char_c::play_sfx(&v1->char_c, 57);
                        }
                        break;
                      case 15:
                        if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
                        {
                          char_c::play_sfx(&v1->char_c, 58);
                          shake_camera(10.0);
                          *(float *)&v1718 = 0.0;
                          v1719 = 7.0;
                          v1720 = 3.0;
                          v964 = (double)(210 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                          addbullet(&v1->char_c, 855, v964, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1718, 3);
                        }
                        break;
                      case 16:
                        if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
                        {
                          v1->char_c.meta.field_194 = 1;
                          v1->char_c.meta.field_190 = 0;
                          v1->char_c.meta.cEffectSprite.v_inerc = 12.0;
                          v1->char_c.meta.cEffectSprite.v_force = 0.30000001;
                          v965 = v1->char_c.meta.cEffectSprite.h_inerc + 4.0;
                          v1->char_c.meta.cEffectSprite.h_inerc = v965;
                          if ( v965 > 5.0 )
                            v1->char_c.meta.cEffectSprite.h_inerc = 5.0;
                          char_c::play_sfx(&v1->char_c, 57);
                        }
                        break;
                      default:
                        return;
                    }
                    return;
                  }
                }
LABEL_3014:
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 1);
                return;
              case 6:
                v938 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) + 10.0 > v938 )
                  goto LABEL_2286;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                return;
              case 7:
                v939 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) + 10.0 > v939 )
                  goto LABEL_2286;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                return;
              case 8:
                v940 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) + 10.0 > v940 )
                  goto LABEL_2286;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                return;
              case 9:
                v941 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) + 10.0 > v941 )
                  goto LABEL_2286;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                return;
              case 10:
              case 16:
              case 17:
                v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
                if ( !char_c::char_on_ground_down(&v1->char_c) )
                  goto LABEL_2286;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 11);
                return;
              case 11:
                v942 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) + 10.0 > v942 )
                  goto LABEL_2286;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                return;
              case 12:
                v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
                if ( char_c::char_on_ground_down(&v1->char_c) )
                {
                  char_c::reset_forces(&v1->char_c);
                  v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                  v1->char_c.meta.field_194 = 1;
                  v1->char_c.meta.field_190 = 0;
                  char_c::play_sfx(&v1->char_c, 58);
                  shake_camera(10.0);
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 13);
                  v1409 = 0.0;
                  do
                  {
                    *(float *)&v1640 = (double)(unsigned int)get_MT_range(40) + v1409 * 45.0 - 20.0;
                    v1641 = 30.0;
                    v1642 = 2.0;
                    if ( *(float *)&v1640 < 0.0 || *(float *)&v1640 > 180.0 )
                      v1->char_c.field_7D0 = -1;
                    else
                      v1->char_c.field_7D0 = 1;
                    addbullet(&v1->char_c, 855, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, LOBYTE(v1->char_c.field_7D0), (int)&v1640, 3);
                    v1409 = v1409 + 1.0;
                  }
                  while ( v1409 < 8.0 );
                }
                goto LABEL_2286;
              case 13:
                v943 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) + 10.0 > v943 )
                  goto LABEL_2286;
                v944 = &v1->char_c;
                goto LABEL_2414;
              case 14:
                if ( v1->char_c.meta.viz.get_frame )
                  goto LABEL_2286;
                v1452 = v1->char_c.meta.cEffectSprite.scaleX - 0.02999999932944775;
                v1->char_c.meta.cEffectSprite.scaleX = v1452;
                if ( v1452 < 0.333 )
                {
                  v945 = 0.333;
                  goto LABEL_2788;
                }
                v1->char_c.meta.cEffectSprite.scaleY = v1452;
                goto LABEL_2286;
              default:
                goto LABEL_2286;
            }
          case 606:
            char_c::sub_46AB50(&v1->char_c, 5, 2);
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 2 )
              {
                char_c::sub_4834E0(&v1->char_c, 40);
                scene_play_sfx(23);
                v966 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v967 = v1->char_c.meta.cEffectSprite.y + 135.0;
                v968 = v967;
                v969 = v1->char_c.meta.cEffectSprite.x - (double)(20 * (char)v966);
                scene_add_effect(&v1->char_c, 115, v969, v968, v966, 1);
                char_c::sub_469450(&v1->char_c, 0, 0, 60);
                char_c::sub_483570(&v1->char_c);
                weather_forecast_next();
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
              {
                *(float *)&v1489 = 0.0;
                v1490 = 0.0;
                v1491 = 0.0;
                v970 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v971 = v1->char_c.meta.cEffectSprite.y + 70.0;
                v972 = v971;
                v973 = (double)(140 * (char)v970) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 856, v973, v972, v970, 1, (int)&v1489, 3);
                char_c::play_sfx(&v1->char_c, 19);
                *(float *)&v1489 = 0.0;
                v1490 = 2.0;
                v1491 = 1.0;
                v974 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v975 = v1->char_c.meta.cEffectSprite.y + 70.0;
                v976 = v975;
                v977 = (double)(140 * (char)v974) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 856, v977, v976, v974, 1, (int)&v1489, 3);
                v1491 = 3.0;
                v1417 = 0.0;
                v978 = (float)0.0;
                do
                {
                  *(float *)&v1489 = v978 * 45.0 - 20.0;
                  v1490 = 30.0;
                  if ( *(float *)&v1489 < 90.0 || *(float *)&v1489 > 270.0 )
                    v1->char_c.field_7D0 = -1;
                  else
                    v1->char_c.field_7D0 = 1;
                  v979 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v980 = v1->char_c.meta.cEffectSprite.y + 70.0;
                  v981 = v980;
                  v982 = (double)(140 * (char)v979) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 856, v982, v981, v979, LOBYTE(v1->char_c.field_7D0), (int)&v1489, 3);
                  v1417 = v1417 + 1.0;
                  v978 = v1417;
                }
                while ( v1417 < 8.0 );
              }
            }
            return;
          case 607:
            char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 5, 2);
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 3 )
              {
                char_c::sub_4834E0(&v1->char_c, 40);
                scene_play_sfx(23);
                v983 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v984 = v1->char_c.meta.cEffectSprite.y + 130.0;
                v985 = v984;
                v986 = v1->char_c.meta.cEffectSprite.x - (double)(50 * (char)v983);
                scene_add_effect(&v1->char_c, 115, v986, v985, v983, 1);
                char_c::sub_469450(&v1->char_c, 0, 0, 60);
                char_c::sub_483570(&v1->char_c);
                weather_forecast_next();
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
              {
                shake_camera(8.0);
                *(float *)&v1537 = -82.0;
                v1538 = 30.0;
                v1539 = 0.0;
                v987 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v988 = (double)(100 * (char)v987) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 857, v988, v1->char_c.meta.cEffectSprite.y, v987, 1, (int)&v1537, 3);
                scene_add_effect(&v1->char_c, 127, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1);
                char_c::play_sfx(&v1->char_c, 59);
                v1539 = 1.0;
                v1418 = 0.0;
                do
                {
                  *(float *)&v1537 = (double)(unsigned int)get_MT_range(20) + v1418 * 36.0;
                  v1538 = (double)(unsigned int)get_MT_range(8) + 30.0;
                  if ( *(float *)&v1537 < 0.0 || *(float *)&v1537 > 180.0 )
                    v1->char_c.field_7D0 = -1;
                  else
                    v1->char_c.field_7D0 = 1;
                  v989 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v990 = (double)(100 * (char)v989) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 811, v990, v1->char_c.meta.cEffectSprite.y, v989, LOBYTE(v1->char_c.field_7D0), (int)&v1537, 3);
                  v1418 = v1418 + 1.0;
                }
                while ( v1418 < 10.0 );
              }
            }
            return;
          case 608:
            v991 = v1->char_c.meta.viz.get_subseq;
            if ( !v991 || v991 == 1 )
              char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 5, 2);
            v992 = v1->char_c.meta.viz.get_subseq;
            if ( v992 >= 3 && v992 <= 11 )
            {
              sub_4867D0(1, v1->char_c.meta.cEffectSprite.x);
              sub_4867F0(1, v1->char_c.meta.cEffectSprite.y);
            }
            break;
          case 612:
            char_c::sub10func(&v1->char_c);
            char_c::sub_46AB50(&v1->char_c, 5, 2);
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::sub_4834E0(&v1->char_c, 40);
              scene_play_sfx(23);
              v1091 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1092 = v1->char_c.meta.current_frame_params;
              v1093 = v1->char_c.meta.cEffectSprite.y - (double)v1092->extra_24byte[5];
              v1094 = v1093;
              v1095 = (double)(v1092->extra_24byte[4] * (char)v1091) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 115, v1095, v1094, v1091, 1);
              char_c::sub_469450(&v1->char_c, 0, 0, 60);
              char_c::sub_483570(&v1->char_c);
              weather_forecast_next();
            }
            v1096 = v1->char_c.meta.viz.get_subseq;
            if ( v1096 == 1 && v1->char_c.meta.viz.get_elaps_frames >= 40 )
            {
              v1097 = (void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5;
              v1->char_c.meta.cEffectSprite.h_inerc = 10.0;
              v1097(v1);
              return;
            }
            if ( v1096 == 2 )
            {
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
              {
                char_c::play_sfx(&v1->char_c, 10);
                shake_camera(4.0);
                v1422 = 0.0;
                v1098 = (float)0.0;
                do
                {
                  *(float *)&v1616 = v1098 * 30.0;
                  v1617 = (double)(unsigned int)get_MT_range(30) * 0.1000000014901161 + 12.0;
                  v1618 = 6.0;
                  v1099 = -*(float *)&v1616;
                  v1100 = sinus(v1099) > 0.0;
                  LOBYTE(v1101) = v1->char_c.meta.cEffectSprite.dir;
                  v1102 = v1->char_c.meta.current_frame_params;
                  v1103 = v1->char_c.meta.cEffectSprite.y - (double)v1102->extra_24byte[5];
                  v1104 = v1103;
                  v1105 = (double)(v1102->extra_24byte[4] * (char)v1101) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 862, v1105, v1104, v1101, (unsigned __int8)(1 - 2 * v1100), (int)&v1616, 3);
                  v1422 = v1422 + 1.0;
                  v1098 = v1422;
                }
                while ( v1422 < 12.0 );
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
                char_c::play_sfx(&v1->char_c, 53);
              if ( v1->char_c.meta.viz.get_frame >= 3 )
              {
                v1106 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
                v1->char_c.meta.cEffectSprite.h_inerc = v1106;
                if ( v1106 < 0.0 )
                  v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              }
              if ( v1->char_c.meta.viz.get_frame >= 6 )
              {
                v1107 = v1->char_c.meta.cEffectSprite.scaleX + 0.1000000014901161;
                v1->char_c.meta.cEffectSprite.scaleX = v1107;
                if ( v1107 > 2.0 )
                  v1->char_c.meta.cEffectSprite.scaleX = 2.0;
                v1->char_c.meta.cEffectSprite.scaleY = v1->char_c.meta.cEffectSprite.scaleX;
              }
            }
            v945 = 1.0;
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame )
              goto LABEL_2744;
            if ( v1->char_c.meta.viz.get_subseq == 3 )
            {
              v1->char_c.meta.cEffectSprite.scaleX = 1.0;
              v1->char_c.meta.cEffectSprite.scaleY = 1.0;
              v1->char_c.meta.field_194 = 1;
              v1->char_c.meta.field_190 = 0;
LABEL_2744:
              if ( v1->char_c.meta.viz.get_subseq == 3 )
              {
                if ( !v1->char_c.meta.viz.get_frame_time )
                {
                  if ( v1->char_c.meta.viz.get_frame == 1 )
                    v1->char_c.meta.cEffectSprite.h_inerc = 12.0;
                  if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
                  {
                    char_c::play_sfx(&v1->char_c, 10);
                    shake_camera(10.0);
                    v1423 = 0.0;
                    v1108 = (float)0.0;
                    do
                    {
                      *(float *)&v1646 = v1108 * 20.0;
                      v1647 = (double)(unsigned int)get_MT_range(30) * 0.1000000014901161 + 18.0;
                      v1648 = 6.0;
                      v1109 = -*(float *)&v1646;
                      v1110 = sinus(v1109) > 0.0;
                      LOBYTE(v1111) = v1->char_c.meta.cEffectSprite.dir;
                      v1112 = v1->char_c.meta.current_frame_params;
                      v1113 = v1->char_c.meta.cEffectSprite.y - (double)v1112->extra_24byte[5];
                      v1114 = v1113;
                      v1115 = (double)(v1112->extra_24byte[4] * (char)v1111) + v1->char_c.meta.cEffectSprite.x;
                      addbullet(&v1->char_c, 862, v1115, v1114, v1111, (unsigned __int8)(1 - 2 * v1110), (int)&v1646, 3);
                      v1423 = v1423 + 1.0;
                      v1108 = v1423;
                    }
                    while ( v1423 < 18.0 );
                    v945 = 1.0;
                  }
                }
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
                {
                  char_c::play_sfx(&v1->char_c, 53);
                  v945 = 1.0;
                }
                if ( v1->char_c.meta.viz.get_frame >= 4 )
                {
                  v1116 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
                  v1->char_c.meta.cEffectSprite.h_inerc = v1116;
                  if ( v1116 < 0.0 )
                    v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                }
                if ( v1->char_c.meta.viz.get_frame >= 7 )
                {
                  v1117 = v1->char_c.meta.cEffectSprite.scaleX + 0.05000000074505806;
                  v1->char_c.meta.cEffectSprite.scaleX = v1117;
                  if ( v1117 > 1.5 )
                    v1->char_c.meta.cEffectSprite.scaleX = 1.5;
                  v1->char_c.meta.cEffectSprite.scaleY = v1->char_c.meta.cEffectSprite.scaleX;
                }
              }
            }
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame )
              goto LABEL_2768;
            if ( v1->char_c.meta.viz.get_subseq == 4 )
            {
              v1->char_c.meta.cEffectSprite.scaleX = v945;
              v1->char_c.meta.cEffectSprite.scaleY = v945;
              v1->char_c.meta.field_194 = 1;
              v1->char_c.meta.field_190 = 0;
LABEL_2768:
              if ( v1->char_c.meta.viz.get_subseq == 4 )
              {
                if ( !v1->char_c.meta.viz.get_frame_time )
                {
                  if ( v1->char_c.meta.viz.get_frame == 1 )
                    v1->char_c.meta.cEffectSprite.h_inerc = 12.0;
                  if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
                  {
                    char_c::play_sfx(&v1->char_c, 20);
                    shake_camera(4.0);
                    v1424 = 0.0;
                    v1118 = (float)0.0;
                    do
                    {
                      *(float *)&v1622 = v1118 * 18.0;
                      v1623 = (double)(unsigned int)get_MT_range(30) * 0.1000000014901161 + 20.0;
                      v1624 = 6.0;
                      v1119 = -*(float *)&v1622;
                      v1120 = sinus(v1119) > 0.0;
                      LOBYTE(v1121) = v1->char_c.meta.cEffectSprite.dir;
                      v1122 = v1->char_c.meta.current_frame_params;
                      v1123 = v1->char_c.meta.cEffectSprite.y - (double)v1122->extra_24byte[5];
                      v1124 = v1123;
                      v1125 = (double)(v1122->extra_24byte[4] * (char)v1121) + v1->char_c.meta.cEffectSprite.x;
                      addbullet(&v1->char_c, 862, v1125, v1124, v1121, (unsigned __int8)(1 - 2 * v1120), (int)&v1622, 3);
                      v1424 = v1424 + 1.0;
                      v1118 = v1424;
                    }
                    while ( v1424 < 20.0 );
                    v945 = 1.0;
                  }
                }
                if ( v1->char_c.meta.viz.get_frame >= 4 )
                {
                  v1126 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
                  v1->char_c.meta.cEffectSprite.h_inerc = v1126;
                  if ( v1126 < 0.0 )
                    v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                }
              }
            }
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame )
              goto LABEL_2785;
            if ( v1->char_c.meta.viz.get_subseq == 5 )
            {
              char_c::play_sfx(&v1->char_c, 54);
              v945 = 1.0;
LABEL_2785:
              if ( v1->char_c.meta.viz.get_subseq == 5 && !v1->char_c.meta.viz.get_frame )
              {
                v1384 = v1->char_c.meta.cEffectSprite.scaleX - 0.05000000074505806;
                v1->char_c.meta.cEffectSprite.scaleX = v1384;
                if ( v1384 >= 0.33000001 )
                {
                  v1->char_c.meta.cEffectSprite.scaleY = v1384;
                }
                else
                {
LABEL_2788:
                  v1->char_c.meta.cEffectSprite.scaleX = v945;
                  v1->char_c.meta.cEffectSprite.scaleY = v945;
LABEL_2789:
                  ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_frame_func8)(v1);
                }
              }
            }
            return;
          case 650:
            char_c::sub_46AB50(&v1->char_c, 5, 2);
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 600);
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 1);
              char_c::sub_4834E0(&v1->char_c, 40);
              scene_play_sfx(23);
              v1127 = v1->char_c.meta.cEffectSprite.y + 100.0;
              scene_add_effect(&v1->char_c, 115, v1->char_c.meta.cEffectSprite.x, v1127, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              char_c::sub_469450(&v1->char_c, 0, 0, 60);
              char_c::sub_483570(&v1->char_c);
              weather_forecast_next();
              *(float *)&v1724 = 0.0;
              v1725 = 0.0;
              v1726 = 0.0;
              v1128 = v1->char_c.meta.cEffectSprite.y + 100.0;
              addbullet(&v1->char_c, 850, v1->char_c.meta.cEffectSprite.x, v1128, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1724, 3);
              char_c::play_sfx(&v1->char_c, 50);
              v1->char_c.meta.cEffectSprite.v_inerc = 10.0;
            }
            return;
          case 695:
            char_c::sub10func(&v1->char_c);
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
            {
              scene_play_sfx(55);
              v1129 = v1->char_c.meta.cEffectSprite.y + 100.0;
              scene_add_effect(&v1->char_c, 140, v1->char_c.meta.cEffectSprite.x, v1129, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              v1130 = v1->char_c.meta.cEffectSprite.y + 100.0;
              scene_add_effect(&v1->char_c, 140, v1->char_c.meta.cEffectSprite.x, v1130, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              v1131 = v1->char_c.meta.cEffectSprite.y + 100.0;
              scene_add_effect(&v1->char_c, 140, v1->char_c.meta.cEffectSprite.x, v1131, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              v1132 = v1->char_c.meta.cEffectSprite.y + 100.0;
              scene_add_effect(&v1->char_c, 141, v1->char_c.meta.cEffectSprite.x, v1132, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1);
              scene_add_effect(&v1->char_c, 142, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1);
            }
            return;
          case 696:
            char_c::sub10func(&v1->char_c);
            v1133 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v1133;
            if ( v1133 < 0.0 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v1->char_c.field_49A = 0;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              v183 = v1->char_c.meta.viz.get_frame == 6;
LABEL_2811:
              if ( v183 )
              {
                scene_play_sfx(29);
                v1->char_c.field_49A = 0;
              }
            }
            return;
          case 707:
            if ( v1->char_c.meta.cEffectSprite.h_inerc > 12.0 )
            {
              v1134 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v1134;
              if ( v1134 < 12.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 12.0;
            }
            if ( viz_process(&v1->char_c) )
              goto LABEL_3294;
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
              v1135 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1136 = v1->char_c.meta.cEffectSprite.y + 80.0;
              v1137 = v1136;
              v1138 = (double)(80 * (char)v1135) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 125, v1138, v1137, v1135, 1);
              v1139 = v1->char_c.meta.cEffectSprite.y + 80.0;
              scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v1139, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              scene_play_sfx(31);
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
              {
                v1140 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1141 = v1->char_c.meta.cEffectSprite.x + 50.0;
                v1142 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
                v1143 = v1142;
                v1144 = v1141 - (double)(MT_getnext() % 0x64u);
                scene_add_effect(&v1->char_c, 124, v1144, v1143, v1140, 1);
              }
              if ( v1->char_c.meta.viz.get_elaps_frames > 30 )
                goto LABEL_2868;
            }
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              v1145 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v287 = v1145;
LABEL_2827:
              v1->char_c.meta.cEffectSprite.h_inerc = v287;
              v1146 = 0.0 < v287;
              v1147 = 0.0 == v287;
              v192 = 0.0;
              if ( !((unsigned __int8)v1146 | (unsigned __int8)v1147) )
LABEL_2828:
                v1->char_c.meta.cEffectSprite.h_inerc = v192;
            }
            return;
          case 708:
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              v1148 = v1->char_c.meta.cEffectSprite.h_inerc + 2.0;
              v1->char_c.meta.cEffectSprite.h_inerc = v1148;
              if ( v1148 > 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            }
            if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) )
              goto LABEL_3300;
            if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
            {
              v1149 = v1->char_c.meta.cEffectSprite.x + 50.0;
              v1150 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
              v1151 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
              v1152 = v1151;
              v1153 = v1149 - (double)(MT_getnext() % 0x64u);
              scene_add_effect(&v1->char_c, 124, v1153, v1152, v1150, 1);
            }
            v1154 = v1->char_c.meta.cEffectSprite.v_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.v_inerc = v1154;
            v1155 = v1154 + v1->char_c.meta.cEffectSprite.y;
            if ( c_meta::getlvl_height(&v1->char_c) < v1155 || v1->char_c.meta.cEffectSprite.v_inerc >= 0.0 )
            {
LABEL_3300:
              if ( viz_process(&v1->char_c) )
                goto LABEL_3259;
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = -14.0;
                v1->char_c.meta.cEffectSprite.v_inerc = 4.0;
                v1156 = v1->char_c.meta.cEffectSprite.y + 80.0;
                scene_add_effect(&v1->char_c, 125, v1->char_c.meta.cEffectSprite.x, v1156, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
                v1157 = v1->char_c.meta.cEffectSprite.y + 80.0;
                scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v1157, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
                scene_play_sfx(31);
              }
            }
            else
            {
              v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
LABEL_2838:
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, v3);
            }
            return;
          case 710:
            if ( viz_process(&v1->char_c) )
              goto LABEL_3294;
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.meta.viz.get_elaps_frames % 10) )
                shake_camera(4.0);
              switch ( GAME_HARDNESS )
              {
                case 0:
                  if ( v1->char_c.meta.viz.get_elaps_frames < 120 )
                    break;
                  goto LABEL_2868;
                case 1:
                  if ( v1->char_c.meta.viz.get_elaps_frames < 180 )
                    break;
                  ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                  return;
                case 2:
                case 3:
                  if ( v1->char_c.meta.viz.get_elaps_frames < 240 )
                    break;
                  ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                  return;
                default:
                  break;
              }
            }
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::play_sfx(&v1->char_c, 15);
              *(float *)&v1730 = 0.0;
              v1731 = 0.0;
              v1732 = 0.0;
              v1158 = v1->char_c.meta.cEffectSprite.y + 100.0;
              addbullet(&v1->char_c, 900, v1->char_c.meta.cEffectSprite.x, v1158, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1730, 3);
            }
            return;
          case 711:
            if ( viz_process(&v1->char_c) )
              goto LABEL_3294;
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.meta.viz.get_elaps_frames % 10) )
                shake_camera(4.0);
              switch ( GAME_HARDNESS )
              {
                case 0:
                  if ( v1->char_c.meta.viz.get_elaps_frames < 120 )
                    break;
                  goto LABEL_2868;
                case 1:
                  if ( v1->char_c.meta.viz.get_elaps_frames >= 180 )
                    goto LABEL_2868;
                  break;
                case 2:
                case 3:
                  if ( v1->char_c.meta.viz.get_elaps_frames < 240 )
                    break;
                  ((void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
                  return;
                default:
                  break;
              }
            }
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::play_sfx(&v1->char_c, 25);
              *(float *)&v1736 = 0.0;
              v1737 = 0.0;
              v1738 = 0.0;
              v1159 = v1->char_c.meta.cEffectSprite.y + 100.0;
              addbullet(&v1->char_c, 901, v1->char_c.meta.cEffectSprite.x, v1159, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1736, 3);
            }
            return;
          case 720:
            char_c::sub10func(&v1->char_c);
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
            {
              if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
              {
                shake_camera(10.0);
                switch ( GAME_HARDNESS )
                {
                  case 0:
                    *(float *)&v1471 = 41.0;
                    v1472 = 8.0;
                    v1473 = 9.0;
                    xe = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    a4e = v1->char_c.meta.cEffectSprite.y;
                    v1167 = (double)(100 * (char)xe) + v1->char_c.meta.cEffectSprite.x;
                    v1162 = v1167;
                    goto LABEL_2889;
                  case 1:
                    *(float *)&v1471 = 81.0;
                    v1472 = 8.0;
                    v1473 = 9.0;
                    xe = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    a4e = v1->char_c.meta.cEffectSprite.y;
                    v1166 = (double)(100 * (char)xe) + v1->char_c.meta.cEffectSprite.x;
                    v1162 = v1166;
                    goto LABEL_2889;
                  case 2:
                    *(float *)&v1471 = 121.0;
                    v1472 = 8.0;
                    v1473 = 9.0;
                    v1163 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v1164 = (double)(100 * (char)v1163) + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 910, v1164, v1->char_c.meta.cEffectSprite.y, v1163, 1, (int)&v1471, 3);
                    xe = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
                    a4e = v1->char_c.meta.cEffectSprite.y;
                    v1165 = (double)(100 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                    v1162 = v1165;
                    goto LABEL_2889;
                  case 3:
                    *(float *)&v1471 = 200.0;
                    v1472 = 8.0;
                    v1473 = 9.0;
                    v1160 = (double)(100 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 910, v1160, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1471, 3);
                    xe = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
                    a4e = v1->char_c.meta.cEffectSprite.y;
                    v1161 = (double)(100 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                    v1162 = v1161;
LABEL_2889:
                    v1168 = v1162;
                    addbullet(&v1->char_c, 910, v1168, a4e, xe, 1, (int)&v1471, 3);
                    scene_add_effect(&v1->char_c, 127, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1);
                    break;
                  default:
                    break;
                }
                char_c::play_sfx(&v1->char_c, 59);
              }
            }
            else
            {
LABEL_1014:
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            }
            return;
          case 730:
            switch ( v1->char_c.meta.viz.get_subseq )
            {
              case 0:
                v1169 = v1->char_c.meta.viz.get_frame;
                if ( v1169 >= 6 && v1169 <= 15 )
                {
                  v1->char_c.meta.cEffectSprite.x_off = 0.0;
                  v1->char_c.meta.cEffectSprite.y_off = 0.0;
                  v1170 = 3.0 - v1->char_c.field_7DC;
                  v1->char_c.meta.cEffectSprite.scaleX = v1170;
                  v1->char_c.meta.cEffectSprite.scaleY = v1170;
                  v1->char_c.field_7DC = v1->char_c.field_7DC * 0.75;
                }
                goto LABEL_2966;
              case 1:
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                v1171 = v1->char_c.meta.cEffectSprite.y;
                v1172 = c_meta::getlvl_height(&v1->char_c);
                v944 = &v1->char_c;
                if ( v1172 + 10.0 <= v1171 )
                {
LABEL_2414:
                  char_c::reset_forces(v944);
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                  return;
                }
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v1173 = v1->char_c.up_A;
                if ( v1173 && v1173 < 3 || v1->char_c.down_A == 2 || v1->char_c.keyhit_A )
                {
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 7);
                  return;
                }
                v1174 = v1->char_c.up_B;
                if ( v1174 && v1174 < 3 || v1->char_c.down_B == 2 || v1->char_c.keyhit_B )
                {
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 8);
                  return;
                }
                v1175 = v1->char_c.up_C;
                if ( v1175 && v1175 < 3 || v1->char_c.down_C == 2 || v1->char_c.keyhit_C )
                {
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 9);
                  return;
                }
                if ( v1->char_c.field_820 == 3 )
                {
                  char_c::flip_with_force(&v1->char_c);
                  v1176 = v1->char_c.meta.vtbl;
                  v1->char_c.meta.cEffectSprite.h_inerc = 4.0;
                  v1176->set_subseq_func3(&v1->char_c.meta, 2);
                  return;
                }
                if ( v1->char_c.down_Y >= 0 )
                  goto LABEL_2966;
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
                v1->char_c.field_7DC = 0.0;
                if ( v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir > 0 )
                  v1->char_c.field_7DC = 1.0;
                if ( v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir < 0 )
                  v1->char_c.field_7DC = -1.0;
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
                return;
              case 2:
                switch ( GAME_HARDNESS )
                {
                  case 0:
                    v1177 = 3.0;
                    goto LABEL_2924;
                  case 1:
                    v1177 = 4.0;
                    goto LABEL_2924;
                  case 2:
                    v1177 = 4.5;
                    goto LABEL_2924;
                  case 3:
                    v1177 = 5.0;
LABEL_2924:
                    v1->char_c.meta.cEffectSprite.h_inerc = v1177;
                    break;
                  default:
                    break;
                }
                if ( c_meta::get_border_near(&v1->char_c) == 1 && v1->char_c.meta.cEffectSprite.dir == -1 )
                  v1->char_c.meta.cEffectSprite.dir = 1;
                if ( c_meta::get_border_near(&v1->char_c) == -1 && v1->char_c.meta.cEffectSprite.dir == 1 )
                  v1->char_c.meta.cEffectSprite.dir = -1;
                goto LABEL_2966;
              case 4:
              case 5:
                v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
                if ( !char_c::char_on_ground_down(&v1->char_c) )
                  goto LABEL_2966;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 6);
                char_c::play_sfx(&v1->char_c, 58);
                shake_camera(10.0);
                v1425 = 0.0;
                v1->char_c.meta.field_190 = 0;
                v1->char_c.meta.field_194 = 1;
                do
                {
                  *(float *)&v1589 = (double)(unsigned int)get_MT_range(40) + v1425 * 45.0 - 20.0;
                  v1590 = 30.0;
                  v1591 = 2.0;
                  if ( *(float *)&v1589 < 0.0 || *(float *)&v1589 > 180.0 )
                    v1->char_c.field_7D0 = -1;
                  else
                    v1->char_c.field_7D0 = 1;
                  addbullet(&v1->char_c, 920, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, LOBYTE(v1->char_c.field_7D0), (int)&v1589, 3);
                  v1425 = v1425 + 1.0;
                }
                while ( v1425 < 8.0 );
                return;
              case 6:
                v1178 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) + 10.0 > v1178 )
                  goto LABEL_2966;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                return;
              case 7:
                v1179 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) + 10.0 > v1179 )
                  goto LABEL_2966;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                return;
              case 8:
                v1180 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) + 10.0 > v1180 )
                  goto LABEL_2966;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                return;
              case 9:
                v1181 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) + 10.0 > v1181 )
                  goto LABEL_2966;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                return;
              case 10:
                v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
                if ( !char_c::char_on_ground_down(&v1->char_c) )
                  goto LABEL_2966;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 11);
                return;
              case 11:
                v1182 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) + 10.0 > v1182 )
                  goto LABEL_2966;
                char_c::reset_forces(&v1->char_c);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                return;
              case 12:
                v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
                if ( char_c::char_on_ground_down(&v1->char_c) )
                {
                  char_c::reset_forces(&v1->char_c);
                  v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
                  v1->char_c.meta.field_194 = 1;
                  v1->char_c.meta.field_190 = 0;
                  char_c::play_sfx(&v1->char_c, 58);
                  shake_camera(10.0);
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 13);
                  v1426 = 0.0;
                  do
                  {
                    *(float *)&v1595 = (double)(unsigned int)get_MT_range(40) + v1426 * 45.0 - 20.0;
                    v1596 = 30.0;
                    v1597 = 2.0;
                    if ( *(float *)&v1595 < 0.0 || *(float *)&v1595 > 180.0 )
                      v1->char_c.field_7D0 = -1;
                    else
                      v1->char_c.field_7D0 = 1;
                    addbullet(&v1->char_c, 920, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, LOBYTE(v1->char_c.field_7D0), (int)&v1595, 3);
                    v1426 = v1426 + 1.0;
                  }
                  while ( v1426 < 8.0 );
                }
                goto LABEL_2966;
              case 13:
                v1183 = v1->char_c.meta.cEffectSprite.y;
                if ( c_meta::getlvl_height(&v1->char_c) + 10.0 > v1183 )
                  goto LABEL_2966;
                v916 = &v1->char_c;
LABEL_2961:
                char_c::reset_forces(v916);
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                return;
              case 14:
                if ( v1->char_c.meta.viz.get_frame )
                  goto LABEL_2966;
                v1453 = v1->char_c.meta.cEffectSprite.scaleX - 0.02999999932944775;
                v1->char_c.meta.cEffectSprite.scaleX = v1453;
                if ( v1453 < 0.333 )
                {
                  v1184 = (void (__thiscall *)(char_suika *))v1->char_c.meta.vtbl->next_frame_func8;
                  v1->char_c.meta.cEffectSprite.scaleX = 0.333;
                  v1->char_c.meta.cEffectSprite.scaleY = 0.333;
                  v1184(v1);
                  return;
                }
                v1->char_c.meta.cEffectSprite.scaleY = v1453;
LABEL_2966:
                v913 = 1.0;
                if ( viz_process(&v1->char_c) )
                {
                  v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
                  v913 = 1.0;
                  v1->char_c.meta.cEffectSprite.scaleX = 1.0;
                  v1->char_c.meta.cEffectSprite.scaleY = 1.0;
                }
                if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
                {
                  v1->char_c.meta.cEffectSprite.scaleX = v913;
                  v1->char_c.meta.cEffectSprite.scaleY = v913;
                }
                if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
                {
                  v1185 = v1->char_c.meta.enemy;
                  v1->char_c.meta.cEffectSprite.v_inerc = 15.0;
                  v1->char_c.meta.cEffectSprite.v_force = 0.5;
                  v1186 = (v1185->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir / 60.0;
                  v1->char_c.meta.cEffectSprite.h_inerc = v1186;
                  if ( v1186 < 0.0 )
                    v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                  switch ( GAME_HARDNESS )
                  {
                    case 0:
                      v1188 = 6.0;
                      v1187 = 0.0;
                      goto LABEL_2981;
                    case 1:
                      v1187 = 0.0;
                      v1188 = 8.0;
                      goto LABEL_2981;
                    case 2:
                      v1187 = 0.0;
                      v1188 = 10.0;
                      goto LABEL_2981;
                    case 3:
                      v1187 = 0.0;
                      v1188 = 12.0;
LABEL_2981:
                      if ( v1188 <= v1->char_c.meta.cEffectSprite.h_inerc )
                        v1->char_c.meta.cEffectSprite.h_inerc = v1188;
                      break;
                    default:
                      v1187 = 0.0;
                      break;
                  }
                  v1427 = v1187;
                  do
                  {
                    *(float *)&v1601 = (double)(unsigned int)get_MT_range(40) + v1427 * 45.0 - 20.0;
                    v1602 = 30.0;
                    v1603 = 2.0;
                    if ( *(float *)&v1601 < 0.0 || *(float *)&v1601 > 180.0 )
                      v1->char_c.field_7D0 = -1;
                    else
                      v1->char_c.field_7D0 = 1;
                    addbullet(&v1->char_c, 920, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, LOBYTE(v1->char_c.field_7D0), (int)&v1601, 3);
                    v1427 = v1427 + 1.0;
                  }
                  while ( v1427 < 8.0 );
                  v913 = 1.0;
                }
                v1189 = v1->char_c.meta.viz.get_elaps_frames;
                if ( !v1189 && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 7 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 8 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 9)
                  || !v1189 && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 10 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 12 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 14) )
                {
                  goto LABEL_3014;
                }
                switch ( v1->char_c.meta.viz.get_subseq )
                {
                  case 0:
                    if ( !v1->char_c.meta.viz.get_frame_time )
                    {
                      if ( v1->char_c.meta.viz.get_frame == 6 )
                      {
                        *(float *)&v1540 = 0.0;
                        v1541 = 0.0;
                        v1542 = 0.0;
                        addbullet(&v1->char_c, 920, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1540, 3);
                        v1428 = 0.0;
                        do
                        {
                          *(float *)&v1540 = (double)(unsigned int)get_MT_range(40) + v1428 * 45.0 - 20.0;
                          v1541 = 30.0;
                          v1542 = 2.0;
                          if ( *(float *)&v1540 < 0.0 || *(float *)&v1540 > 180.0 )
                            v1->char_c.field_7D0 = -1;
                          else
                            v1->char_c.field_7D0 = 1;
                          v1190 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                          v1191 = (double)(40 * (char)v1190) + v1->char_c.meta.cEffectSprite.x;
                          addbullet(&v1->char_c, 920, v1191, v1->char_c.meta.cEffectSprite.y, v1190, LOBYTE(v1->char_c.field_7D0), (int)&v1540, 3);
                          v1428 = v1428 + 1.0;
                        }
                        while ( v1428 < 8.0 );
                        char_c::play_sfx(&v1->char_c, 53);
                        v913 = 1.0;
                      }
                      if ( !v1->char_c.meta.viz.get_frame_time )
                      {
                        v949 = v1->char_c.meta.viz.get_frame == 16;
LABEL_2474:
                        if ( v949 )
                        {
                          v1->char_c.meta.cEffectSprite.scaleX = v913;
                          v1->char_c.meta.cEffectSprite.scaleY = v913;
                        }
                      }
                    }
                    break;
                  case 2:
                    if ( !v1->char_c.meta.viz.get_frame_time )
                    {
                      if ( v1->char_c.meta.viz.get_frame == 2 )
                      {
                        v1->char_c.meta.field_190 = 0;
                        v1->char_c.meta.field_194 = 1;
                      }
                      if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
                      {
                        char_c::play_sfx(&v1->char_c, 56);
                        shake_camera(2.0);
                        v1429 = 0.0;
                        do
                        {
                          *(float *)&v1607 = (double)(unsigned int)get_MT_range(40) + v1429 * 60.0 - 20.0;
                          v1608 = 20.0;
                          v1609 = 2.0;
                          if ( *(float *)&v1607 < 0.0 || *(float *)&v1607 > 180.0 )
                            v1->char_c.field_7D0 = -1;
                          else
                            v1->char_c.field_7D0 = 1;
                          v1192 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                          v1193 = (double)(70 * (char)v1192) + v1->char_c.meta.cEffectSprite.x;
                          addbullet(&v1->char_c, 920, v1193, v1->char_c.meta.cEffectSprite.y, v1192, LOBYTE(v1->char_c.field_7D0), (int)&v1607, 3);
                          v1429 = v1429 + 1.0;
                        }
                        while ( v1429 < 6.0 );
                      }
                    }
                    if ( !v1->char_c.meta.viz.get_frame_time )
                    {
                      if ( v1->char_c.meta.viz.get_frame == 6 )
                      {
                        v1->char_c.meta.field_190 = 0;
                        v1->char_c.meta.field_194 = 1;
                      }
                      if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
                      {
                        char_c::play_sfx(&v1->char_c, 56);
                        shake_camera(2.0);
                        v1430 = 0.0;
                        do
                        {
                          *(float *)&v1613 = (double)(unsigned int)get_MT_range(40) + v1430 * 60.0 - 20.0;
                          v1614 = 20.0;
                          v1615 = 2.0;
                          if ( *(float *)&v1613 < 0.0 || *(float *)&v1613 > 180.0 )
                            v1->char_c.field_7D0 = -1;
                          else
                            v1->char_c.field_7D0 = 1;
                          v1194 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                          v1195 = (double)(70 * (char)v1194) + v1->char_c.meta.cEffectSprite.x;
                          addbullet(&v1->char_c, 920, v1195, v1->char_c.meta.cEffectSprite.y, v1194, LOBYTE(v1->char_c.field_7D0), (int)&v1613, 3);
                          v1430 = v1430 + 1.0;
                        }
                        while ( v1430 < 6.0 );
                      }
                    }
                    break;
                  case 7:
                    if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 10 )
                    {
                      v1->char_c.meta.field_194 = 1;
                      v1->char_c.meta.field_190 = 0;
                      char_c::play_sfx(&v1->char_c, 57);
                      shake_camera(10.0);
                      v1431 = 0.0;
                      do
                      {
                        *(float *)&v1463 = (double)(unsigned int)get_MT_range(40) + v1431 * 45.0 - 20.0;
                        v1464 = 30.0;
                        v1465 = 2.0;
                        if ( *(float *)&v1463 < 0.0 || *(float *)&v1463 > 180.0 )
                          v1->char_c.field_7D0 = -1;
                        else
                          v1->char_c.field_7D0 = 1;
                        v1196 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                        v1197 = (double)(420 * (char)v1196) + v1->char_c.meta.cEffectSprite.x;
                        addbullet(&v1->char_c, 920, v1197, v1->char_c.meta.cEffectSprite.y, v1196, LOBYTE(v1->char_c.field_7D0), (int)&v1463, 3);
                        v1431 = v1431 + 1.0;
                      }
                      while ( v1431 < 8.0 );
                      switch ( GAME_HARDNESS )
                      {
                        case 1:
                          *(float *)&v1463 = 0.0;
                          v1464 = 20.0;
                          v1465 = 0.0;
                          v1466 = 180.0;
                          v1216 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                          v1217 = v1->char_c.meta.cEffectSprite.y + 200.0;
                          v1218 = v1217;
                          v1219 = (double)(420 * (char)v1216) + v1->char_c.meta.cEffectSprite.x;
                          addbullet(&v1->char_c, 921, v1219, v1218, v1216, 1, (int)&v1463, 4);
                          break;
                        case 2:
                          *(float *)&v1463 = 0.0;
                          v1464 = 20.0;
                          v1465 = 0.0;
                          v1466 = 180.0;
                          v1207 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                          v1208 = v1->char_c.meta.cEffectSprite.y + 200.0;
                          v1209 = v1208;
                          v1210 = (double)(420 * (char)v1207) + v1->char_c.meta.cEffectSprite.x;
                          addbullet(&v1->char_c, 921, v1210, v1209, v1207, 1, (int)&v1463, 4);
                          v1211 = 10;
                          do
                          {
                            *(float *)&v1463 = 15.0 - (double)(unsigned int)get_MT_range(30);
                            v1464 = (double)(unsigned int)get_MT_range(60) * 0.1000000014901161 + 6.0;
                            v1465 = 4.0;
                            v1466 = 0.0;
                            v1212 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                            v1213 = v1->char_c.meta.cEffectSprite.y + 200.0;
                            v1214 = v1213;
                            v1215 = (double)(420 * (char)v1212) + v1->char_c.meta.cEffectSprite.x;
                            addbullet(&v1->char_c, 921, v1215, v1214, v1212, 1, (int)&v1463, 4);
                            --v1211;
                          }
                          while ( v1211 );
                          break;
                        case 3:
                          *(float *)&v1463 = 0.0;
                          v1464 = 20.0;
                          v1465 = 0.0;
                          v1466 = 180.0;
                          v1198 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                          v1199 = v1->char_c.meta.cEffectSprite.y + 200.0;
                          v1200 = v1199;
                          v1201 = (double)(420 * (char)v1198) + v1->char_c.meta.cEffectSprite.x;
                          addbullet(&v1->char_c, 921, v1201, v1200, v1198, 1, (int)&v1463, 4);
                          v1202 = 20;
                          do
                          {
                            *(float *)&v1463 = 35.0 - (double)(unsigned int)get_MT_range(70);
                            v1464 = (double)(unsigned int)get_MT_range(60) * 0.1000000014901161 + 6.0;
                            v1465 = 4.0;
                            v1466 = 0.0;
                            v1203 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                            v1204 = v1->char_c.meta.cEffectSprite.y + 200.0;
                            v1205 = v1204;
                            v1206 = (double)(420 * (char)v1203) + v1->char_c.meta.cEffectSprite.x;
                            addbullet(&v1->char_c, 921, v1206, v1205, v1203, 1, (int)&v1463, 4);
                            --v1202;
                          }
                          while ( v1202 );
                          break;
                      }
                    }
                    break;
                  case 8:
                    if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
                    {
                      v1->char_c.meta.field_194 = 1;
                      v1->char_c.meta.field_190 = 0;
                      char_c::play_sfx(&v1->char_c, 58);
                      shake_camera(10.0);
                      v1432 = 0.0;
                      do
                      {
                        *(float *)&v1619 = (double)(unsigned int)get_MT_range(40) + v1432 * 45.0 - 20.0;
                        v1620 = 30.0;
                        v1621 = 2.0;
                        if ( *(float *)&v1619 < 0.0 || *(float *)&v1619 > 180.0 )
                          v1->char_c.field_7D0 = -1;
                        else
                          v1->char_c.field_7D0 = 1;
                        v1220 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                        v1221 = (double)(310 * (char)v1220) + v1->char_c.meta.cEffectSprite.x;
                        addbullet(&v1->char_c, 855, v1221, v1->char_c.meta.cEffectSprite.y, v1220, LOBYTE(v1->char_c.field_7D0), (int)&v1619, 3);
                        v1432 = v1432 + 1.0;
                      }
                      while ( v1432 < 8.0 );
                    }
                    break;
                  case 9:
                    if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
                    {
                      v1->char_c.meta.field_194 = 1;
                      v1->char_c.meta.field_190 = 0;
                      char_c::play_sfx(&v1->char_c, 57);
                      shake_camera(10.0);
                      v1433 = 0.0;
                      do
                      {
                        *(float *)&v1467 = (double)(unsigned int)get_MT_range(40) + v1433 * 45.0 - 20.0;
                        v1468 = 30.0;
                        v1469 = 2.0;
                        if ( *(float *)&v1467 < 0.0 || *(float *)&v1467 > 180.0 )
                          v1->char_c.field_7D0 = -1;
                        else
                          v1->char_c.field_7D0 = 1;
                        v1222 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                        v1223 = (double)(240 * (char)v1222) + v1->char_c.meta.cEffectSprite.x;
                        addbullet(&v1->char_c, 855, v1223, v1->char_c.meta.cEffectSprite.y, v1222, LOBYTE(v1->char_c.field_7D0), (int)&v1467, 3);
                        v1433 = v1433 + 1.0;
                      }
                      while ( v1433 < 8.0 );
                      switch ( GAME_HARDNESS )
                      {
                        case 1:
                          *(float *)&v1467 = -65.0;
                          v1468 = 20.0;
                          v1469 = 0.0;
                          v1470 = 180.0;
                          v1242 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                          v1243 = v1->char_c.meta.cEffectSprite.y + 200.0;
                          v1244 = v1243;
                          v1245 = (double)(420 * (char)v1242) + v1->char_c.meta.cEffectSprite.x;
                          addbullet(&v1->char_c, 921, v1245, v1244, v1242, 1, (int)&v1467, 4);
                          break;
                        case 2:
                          *(float *)&v1467 = -65.0;
                          v1468 = 20.0;
                          v1469 = 0.0;
                          v1470 = 180.0;
                          v1233 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                          v1234 = v1->char_c.meta.cEffectSprite.y + 200.0;
                          v1235 = v1234;
                          v1236 = (double)(420 * (char)v1233) + v1->char_c.meta.cEffectSprite.x;
                          addbullet(&v1->char_c, 921, v1236, v1235, v1233, 1, (int)&v1467, 4);
                          v1237 = 10;
                          do
                          {
                            *(float *)&v1467 = (double)(unsigned int)get_MT_range(30) - 80.0;
                            v1468 = (double)(unsigned int)get_MT_range(60) * 0.1000000014901161 + 6.0;
                            v1469 = 4.0;
                            v1470 = 0.0;
                            v1238 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                            v1239 = v1->char_c.meta.cEffectSprite.y + 200.0;
                            v1240 = v1239;
                            v1241 = (double)(420 * (char)v1238) + v1->char_c.meta.cEffectSprite.x;
                            addbullet(&v1->char_c, 921, v1241, v1240, v1238, 1, (int)&v1467, 4);
                            --v1237;
                          }
                          while ( v1237 );
                          break;
                        case 3:
                          *(float *)&v1467 = -65.0;
                          v1468 = 20.0;
                          v1469 = 0.0;
                          v1470 = 180.0;
                          v1224 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                          v1225 = v1->char_c.meta.cEffectSprite.y + 200.0;
                          v1226 = v1225;
                          v1227 = (double)(420 * (char)v1224) + v1->char_c.meta.cEffectSprite.x;
                          addbullet(&v1->char_c, 921, v1227, v1226, v1224, 1, (int)&v1467, 4);
                          v1228 = 20;
                          do
                          {
                            *(float *)&v1467 = (double)(unsigned int)get_MT_range(70) - 100.0;
                            v1468 = (double)(unsigned int)get_MT_range(60) * 0.1000000014901161 + 6.0;
                            v1469 = 4.0;
                            v1470 = 0.0;
                            v1229 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                            v1230 = v1->char_c.meta.cEffectSprite.y + 200.0;
                            v1231 = v1230;
                            v1232 = (double)(420 * (char)v1229) + v1->char_c.meta.cEffectSprite.x;
                            addbullet(&v1->char_c, 921, v1232, v1231, v1229, 1, (int)&v1467, 4);
                            --v1228;
                          }
                          while ( v1228 );
                          break;
                      }
                    }
                    break;
                  case 10:
                    if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
                    {
                      v1->char_c.meta.field_194 = 1;
                      v1->char_c.meta.field_190 = 0;
                      char_c::play_sfx(&v1->char_c, 57);
                    }
                    break;
                  default:
                    return;
                }
                break;
              default:
                goto LABEL_2966;
            }
            return;
          case 740:
            v1246 = v1->char_c.meta.viz.get_subseq;
            if ( v1246 < 2 || v1246 > 4 )
              goto LABEL_3104;
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
LABEL_3102:
              char_c::reset_forces(&v1->char_c);
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              return;
            }
            v6 = 0.0;
LABEL_3104:
            if ( v1->char_c.meta.viz.get_subseq != 1 )
              goto LABEL_3153;
            v1->char_c.field_534 = 0.2;
            if ( !(v1->char_c.meta.viz.get_elaps_frames % 6) )
            {
              *(float *)&v1561 = (double)(unsigned int)get_MT_range(360);
              v1562 = (double)(unsigned int)get_MT_range(120);
              v1563 = 1.0;
              v1247 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v1248 = -*(float *)&v1561;
              v1249 = sinus(v1248);
              v1250 = v1249 * v1562 + v1->char_c.meta.cEffectSprite.y;
              v1251 = v1250;
              v1252 = -*(float *)&v1561;
              v1253 = cosinus(v1252);
              v1254 = v1253 * v1562 + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 930, v1254, v1251, v1247, 1, (int)&v1561, 3);
              v6 = 0.0;
            }
            if ( v6 < v1->char_c.field_7DC )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.field_7DC;
              v1255 = v1->char_c.field_7DC * 0.949999988079071;
              v1->char_c.field_7DC = v1255;
              if ( v1255 <= 0.1000000014901161 )
              {
                v1->char_c.field_7DC = v6;
                v1->char_c.meta.cEffectSprite.v_inerc = v6;
              }
            }
            if ( v6 == v1->char_c.field_7DC && ++v1->char_c.field_7D0 >= 10 )
            {
              v1->char_c.field_7DC = -1.0;
              v1->char_c.meta.field_194 = 1;
              v1256 = v1->char_c.meta.enemy;
              v1257 = (v1256->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
              v1258 = v1257;
              v1259 = v1256->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
              v1->char_c.field_7E4 = -atan2_deg(v1259, v1258);
              v1->char_c.field_7D0 = 0;
              v6 = 0.0;
            }
            if ( -1.0 != v1->char_c.field_7DC )
              goto LABEL_3153;
            if ( ++v1->char_c.field_7D0 > 600 )
            {
              v1->char_c.meta.field_194 = 0;
              v1->char_c.dash_angle = v1->char_c.dash_angle - 0.2000000029802322;
              v1->char_c.field_7E8 = v1->char_c.field_7E8 + 0.05000000074505806;
              if ( v6 > v1->char_c.dash_angle )
                v1->char_c.dash_angle = v6;
              if ( v1->char_c.field_7D0 >= 690 )
              {
                v1454 = v6;
                do
                {
                  *(float *)&v1742 = (double)(unsigned int)get_MT_range(40) + v1454 * 45.0 - 20.0;
                  v1743 = (double)(unsigned int)get_MT_range(13) + 12.0;
                  v1744 = 0.0;
                  v1276 = v1->char_c.meta.cEffectSprite.y + 100.0;
                  addbullet(&v1->char_c, 999, v1->char_c.meta.cEffectSprite.x, v1276, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1742, 3);
                  v1454 = v1454 + 1.0;
                }
                while ( v1454 < 8.0 );
                v1->char_c.meta.cEffectSprite.color_A = -1;
                v1->char_c.meta.cEffectSprite.v_inerc = 15.0;
                v1->char_c.meta.cEffectSprite.v_force = 0.2;
                goto LABEL_3151;
              }
            }
            else
            {
              if ( v1->char_c.meta.field_190 == 6 )
              {
                v1->char_c.meta.field_194 = 1;
                v1->char_c.meta.field_190 = 0;
              }
              if ( v1->char_c.meta.field_190 )
              {
                if ( ++v1->char_c.field_7D4 >= 5 )
                {
                  v1->char_c.field_7D4 = 0;
                  v1->char_c.meta.field_194 = 1;
                  v1->char_c.meta.field_190 = 0;
                }
              }
              v1260 = v1->char_c.meta.enemy;
              v1261 = (v1260->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
              v1262 = v1261;
              v1263 = v1260->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
              v1385 = -atan2_deg(v1263, v1262);
              v1434 = v1385 - v1->char_c.field_7E4;
              if ( cosinus(v1434) > 0.0 )
              {
                v1->char_c.dash_angle = v1->char_c.dash_angle + 0.25;
              }
              else
              {
                v1436 = v1->char_c.dash_angle - 0.05000000074505806;
                v1->char_c.dash_angle = v1436;
                if ( v1436 < 0.0 )
                  v1->char_c.dash_angle = 0.0;
              }
              switch ( GAME_HARDNESS )
              {
                case 0:
                  v1264 = 10;
                  v1436 = 0.80000001;
                  v1265 = 6.0;
                  goto LABEL_3126;
                case 1:
                  v1264 = 7;
                  v1436 = 1.0;
                  if ( v1->char_c.dash_angle >= 7.0 )
                    v1->char_c.dash_angle = 7.0;
                  break;
                case 2:
                  v1264 = 5;
                  v1436 = 1.25;
                  v1265 = 8.0;
                  goto LABEL_3126;
                case 3:
                  v1264 = 4;
                  v1436 = 1.5;
                  v1265 = 10.0;
LABEL_3126:
                  if ( v1265 <= v1->char_c.dash_angle )
                    v1->char_c.dash_angle = v1265;
                  break;
                default:
                  v1264 = LODWORD(v1385);
                  break;
              }
              v1435 = (double)((signed int)v1434 % 360);
              v1266 = v1435;
              if ( v1435 > 180.0 )
              {
                v1435 = v1266 - 360.0;
                v1266 = v1435;
              }
              if ( v1266 < -180.0 )
              {
                v1435 = v1266 + 360.0;
                v1266 = v1435;
              }
              v1267 = v1266;
              v1268 = v1436 < fabs_(v1267);
              v1269 = v1436;
              if ( v1268 )
              {
                if ( v1435 >= 0.0 )
                {
                  if ( v1435 > 0.0 )
                    v1->char_c.field_7E4 = v1269 + v1->char_c.field_7E4;
                }
                else
                {
                  v1->char_c.field_7E4 = v1->char_c.field_7E4 - v1269;
                }
              }
              else
              {
                v1->char_c.field_7E4 = v1385;
              }
              if ( !(v1->char_c.meta.viz.get_elaps_frames % v1264) )
              {
                char_c::play_sfx(&v1->char_c, 60);
                *(float *)&v1583 = (double)(unsigned int)get_MT_range(360);
                v1584 = 0.0;
                v1585 = 4.0;
                v1270 = (double)(unsigned int)get_MT_range(120);
                v1271 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1272 = -*(float *)&v1583;
                v1273 = sinus(v1272) * v1270 + v1->char_c.meta.cEffectSprite.y;
                v1274 = -*(float *)&v1583;
                v1275 = cosinus(v1274) * v1270 + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 930, v1275, v1273, v1271, 1, (int)&v1583, 3);
              }
            }
            c_meta::set_vec_speed((render_class *)&v1->char_c.meta.cEffectSprite, v1->char_c.field_7E4, v1->char_c.dash_angle);
            LOWORD(v3) = 2;
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.field_7E8 + v1->char_c.meta.cEffectSprite.v_inerc;
LABEL_3153:
            v1277 = v1->char_c.meta.viz.get_subseq;
            if ( v1277 >= (signed __int16)v3 && v1277 <= 4 && (v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force, (unsigned __int8)char_c::char_on_ground_down(&v1->char_c)) )
            {
              char_c::reset_forces(&v1->char_c);
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            }
            else
            {
              if ( viz_process(&v1->char_c) )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
                v1->char_c.field_7DC = 25.0;
              if ( !v1->char_c.meta.viz.get_subseq )
              {
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
                {
                  v1455 = 0.0;
                  do
                  {
                    *(float *)&v1748 = (double)(unsigned int)get_MT_range(40) + v1455 * 45.0 - 20.0;
                    v1749 = (double)(unsigned int)get_MT_range(13) + 12.0;
                    v1750 = 0.0;
                    v1278 = v1->char_c.meta.cEffectSprite.y + 100.0;
                    addbullet(&v1->char_c, 999, v1->char_c.meta.cEffectSprite.x, v1278, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1748, 3);
                    v1455 = v1455 + 1.0;
                  }
                  while ( v1455 < 8.0 );
                  char_c::play_sfx(&v1->char_c, 19);
                }
                if ( v1->char_c.meta.viz.get_frame >= (signed __int16)v3 )
                {
                  if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) )
                  {
                    *(float *)&v1754 = (double)(unsigned int)get_MT_range(360);
                    v1755 = (double)(unsigned int)get_MT_range(5) + 5.0;
                    v1756 = 5.0;
                    v1279 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v1280 = (double)(unsigned int)get_MT_range(60) + v1->char_c.meta.cEffectSprite.y + 30.0;
                    v1281 = v1280;
                    v1282 = (double)(unsigned int)get_MT_range(60) + v1->char_c.meta.cEffectSprite.x - 30.0;
                    addbullet(&v1->char_c, 817, v1282, v1281, v1279, 1, (int)&v1754, 3);
                  }
                  if ( v1->char_c.meta.viz.get_frame == 3 )
                  {
                    v1283 = v1->char_c.meta.cEffectSprite.color_A;
                    if ( (unsigned __int8)v1283 < 0xFu )
                      v1->char_c.meta.cEffectSprite.color_A = 0;
                    else
                      v1->char_c.meta.cEffectSprite.color_A = v1283 - 15;
                  }
                }
              }
            }
            return;
          case 750:
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1284 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
              v1->char_c.meta.cEffectSprite.v_inerc = v1284;
              if ( v1284 <= 0.0 )
              {
                v1285 = v1->char_c.meta.vtbl;
                v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
                v1286 = v1285->set_seq_func2;
                v1->char_c.meta.cEffectSprite.v_force = 0.0;
                v1286(&v1->char_c.meta, 751);
                return;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
            if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
              return;
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            v221 = 15.0;
            goto LABEL_3188;
          case 751:
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
            {
              switch ( GAME_HARDNESS )
              {
                case 0:
                  *(float *)&v1460 = 0.0;
                  v1461 = 0.0;
                  v1462 = 7.0;
                  v1318 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v1319 = v1->char_c.meta.cEffectSprite.y + 250.0;
                  v1320 = v1319;
                  v1321 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)v1318);
                  addbullet(&v1->char_c, 940, v1321, v1320, v1318, 1, (int)&v1460, 3);
                  v1462 = 3.0;
                  v1322 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v1323 = v1->char_c.meta.cEffectSprite.y + 250.0;
                  v1324 = v1323;
                  v1325 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)v1322);
                  addbullet(&v1->char_c, 940, v1325, v1324, v1322, 1, (int)&v1460, 3);
                  v1462 = 18.0;
                  v1326 = v1->char_c.meta.cEffectSprite.y + 250.0;
                  xf = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a4f = v1326;
                  v1327 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)xf);
                  v1297 = v1327;
                  goto LABEL_3199;
                case 1:
                  *(float *)&v1460 = 0.0;
                  v1461 = 0.0;
                  v1462 = 7.0;
                  v1308 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v1309 = v1->char_c.meta.cEffectSprite.y + 250.0;
                  v1310 = v1309;
                  v1311 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)v1308);
                  addbullet(&v1->char_c, 940, v1311, v1310, v1308, 1, (int)&v1460, 3);
                  v1462 = 3.0;
                  v1312 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v1313 = v1->char_c.meta.cEffectSprite.y + 250.0;
                  v1314 = v1313;
                  v1315 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)v1312);
                  addbullet(&v1->char_c, 940, v1315, v1314, v1312, 1, (int)&v1460, 3);
                  v1462 = 18.0;
                  v1316 = v1->char_c.meta.cEffectSprite.y + 250.0;
                  xf = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a4f = v1316;
                  v1317 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)xf);
                  v1297 = v1317;
                  goto LABEL_3199;
                case 2:
                  *(float *)&v1460 = 0.0;
                  v1461 = 0.0;
                  v1462 = 8.0;
                  v1298 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v1299 = v1->char_c.meta.cEffectSprite.y + 250.0;
                  v1300 = v1299;
                  v1301 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)v1298);
                  addbullet(&v1->char_c, 940, v1301, v1300, v1298, 1, (int)&v1460, 3);
                  v1462 = 3.0;
                  v1302 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v1303 = v1->char_c.meta.cEffectSprite.y + 250.0;
                  v1304 = v1303;
                  v1305 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)v1302);
                  addbullet(&v1->char_c, 940, v1305, v1304, v1302, 1, (int)&v1460, 3);
                  v1462 = 18.0;
                  v1306 = v1->char_c.meta.cEffectSprite.y + 250.0;
                  xf = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a4f = v1306;
                  v1307 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)xf);
                  v1297 = v1307;
                  goto LABEL_3199;
                case 3:
                  *(float *)&v1460 = 0.0;
                  v1461 = 0.0;
                  v1462 = 9.0;
                  v1287 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v1288 = v1->char_c.meta.cEffectSprite.y + 250.0;
                  v1289 = v1288;
                  v1290 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)v1287);
                  addbullet(&v1->char_c, 940, v1290, v1289, v1287, 1, (int)&v1460, 3);
                  v1462 = 3.0;
                  v1291 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v1292 = v1->char_c.meta.cEffectSprite.y + 250.0;
                  v1293 = v1292;
                  v1294 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)v1291);
                  addbullet(&v1->char_c, 940, v1294, v1293, v1291, 1, (int)&v1460, 3);
                  v1462 = 18.0;
                  v1295 = v1->char_c.meta.cEffectSprite.y + 250.0;
                  xf = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a4f = v1295;
                  v1296 = v1->char_c.meta.cEffectSprite.x - (double)(10 * (char)xf);
                  v1297 = v1296;
LABEL_3199:
                  v1328 = v1297;
                  addbullet(&v1->char_c, 940, v1328, a4f, xf, -1, (int)&v1460, 3);
                  break;
                default:
                  break;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              shake_camera(2.0);
              v1386 = v1->char_c.field_7DC + 0.1000000014901161;
              v1->char_c.field_7DC = v1386;
              switch ( GAME_HARDNESS )
              {
                case 0:
                  v1329 = 3.0;
                  goto LABEL_3203;
                case 1:
                  v1329 = 4.0;
                  goto LABEL_3203;
                case 2:
                  v1329 = 5.0;
                  goto LABEL_3203;
                case 3:
                  v1329 = 6.0;
LABEL_3203:
                  if ( v1329 <= v1386 )
                    v1->char_c.field_7DC = v1329;
                  break;
                default:
                  break;
              }
              v1330 = v1->char_c.meta.enemy;
              v1->char_c.field_74C = v1->char_c.field_7DC;
              if ( v1->char_c.meta.cEffectSprite.x < (double)v1330->meta.cEffectSprite.x && v1330->meta.cEffectSprite.dir == 1 || v1->char_c.meta.cEffectSprite.x > (double)v1330->meta.cEffectSprite.x && v1330->meta.cEffectSprite.dir == -1 )
                v1->char_c.field_74C = -v1->char_c.field_7DC;
              if ( v1->char_c.meta.viz.get_elaps_frames >= 300 )
                goto LABEL_3151;
            }
            if ( v1->char_c.meta.viz.get_subseq == 2 && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 2 )
              {
                char_c::flip_with_force(&v1->char_c);
                v1->char_c.field_7D2 = 1;
                v1627 = 1.0;
                v1456 = 0.0;
                do
                {
                  *(float *)&v1625 = (double)(unsigned int)get_MT_range(40) + v1456 * 60.0 - 20.0;
                  v1626 = (double)(unsigned int)get_MT_range(8) + 30.0;
                  if ( *(float *)&v1625 < 0.0 || *(float *)&v1625 > 180.0 )
                    v1->char_c.field_7D0 = -1;
                  else
                    v1->char_c.field_7D0 = 1;
                  v1331 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  v1332 = (double)(40 * (char)v1331) + v1->char_c.meta.cEffectSprite.x;
                  addbullet(&v1->char_c, 811, v1332, v1->char_c.meta.cEffectSprite.y, v1331, LOBYTE(v1->char_c.field_7D0), (int)&v1625, 3);
                  v1456 = v1456 + 1.0;
                }
                while ( v1456 < 6.0 );
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 9 )
                v1->char_c.meta.cEffectSprite.v_force = 0.2;
            }
            v1333 = v1->char_c.meta.viz.get_subseq;
            if ( v1333 != 2 && v1333 != 3 )
              return;
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( !char_c::char_on_ground_down(&v1->char_c) )
              return;
            char_c::reset_forces(&v1->char_c);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            goto LABEL_3230;
          default:
            goto LABEL_3248;
        }
        switch ( v1->char_c.meta.viz.get_subseq )
        {
          case 0:
            v993 = v1->char_c.meta.field_190;
            if ( v993 != 1 && v993 != 7 )
              goto LABEL_2585;
            char_c::reset_forces(&v1->char_c);
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
            char_c::reset_forces(v1->char_c.meta.enemy);
            v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
            v994 = (v1->char_c.meta.cEffectSprite.h_inerc + 70.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            v1->char_c.meta.enemy->meta.cEffectSprite.x = v994;
            v995 = v1->char_c.meta.cEffectSprite.v_inerc + v1->char_c.meta.cEffectSprite.y;
            v1->char_c.meta.enemy->meta.cEffectSprite.y = v995;
            ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(100);
            return;
          case 3:
          case 4:
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( !char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_2585;
            v1->char_c.meta.enemy->meta.cEffectSprite.dir = -v1->char_c.meta.cEffectSprite.dir;
            char_c::reset_forces(&v1->char_c);
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
            shake_camera(10.0);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
            v996 = (v1->char_c.meta.cEffectSprite.h_inerc + 10.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            v1->char_c.meta.enemy->meta.cEffectSprite.x = v996;
            v997 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
            v1->char_c.meta.enemy->meta.cEffectSprite.y = v997;
            ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(109);
            return;
          case 6:
          case 7:
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( !char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_2585;
            v1->char_c.meta.enemy->meta.cEffectSprite.dir = -v1->char_c.meta.cEffectSprite.dir;
            char_c::reset_forces(&v1->char_c);
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 8);
            shake_camera(10.0);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
            v998 = (v1->char_c.meta.cEffectSprite.h_inerc + 10.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            v1->char_c.meta.enemy->meta.cEffectSprite.x = v998;
            v999 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
            v1->char_c.meta.enemy->meta.cEffectSprite.y = v999;
            ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(109);
            return;
          case 9:
          case 10:
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( !char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_2585;
            char_c::reset_forces(&v1->char_c);
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 11);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
            v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 180.0;
            v1000 = (v1->char_c.meta.cEffectSprite.h_inerc + 21.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            v1->char_c.meta.enemy->meta.cEffectSprite.x = v1000;
            v1001 = v1->char_c.meta.cEffectSprite.y + 140.0 + v1->char_c.meta.cEffectSprite.v_inerc;
            v1->char_c.meta.enemy->meta.cEffectSprite.y = v1001;
            return;
          case 12:
          case 13:
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( !char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_2585;
LABEL_2001:
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
            char_c::reset_forces(&v1->char_c);
            return;
          default:
LABEL_2585:
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            v1002 = v1->char_c.meta.viz.get_elaps_frames;
            if ( !v1002 && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
              goto LABEL_3278;
            if ( !v1002 && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 12 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = -10.0;
              v1->char_c.meta.cEffectSprite.v_inerc = 12.5;
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
            }
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 3 )
              {
                char_c::sub_4834E0(&v1->char_c, 40);
                scene_play_sfx(23);
                v1003 = v1->char_c.meta.cEffectSprite.y + 100.0;
                scene_add_effect(&v1->char_c, 115, v1->char_c.meta.cEffectSprite.x, v1003, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                char_c::sub_469450(&v1->char_c, 0, 0, 60);
                char_c::sub_483570(&v1->char_c);
                weather_forecast_next();
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
              {
                v1004 = v1->char_c.meta.enemy;
                v1005 = v1004->meta.cEffectSprite.y;
                v1->char_c.meta.field_194 = c_meta::getlvl_height(v1004) == v1005;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              if ( v1->char_c.meta.viz.get_frame )
              {
                if ( v1->char_c.meta.viz.get_frame == 1 )
                {
                  v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                  v1006 = (v1->char_c.meta.cEffectSprite.h_inerc + 48.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v1006;
                  v1007 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = v1007;
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                }
              }
              else
              {
                v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                v1008 = (v1->char_c.meta.cEffectSprite.h_inerc + 70.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                v1->char_c.meta.enemy->meta.cEffectSprite.x = v1008;
                v1009 = v1->char_c.meta.cEffectSprite.v_inerc + v1->char_c.meta.cEffectSprite.y;
                v1->char_c.meta.enemy->meta.cEffectSprite.y = v1009;
                ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(100);
              }
            }
            if ( v1->char_c.meta.viz.get_subseq != 3 )
              goto LABEL_2616;
            if ( v1->char_c.meta.viz.get_frame )
            {
              if ( v1->char_c.meta.viz.get_frame != 1 )
                goto LABEL_2616;
              v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
              v1010 = (v1->char_c.meta.cEffectSprite.h_inerc - 35.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              v1->char_c.meta.enemy->meta.cEffectSprite.x = v1010;
              v1011 = v1->char_c.meta.cEffectSprite.y + 140.0 + v1->char_c.meta.cEffectSprite.v_inerc;
              v1012 = v1011;
            }
            else
            {
              v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
              v1013 = (v1->char_c.meta.cEffectSprite.h_inerc - 25.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              v1->char_c.meta.enemy->meta.cEffectSprite.x = v1013;
              v1014 = v1->char_c.meta.cEffectSprite.y + 143.0 + v1->char_c.meta.cEffectSprite.v_inerc;
              v1012 = v1014;
            }
            v1->char_c.meta.enemy->meta.cEffectSprite.y = v1012;
            ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
LABEL_2616:
            if ( v1->char_c.meta.viz.get_subseq == 4 && !v1->char_c.meta.viz.get_frame )
            {
              v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
              v1015 = v1->char_c.meta.cEffectSprite.h_inerc * -30.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              v1->char_c.meta.enemy->meta.cEffectSprite.x = v1015;
              v1016 = v1->char_c.meta.cEffectSprite.y + 110.0 + v1->char_c.meta.cEffectSprite.v_inerc;
              v1->char_c.meta.enemy->meta.cEffectSprite.y = v1016;
              ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
            }
            if ( v1->char_c.meta.viz.get_subseq == 5 )
            {
              switch ( (_WORD)v1 )
              {
                case 0:
                  v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                  v1017 = (v1->char_c.meta.cEffectSprite.h_inerc + 10.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v1017;
                  v1018 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = v1018;
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(109);
                  break;
                case 1:
                  v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -45.0;
                  v1019 = (v1->char_c.meta.cEffectSprite.h_inerc + 55.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v1019;
                  v1020 = v1->char_c.meta.cEffectSprite.y + 117.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = v1020;
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(109);
                  break;
                case 2:
                  v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                  v1021 = (v1->char_c.meta.cEffectSprite.h_inerc + 83.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v1021;
                  v1022 = v1->char_c.meta.cEffectSprite.v_inerc + v1->char_c.meta.cEffectSprite.y;
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = v1022;
                  v1->char_c.meta.enemy->meta.hit_stop = 20;
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(97);
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_subseq_func3)(3);
                  char_c::reset_forces(v1->char_c.meta.enemy);
                  if ( !v1->char_c.meta.viz.get_frame_time )
                  {
                    if ( v1->char_c.field_526 || v1->char_c.weather_id != 1 )
                      sub_464110(&v1->char_c, 500, 980, 1, 1);
                    else
                      sub_464110(&v1->char_c, 625, 980, 1, 1);
                    v1023 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v1024 = v1->char_c.meta.cEffectSprite.y + 10.0;
                    v1025 = v1024;
                    v1026 = (double)(95 * (char)v1023) + v1->char_c.meta.cEffectSprite.x;
                    scene_add_effect(&v1->char_c, 3, v1026, v1025, v1023, 1);
                    char_c::play_sfx(&v1->char_c, 5);
                  }
                  break;
                case 4:
                  v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                  v1027 = (v1->char_c.meta.cEffectSprite.h_inerc + 60.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v1027;
                  v1028 = v1->char_c.meta.cEffectSprite.y + 55.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = v1028;
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(103);
                  break;
                case 5:
                  v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                  v1029 = (v1->char_c.meta.cEffectSprite.h_inerc + 48.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v1029;
                  v1030 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = v1030;
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(103);
                  break;
                default:
                  break;
              }
            }
            if ( v1->char_c.meta.viz.get_subseq != 6 )
              goto LABEL_2637;
            if ( v1->char_c.meta.viz.get_frame )
            {
              if ( v1->char_c.meta.viz.get_frame != 1 )
              {
LABEL_2637:
                if ( v1->char_c.meta.viz.get_subseq == 7 && !v1->char_c.meta.viz.get_frame )
                {
                  v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                  v1036 = v1->char_c.meta.cEffectSprite.h_inerc * -30.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v1036;
                  v1037 = v1->char_c.meta.cEffectSprite.y + 110.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = v1037;
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                }
                if ( v1->char_c.meta.viz.get_subseq == 8 )
                {
                  switch ( (_WORD)v1 )
                  {
                    case 0:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                      move_valc = 109;
                      v1038 = (v1->char_c.meta.cEffectSprite.h_inerc + 10.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v1038;
                      v1039 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1040 = v1039;
                      goto LABEL_2659;
                    case 1:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -45.0;
                      move_valc = 109;
                      v1041 = (v1->char_c.meta.cEffectSprite.h_inerc + 55.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v1041;
                      v1042 = v1->char_c.meta.cEffectSprite.y + 117.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1040 = v1042;
                      goto LABEL_2659;
                    case 2:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                      v1043 = (v1->char_c.meta.cEffectSprite.h_inerc + 83.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v1043;
                      v1044 = v1->char_c.meta.cEffectSprite.v_inerc + v1->char_c.meta.cEffectSprite.y;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v1044;
                      v1->char_c.meta.enemy->meta.hit_stop = 20;
                      ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(97);
                      ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_subseq_func3)(3);
                      char_c::reset_forces(v1->char_c.meta.enemy);
                      if ( !v1->char_c.meta.viz.get_frame_time )
                      {
                        if ( v1->char_c.field_526 || v1->char_c.weather_id != 1 )
                          sub_464110(&v1->char_c, 1000, 980, 1, 1);
                        else
                          sub_464110(&v1->char_c, 1250, 980, 1, 1);
                        v1045 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                        v1046 = v1->char_c.meta.cEffectSprite.y + 10.0;
                        v1047 = v1046;
                        v1048 = (double)(95 * (char)v1045) + v1->char_c.meta.cEffectSprite.x;
                        scene_add_effect(&v1->char_c, 3, v1048, v1047, v1045, 1);
                        char_c::play_sfx(&v1->char_c, 5);
                        v1636 = 1.0;
                        v1419 = 0.0;
                        do
                        {
                          *(float *)&v1634 = (double)(unsigned int)get_MT_range(20) + v1419 * 36.0;
                          v1635 = (double)(unsigned int)get_MT_range(8) + 30.0;
                          if ( *(float *)&v1634 < 0.0 || *(float *)&v1634 > 180.0 )
                            v1->char_c.field_7D0 = -1;
                          else
                            v1->char_c.field_7D0 = 1;
                          v1049 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                          v1050 = (double)(95 * (char)v1049) + v1->char_c.meta.cEffectSprite.x;
                          addbullet(&v1->char_c, 811, v1050, v1->char_c.meta.cEffectSprite.y, v1049, LOBYTE(v1->char_c.field_7D0), (int)&v1634, 3);
                          v1419 = v1419 + 1.0;
                        }
                        while ( v1419 < 10.0 );
                      }
                      break;
                    case 4:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                      v1051 = (v1->char_c.meta.cEffectSprite.h_inerc + 60.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v1051;
                      v1052 = v1->char_c.meta.cEffectSprite.y + 55.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1040 = v1052;
                      goto LABEL_2658;
                    case 5:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                      v1053 = (v1->char_c.meta.cEffectSprite.h_inerc + 48.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v1053;
                      v1054 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1040 = v1054;
LABEL_2658:
                      move_valc = 103;
LABEL_2659:
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v1040;
                      ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(move_valc);
                      break;
                    default:
                      break;
                  }
                }
                if ( v1->char_c.meta.viz.get_subseq == 9 )
                {
                  v1->char_c.meta.enemy->meta.cEffectSprite.dir = v1->char_c.meta.cEffectSprite.dir;
                  sub_4867D0(1, v1->char_c.meta.cEffectSprite.x);
                  sub_4867F0(1, v1->char_c.meta.cEffectSprite.y);
                  v1055 = (v1->char_c.meta.cEffectSprite.h_inerc + 45.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                  v1->char_c.meta.enemy->meta.cEffectSprite.x = v1055;
                  v1056 = v1->char_c.meta.cEffectSprite.y + 120.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                  v1->char_c.meta.enemy->meta.cEffectSprite.y = v1056;
                  ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                }
                if ( v1->char_c.meta.viz.get_subseq == 10 )
                {
                  switch ( (_WORD)v1 )
                  {
                    case 0:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -135.0;
                      v1057 = (v1->char_c.meta.cEffectSprite.h_inerc + 44.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v1057;
                      v1058 = v1->char_c.meta.cEffectSprite.y + 128.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1059 = v1058;
                      goto LABEL_2671;
                    case 1:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -60.0;
                      v1060 = (v1->char_c.meta.cEffectSprite.h_inerc + 50.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v1060;
                      v1061 = v1->char_c.meta.cEffectSprite.y + 85.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v1061;
                      break;
                    case 2:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = -10.0;
                      v1062 = (v1->char_c.meta.cEffectSprite.h_inerc + 20.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v1062;
                      v1063 = v1->char_c.meta.cEffectSprite.y + 60.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v1063;
                      break;
                    case 3:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 45.0;
                      v1064 = (v1->char_c.meta.cEffectSprite.h_inerc - 28.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v1064;
                      v1065 = v1->char_c.meta.cEffectSprite.y + 50.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1059 = v1065;
                      goto LABEL_2671;
                    case 4:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 90.0;
                      v1066 = (v1->char_c.meta.cEffectSprite.h_inerc - 55.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v1066;
                      v1067 = v1->char_c.meta.cEffectSprite.y + 100.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v1067;
                      break;
                    case 5:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 135.0;
                      v1068 = (v1->char_c.meta.cEffectSprite.h_inerc - 50.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v1068;
                      v1069 = v1->char_c.meta.cEffectSprite.y + 140.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v1069;
                      break;
                    case 6:
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 180.0;
                      v1070 = (v1->char_c.meta.cEffectSprite.h_inerc - 5.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v1070;
                      v1071 = v1->char_c.meta.cEffectSprite.y + 150.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1059 = v1071;
LABEL_2671:
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v1059;
                      break;
                    default:
                      break;
                  }
                }
                if ( v1->char_c.meta.viz.get_subseq == 11 )
                {
                  if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
                  {
                    v1->char_c.meta.enemy->meta.cEffectSprite.dir = -v1->char_c.meta.cEffectSprite.dir;
                    v1->char_c.meta.enemy->meta.cEffectSprite.h_inerc = 0.0;
                    v1->char_c.meta.enemy->meta.cEffectSprite.v_inerc = 0.0;
                    ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(89);
                    char_c::play_sfx(&v1->char_c, 51);
                    shake_camera(20.0);
                    char_c::play_sfx(&v1->char_c, 12);
                    v1072 = (double)(60 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
                    v1->char_c.meta.enemy->meta.cEffectSprite.x = v1072;
                    v1->char_c.meta.enemy->meta.cEffectSprite.y = c_meta::getlvl_height(v1->char_c.meta.enemy);
                    if ( v1->char_c.field_526 || v1->char_c.weather_id != 1 )
                      sub_464110(&v1->char_c, 5500, 980, 1, 1);
                    else
                      sub_464110(&v1->char_c, 6875, 980, 1, 1);
                    v1073 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v1074 = v1->char_c.meta.cEffectSprite.y + 10.0;
                    v1075 = v1074;
                    v1076 = (double)(37 * (char)v1073) + v1->char_c.meta.cEffectSprite.x;
                    scene_add_effect(&v1->char_c, 4, v1076, v1075, v1073, 1);
                    v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
                    v1->char_c.meta.enemy->meta.hit_stop = 44;
                    v1497 = 0.0;
                    v1420 = 0.0;
                    do
                    {
                      *(float *)&v1495 = (double)(unsigned int)get_MT_range(20) + v1420 * 36.0;
                      v1496 = (double)(unsigned int)get_MT_range(8) + 45.0;
                      if ( *(float *)&v1495 < 0.0 || *(float *)&v1495 > 180.0 )
                        v1->char_c.field_7D0 = -1;
                      else
                        v1->char_c.field_7D0 = 1;
                      v1077 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                      v1078 = (double)(37 * (char)v1077) + v1->char_c.meta.cEffectSprite.x;
                      addbullet(&v1->char_c, 858, v1078, v1->char_c.meta.cEffectSprite.y, v1077, LOBYTE(v1->char_c.field_7D0), (int)&v1495, 3);
                      v1420 = v1420 + 1.0;
                    }
                    while ( v1420 < 10.0 );
                    v1497 = 3.0;
                    v1421 = 0.0;
                    v1079 = (float)0.0;
                    do
                    {
                      *(float *)&v1495 = v1079 * -36.0 - (double)(unsigned int)get_MT_range(20);
                      v1496 = (double)(unsigned int)get_MT_range(25) + 60.0;
                      v1080 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                      v1081 = (double)(37 * (char)v1080) + v1->char_c.meta.cEffectSprite.x;
                      addbullet(&v1->char_c, 858, v1081, v1->char_c.meta.cEffectSprite.y, v1080, 1, (int)&v1495, 3);
                      v1421 = v1421 + 1.0;
                      v1079 = v1421;
                    }
                    while ( v1421 < 5.0 );
                    v1497 = 1.0;
                    v1082 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v1083 = (double)(37 * (char)v1082) + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 858, v1083, v1->char_c.meta.cEffectSprite.y, v1082, 1, (int)&v1495, 3);
                    v1497 = 2.0;
                    v1084 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    v1085 = (double)(37 * (char)v1084) + v1->char_c.meta.cEffectSprite.x;
                    addbullet(&v1->char_c, 858, v1085, v1->char_c.meta.cEffectSprite.y, v1084, -1, (int)&v1495, 3);
                  }
                  if ( v1->char_c.meta.viz.get_frame )
                  {
                    if ( v1->char_c.meta.viz.get_frame == 1 )
                    {
                      ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                      v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 120.0;
                      v1086 = (v1->char_c.meta.cEffectSprite.h_inerc + 85.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                      v1->char_c.meta.enemy->meta.cEffectSprite.x = v1086;
                      v1087 = v1->char_c.meta.cEffectSprite.y + 85.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                      v1->char_c.meta.enemy->meta.cEffectSprite.y = v1087;
                      v1->char_c.meta.enemy->meta.cEffectSprite.dir = -v1->char_c.meta.cEffectSprite.dir;
                    }
                  }
                  else
                  {
                    ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
                    v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 180.0;
                    v1088 = (v1->char_c.meta.cEffectSprite.h_inerc + 21.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                    v1->char_c.meta.enemy->meta.cEffectSprite.x = v1088;
                    v1089 = v1->char_c.meta.cEffectSprite.y + 140.0 + v1->char_c.meta.cEffectSprite.v_inerc;
                    v1->char_c.meta.enemy->meta.cEffectSprite.y = v1089;
                  }
                }
                if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 3 )
                {
                  v1090 = 2.0;
                }
                else
                {
                  v1090 = 2.0;
                  v1->char_c.meta.cEffectSprite.h_inerc = 2.0;
                  v1->char_c.meta.cEffectSprite.v_inerc = 11.0;
                  v1->char_c.meta.cEffectSprite.v_force = 0.75;
                }
                if ( !v1->char_c.meta.viz.get_elaps_frames )
                {
                  if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 6 )
                  {
                    v1->char_c.meta.cEffectSprite.h_inerc = v1090;
                    v1->char_c.meta.cEffectSprite.v_inerc = 25.0;
                    v1->char_c.meta.cEffectSprite.v_force = 1.25;
                  }
                  if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 9 )
                  {
                    v1->char_c.meta.cEffectSprite.h_inerc = v1090;
                    v1->char_c.meta.cEffectSprite.v_inerc = 60.0;
                    v1->char_c.meta.cEffectSprite.v_force = 1.75;
                  }
                }
                if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 12 )
                {
                  sub_4867D0(0, v1->char_c.meta.cEffectSprite.x);
                  sub_4867F0(0, v1->char_c.meta.cEffectSprite.y);
                  v1->char_c.meta.enemy->meta.hit_stop = 0;
                }
                return;
              }
              v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
              v1031 = (v1->char_c.meta.cEffectSprite.h_inerc - 35.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              v1->char_c.meta.enemy->meta.cEffectSprite.x = v1031;
              v1032 = v1->char_c.meta.cEffectSprite.y + 140.0 + v1->char_c.meta.cEffectSprite.v_inerc;
              v1033 = v1032;
            }
            else
            {
              v1->char_c.meta.enemy->meta.cEffectSprite.angZ = 0.0;
              v1034 = (v1->char_c.meta.cEffectSprite.h_inerc - 25.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              v1->char_c.meta.enemy->meta.cEffectSprite.x = v1034;
              v1035 = v1->char_c.meta.cEffectSprite.y + 143.0 + v1->char_c.meta.cEffectSprite.v_inerc;
              v1033 = v1035;
            }
            v1->char_c.meta.enemy->meta.cEffectSprite.y = v1033;
            ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(107);
            goto LABEL_2637;
        }
      }
      if ( viz_process(&v1->char_c) )
        v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
      if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
      {
        v1->char_c.field_6F5 = 1;
        sub_4685C0(&v1->char_c, -1);
        char_c::sub_46AB50(&v1->char_c, 2, -1);
        char_c::health_to_max(&v1->char_c);
        v1->char_c.field_820 = 0;
        v1->char_c.field_81E = 1;
        v1->char_c.field_81A = 0;
        v1->char_c.field_81C = 0;
        v1->char_c.field_818 = 0;
        scene_play_sfx(23);
      }
    }
  }
}