void __thiscall char_komachi::func10(char_komachi *this)
{
  char_komachi *v1; // esi
  unsigned int v2; // eax
  int v3; // eax
  char v4; // cl
  float v5; // ST3C_4
  double v6; // st7
  int v7; // eax
  char v8; // cl
  float v9; // ST3C_4
  float v10; // ST20_4
  int v11; // eax
  signed int v12; // eax
  double v13; // st7
  float v14; // ST48_4
  float v15; // ST48_4
  double v16; // st7
  float v17; // ST48_4
  float v18; // ST48_4
  double v19; // st7
  float v20; // ST48_4
  float v21; // ST48_4
  _BOOL1 v22; // zf
  _BOOL1 v23; // sf
  double v24; // st7
  _BOOL1 v25; // zf
  _BOOL1 v26; // sf
  _BOOL1 v27; // zf
  _BOOL1 v28; // sf
  float move_val; // ST28_4
  void (__thiscall *v30)(c_meta *, int); // eax
  __int16 v31; // ax
  void (__thiscall *v32)(c_meta *, int); // eax
  __int16 v33; // ax
  void (__thiscall *v34)(c_meta *, int); // edx
  void (__thiscall *v35)(c_meta *, int); // eax
  int v36; // ST24_4
  double v37; // ST54_8
  float v38; // ST3C_4
  float v39; // ST20_4
  float v40; // ST3C_4
  int v41; // edx
  void (__thiscall *v42)(c_meta *, int); // edx
  __int16 v43; // ax
  int v44; // eax
  float v45; // ST3C_4
  float v46; // ST20_4
  float v47; // ST3C_4
  float v48; // ST3C_4
  __int16 v49; // ax
  float v50; // ST3C_4
  double v51; // ST54_8
  int v52; // ST24_4
  float v53; // ST3C_4
  float v54; // ST20_4
  float v55; // ST3C_4
  float v56; // ST3C_4
  float v57; // ST3C_4
  __int16 v58; // ax
  int v59; // ST24_4
  double v60; // ST54_8
  float v61; // ST3C_4
  float v62; // ST20_4
  float v63; // ST3C_4
  int v64; // ST24_4
  float v65; // ST3C_4
  float v66; // ST20_4
  float v67; // ST3C_4
  float v68; // ST3C_4
  double v69; // ST54_8
  int v70; // ST24_4
  float v71; // ST3C_4
  float v72; // ST20_4
  float v73; // ST3C_4
  float v74; // ST3C_4
  float v75; // ST3C_4
  float v76; // ST48_4
  _BOOL1 v77; // al
  char_c *v78; // ecx
  float v79; // ST48_4
  double v80; // st7
  _BOOL1 v81; // al
  double v82; // st7
  _BOOL1 v83; // al
  _BOOL1 v84; // al
  float v85; // ST28_4
  double v86; // st7
  _BOOL1 v87; // al
  int v88; // eax
  int v89; // ecx
  _BOOL1 v90; // sf
  int v91; // eax
  int v92; // eax
  int v93; // eax
  int v94; // eax
  __int16 v95; // ax
  __int16 v96; // ax
  signed int v97; // ebx
  __int16 v98; // cx
  __int16 v99; // ax
  _BOOL1 v100; // sf
  double v101; // st5
  double v102; // st5
  double v103; // st7
  float v104; // ST3C_4
  double v105; // st7
  int v106; // ST24_4
  float v107; // ST3C_4
  float v108; // ST20_4
  float v109; // ST3C_4
  int v110; // eax
  __int16 v111; // ax
  _BOOL1 v112; // zf
  char v113; // cl
  double v114; // st7
  void (__thiscall *v115)(c_meta *, int); // eax
  __int16 v116; // ax
  char v117; // cl
  double v118; // st7
  void (__thiscall *v119)(c_meta *, int); // eax
  void (__thiscall *v120)(c_meta *, int); // edx
  float v121; // ST48_4
  float v122; // ST3C_4
  char_c *v123; // eax
  float v124; // ST3C_4
  float v125; // ST28_4
  float v126; // ST3C_4
  __int16 v127; // ax
  __int16 v128; // ax
  __int16 v129; // cx
  __int16 v130; // ax
  _BOOL1 v131; // sf
  double v132; // st5
  double v133; // st5
  double v134; // st7
  float v135; // ST3C_4
  double v136; // st7
  float v137; // ST3C_4
  double v138; // st7
  int v139; // ST24_4
  float v140; // ST3C_4
  float v141; // ST20_4
  float v142; // ST3C_4
  int v143; // eax
  float v144; // ST48_4
  float v145; // ST48_4
  float v146; // ST48_4
  float v147; // ST28_4
  int v148; // ST24_4
  double v149; // ST54_8
  float v150; // ST3C_4
  float v151; // ST20_4
  float v152; // ST3C_4
  __int16 v153; // ax
  int v154; // eax
  float v155; // ST3C_4
  float v156; // ST20_4
  float v157; // ST3C_4
  float v158; // ST3C_4
  __int16 v159; // ax
  float v160; // ST3C_4
  double v161; // ST54_8
  int v162; // ST24_4
  float v163; // ST3C_4
  float v164; // ST20_4
  float v165; // ST3C_4
  float v166; // ST3C_4
  float v167; // ST3C_4
  double v168; // ST54_8
  int v169; // ST24_4
  float v170; // ST3C_4
  float v171; // ST20_4
  float v172; // ST3C_4
  float v173; // ST3C_4
  float v174; // ST3C_4
  int v175; // ST24_4
  double v176; // ST54_8
  float v177; // ST3C_4
  float v178; // ST20_4
  float v179; // ST3C_4
  int v180; // ST24_4
  float v181; // ST3C_4
  float v182; // ST20_4
  float v183; // ST3C_4
  float v184; // ST3C_4
  float v185; // ST48_4
  float v186; // ST48_4
  double v187; // st7
  int v188; // eax
  float v189; // ST3C_4
  float v190; // ST20_4
  float v191; // ST3C_4
  float v192; // ST3C_4
  signed int v193; // edi
  double v194; // st7
  float v195; // ST3C_4
  double v196; // st7
  float v197; // ST3C_4
  float a3; // ST14_4
  float v199; // ST3C_4
  float v200; // ST3C_4
  float v201; // ST48_4
  int v202; // eax
  float v203; // ST3C_4
  float v204; // ST20_4
  float v205; // ST3C_4
  signed int v206; // edi
  double v207; // st7
  float v208; // ST3C_4
  double v209; // st7
  float v210; // ST3C_4
  float v211; // ST14_4
  float v212; // ST48_4
  _BOOL1 v213; // al
  char_komachi *v214; // ecx
  char_c_vtbl *v215; // eax
  _BOOL1 v216; // al
  _BOOL1 v217; // zf
  _BOOL1 v218; // al
  float v219; // ST48_4
  float v220; // ST48_4
  int v221; // ST1C_4
  float v222; // ST3C_4
  float v223; // ST18_4
  float v224; // ST3C_4
  int v225; // ST1C_4
  float v226; // ST3C_4
  float v227; // ST18_4
  float v228; // ST3C_4
  int v229; // eax
  float v230; // ST3C_4
  float v231; // ST20_4
  float v232; // ST3C_4
  char_c *v233; // eax
  float v234; // ST3C_4
  float v235; // ST28_4
  float v236; // ST3C_4
  float v237; // ST3C_4
  char_c *v238; // eax
  float v239; // ST3C_4
  float v240; // ST28_4
  float v241; // ST3C_4
  float v242; // ST3C_4
  double v243; // st7
  int v244; // ST1C_4
  float v245; // ST3C_4
  float v246; // ST18_4
  float v247; // ST3C_4
  int v248; // ST1C_4
  float v249; // ST3C_4
  float v250; // ST18_4
  float v251; // ST3C_4
  int v252; // eax
  float v253; // ST3C_4
  float v254; // ST20_4
  float v255; // ST3C_4
  char_c *v256; // eax
  float v257; // ST3C_4
  float v258; // ST28_4
  float v259; // ST3C_4
  float v260; // ST3C_4
  char_c *v261; // eax
  float v262; // ST3C_4
  float v263; // ST28_4
  float v264; // ST3C_4
  float v265; // ST3C_4
  int v266; // ST1C_4
  float v267; // ST3C_4
  float v268; // ST18_4
  float v269; // ST3C_4
  char_c *v270; // eax
  float v271; // ST3C_4
  float v272; // ST28_4
  float v273; // ST3C_4
  float v274; // ST3C_4
  signed __int16 v275; // bp
  int v276; // ST1C_4
  float v277; // ST3C_4
  float v278; // ST18_4
  float v279; // ST3C_4
  int v280; // ST1C_4
  float v281; // ST3C_4
  float v282; // ST18_4
  float v283; // ST3C_4
  int v284; // eax
  float v285; // ST3C_4
  float v286; // ST20_4
  float v287; // ST3C_4
  char_c *v288; // eax
  float v289; // ST3C_4
  float v290; // ST28_4
  float v291; // ST3C_4
  float v292; // ST3C_4
  char_c *v293; // eax
  float v294; // ST3C_4
  float v295; // ST28_4
  float v296; // ST3C_4
  float v297; // ST3C_4
  int v298; // ST1C_4
  float v299; // ST3C_4
  float v300; // ST18_4
  float v301; // ST3C_4
  int v302; // ST1C_4
  float v303; // ST3C_4
  float v304; // ST18_4
  float v305; // ST3C_4
  int v306; // ST1C_4
  float v307; // ST3C_4
  float v308; // ST18_4
  float v309; // ST3C_4
  int v310; // eax
  float v311; // ST3C_4
  float v312; // ST20_4
  float v313; // ST3C_4
  char_c *v314; // eax
  float v315; // ST3C_4
  float v316; // ST28_4
  float v317; // ST3C_4
  float v318; // ST3C_4
  char_c *v319; // eax
  float v320; // ST3C_4
  float v321; // ST28_4
  float v322; // ST3C_4
  float v323; // ST3C_4
  float v324; // ST3C_4
  char_c *v325; // eax
  float v326; // ST3C_4
  float v327; // ST28_4
  float v328; // ST3C_4
  float v329; // ST3C_4
  int v330; // ST1C_4
  float v331; // ST3C_4
  float v332; // ST18_4
  float v333; // ST3C_4
  int v334; // eax
  float v335; // ST3C_4
  float v336; // ST20_4
  float v337; // ST3C_4
  char_c *v338; // eax
  float v339; // ST3C_4
  float v340; // ST28_4
  float v341; // ST3C_4
  float v342; // ST3C_4
  int v343; // ST1C_4
  float v344; // ST18_4
  float v345; // ST3C_4
  float v346; // ST18_4
  float v347; // ST14_4
  float v348; // ST3C_4
  int v349; // ST1C_4
  float v350; // ST18_4
  float v351; // ST3C_4
  float v352; // ST18_4
  float v353; // ST14_4
  float v354; // ST3C_4
  char_c *v355; // eax
  float v356; // ST3C_4
  float v357; // ST28_4
  float v358; // ST3C_4
  float v359; // ST3C_4
  int v360; // ST1C_4
  float v361; // ST18_4
  float v362; // ST3C_4
  float v363; // ST18_4
  float v364; // ST14_4
  float v365; // ST3C_4
  int v366; // ST1C_4
  float v367; // ST18_4
  float v368; // ST3C_4
  float v369; // ST18_4
  float v370; // ST14_4
  float v371; // ST3C_4
  int v372; // ST1C_4
  float v373; // ST18_4
  float v374; // ST3C_4
  float v375; // ST18_4
  float v376; // ST14_4
  float v377; // ST3C_4
  int v378; // ST1C_4
  float v379; // ST18_4
  float v380; // ST3C_4
  float v381; // ST18_4
  float v382; // ST14_4
  float v383; // ST3C_4
  char v384; // al
  signed int v385; // ecx
  float v386; // ST3C_4
  int v387; // eax
  float v388; // ST3C_4
  int v389; // eax
  float v390; // ST3C_4
  char_c *v391; // eax
  float v392; // ST3C_4
  float v393; // ST28_4
  float v394; // ST3C_4
  float v395; // ST3C_4
  int v396; // ST1C_4
  float v397; // ST3C_4
  float v398; // ST18_4
  float v399; // ST3C_4
  int v400; // eax
  float v401; // ST3C_4
  float v402; // ST20_4
  float v403; // ST3C_4
  char_c *v404; // eax
  float v405; // ST3C_4
  float v406; // ST28_4
  float v407; // ST3C_4
  float v408; // ST3C_4
  int v409; // ST1C_4
  float v410; // ST18_4
  float v411; // ST3C_4
  float v412; // ST18_4
  float v413; // ST14_4
  float v414; // ST3C_4
  int v415; // ST1C_4
  float v416; // ST18_4
  float v417; // ST3C_4
  float v418; // ST18_4
  float v419; // ST14_4
  float v420; // ST3C_4
  char_c *v421; // eax
  float v422; // ST3C_4
  float v423; // ST28_4
  float v424; // ST3C_4
  float v425; // ST3C_4
  int v426; // ST1C_4
  float v427; // ST18_4
  float v428; // ST3C_4
  float v429; // ST18_4
  float v430; // ST14_4
  float v431; // ST3C_4
  int v432; // ST1C_4
  float v433; // ST18_4
  float v434; // ST3C_4
  float v435; // ST18_4
  float v436; // ST14_4
  float v437; // ST3C_4
  int v438; // ST1C_4
  float v439; // ST18_4
  float v440; // ST3C_4
  float v441; // ST18_4
  float v442; // ST14_4
  float v443; // ST3C_4
  int v444; // ST1C_4
  float v445; // ST18_4
  float v446; // ST3C_4
  float v447; // ST18_4
  float v448; // ST14_4
  float v449; // ST3C_4
  int v450; // eax
  float v451; // ST3C_4
  float v452; // ST20_4
  float v453; // ST3C_4
  char_c *v454; // eax
  float v455; // ST3C_4
  float v456; // ST28_4
  float v457; // ST3C_4
  float v458; // ST3C_4
  int v459; // ST1C_4
  float v460; // ST18_4
  float v461; // ST3C_4
  float v462; // ST18_4
  float v463; // ST14_4
  float v464; // ST3C_4
  int v465; // ST1C_4
  float v466; // ST18_4
  float v467; // ST3C_4
  float v468; // ST18_4
  float v469; // ST14_4
  float v470; // ST3C_4
  char_c *v471; // eax
  float v472; // ST3C_4
  float v473; // ST28_4
  float v474; // ST3C_4
  float v475; // ST3C_4
  int v476; // ST1C_4
  float v477; // ST18_4
  float v478; // ST3C_4
  float v479; // ST18_4
  float v480; // ST14_4
  float v481; // ST3C_4
  int v482; // ST1C_4
  float v483; // ST18_4
  float v484; // ST3C_4
  float v485; // ST18_4
  float v486; // ST14_4
  float v487; // ST3C_4
  int v488; // ST1C_4
  float v489; // ST18_4
  float v490; // ST3C_4
  float v491; // ST18_4
  float v492; // ST14_4
  float v493; // ST3C_4
  int v494; // ST1C_4
  float v495; // ST18_4
  float v496; // ST3C_4
  float v497; // ST18_4
  float v498; // ST14_4
  float v499; // ST3C_4
  float v500; // ST48_4
  int v501; // ST1C_4
  float v502; // ST3C_4
  int v503; // ST1C_4
  float v504; // ST3C_4
  signed int v505; // edi
  double v506; // st7
  float v507; // ST3C_4
  double v508; // st7
  float v509; // ST3C_4
  float v510; // ST14_4
  int v511; // eax
  float v512; // ST3C_4
  float v513; // ST18_4
  float v514; // ST3C_4
  int v515; // eax
  float v516; // ST3C_4
  float v517; // ST18_4
  float v518; // ST3C_4
  signed int v519; // edi
  double v520; // st7
  float v521; // ST3C_4
  double v522; // st7
  float v523; // ST3C_4
  float v524; // ST14_4
  int v525; // eax
  float v526; // ST3C_4
  float v527; // ST18_4
  float v528; // ST3C_4
  int v529; // eax
  float v530; // ST3C_4
  float v531; // ST18_4
  float v532; // ST3C_4
  float v533; // ST3C_4
  int v534; // eax
  float v535; // ST3C_4
  int v536; // eax
  double v537; // st7
  double v538; // st7
  int v539; // eax
  double v540; // st7
  float v541; // ST14_4
  byte v542; // cl
  signed int v543; // eax
  int v544; // ST4C_4
  float v545; // ST3C_4
  double v546; // st7
  byte v547; // cl
  signed int v548; // eax
  int v549; // ST4C_4
  float v550; // ST3C_4
  float v551; // ST14_4
  int v552; // ST1C_4
  float v553; // ST3C_4
  float v554; // ST18_4
  float v555; // ST3C_4
  signed int v556; // edi
  double v557; // st7
  float v558; // ST3C_4
  double v559; // st7
  float v560; // ST3C_4
  float v561; // ST14_4
  int v562; // ST1C_4
  float v563; // ST3C_4
  float v564; // ST18_4
  float v565; // ST3C_4
  signed int v566; // edi
  double v567; // st7
  float v568; // ST3C_4
  double v569; // st7
  float v570; // ST3C_4
  float v571; // ST14_4
  float v572; // ST3C_4
  int v573; // ST1C_4
  float v574; // ST3C_4
  float v575; // ST18_4
  float v576; // ST3C_4
  signed int v577; // edi
  double v578; // st7
  float v579; // ST3C_4
  double v580; // st7
  float v581; // ST3C_4
  float v582; // ST14_4
  int v583; // ST1C_4
  float v584; // ST3C_4
  float v585; // ST18_4
  float v586; // ST3C_4
  signed int v587; // edi
  double v588; // st7
  float v589; // ST3C_4
  double v590; // st7
  float v591; // ST3C_4
  float v592; // ST14_4
  double v593; // st7
  float v594; // ST48_4
  float v595; // ST48_4
  double v596; // st6
  int v597; // ST1C_4
  float v598; // ST3C_4
  int v599; // eax
  float v600; // ST3C_4
  int v601; // ST1C_4
  float v602; // ST3C_4
  float v603; // ST48_4
  int v604; // ST1C_4
  float v605; // ST3C_4
  __int16 v606; // ax
  _BOOL1 v607; // zf
  double v608; // st7
  double v609; // st6
  int v610; // eax
  _BOOL1 v611; // zf
  double v612; // st5
  double v613; // st7
  float v614; // ST48_4
  float v615; // ST48_4
  double v616; // st6
  int v617; // ST1C_4
  float v618; // ST3C_4
  int v619; // eax
  float v620; // ST3C_4
  int v621; // ST1C_4
  float v622; // ST3C_4
  float v623; // ST48_4
  int v624; // ST1C_4
  float v625; // ST3C_4
  __int16 v626; // ax
  _BOOL1 v627; // zf
  int v628; // eax
  _BOOL1 v629; // zf
  double v630; // st7
  float v631; // ST3C_4
  char_c *v632; // eax
  float v633; // ST3C_4
  float v634; // ST3C_4
  char_c *v635; // eax
  float v636; // ST3C_4
  signed int v637; // edi
  double v638; // st7
  signed int v639; // edi
  double v640; // st7
  char_c *v641; // eax
  byte v642; // al
  signed int v643; // ecx
  float v644; // ST3C_4
  int *v645; // eax
  float v646; // ST3C_4
  double v647; // st7
  byte v648; // al
  signed int v649; // ecx
  double v650; // st7
  float v651; // ST3C_4
  char_c *v652; // eax
  float v653; // ST3C_4
  float v654; // ST3C_4
  char_c *v655; // eax
  float v656; // ST3C_4
  signed int v657; // edi
  double v658; // st7
  signed int v659; // edi
  double v660; // st7
  char_c *v661; // eax
  float v662; // ST3C_4
  float v663; // ST3C_4
  double v664; // st7
  float v665; // ST3C_4
  char_c *v666; // eax
  float v667; // ST3C_4
  float v668; // ST3C_4
  char_c *v669; // eax
  float v670; // ST3C_4
  signed int v671; // edi
  double v672; // st7
  signed int v673; // edi
  double v674; // st7
  char_c *v675; // eax
  byte v676; // al
  signed int v677; // ecx
  float v678; // ST3C_4
  float v679; // ST3C_4
  float v680; // ST18_4
  _BOOL1 v681; // zf
  byte v682; // al
  signed int v683; // ecx
  double v684; // st7
  float v685; // ST3C_4
  char_c *v686; // eax
  float v687; // ST3C_4
  float v688; // ST3C_4
  char_c *v689; // eax
  float v690; // ST3C_4
  signed int v691; // edi
  double v692; // st7
  signed int v693; // edi
  double v694; // st7
  char_c *v695; // eax
  float v696; // ST3C_4
  float v697; // ST3C_4
  int v698; // eax
  float v699; // ST3C_4
  float v700; // ST20_4
  float v701; // ST3C_4
  int v702; // ST1C_4
  float v703; // ST3C_4
  int v704; // eax
  float v705; // ST3C_4
  float v706; // ST3C_4
  float v707; // ST3C_4
  double v708; // st7
  int v709; // eax
  float v710; // ST3C_4
  float v711; // ST20_4
  float v712; // ST3C_4
  float v713; // ST3C_4
  float v714; // ST3C_4
  float v715; // ST3C_4
  float v716; // ST14_4
  float v717; // ST48_4
  double v718; // st3
  char_c *v719; // ecx
  float v720; // ST48_4
  double v721; // st7
  char_c *v722; // ecx
  signed int v723; // eax
  float v724; // ST3C_4
  char_c *v725; // ecx
  signed int v726; // edi
  double v727; // st7
  float v728; // ST3C_4
  double v729; // st7
  float v730; // ST3C_4
  float v731; // ST14_4
  float v732; // ST48_4
  double v733; // st3
  char_c *v734; // ecx
  float v735; // ST48_4
  double v736; // st7
  char_c *v737; // ecx
  signed int v738; // eax
  byte v739; // al
  signed int v740; // ecx
  float v741; // ST3C_4
  char_c *v742; // ecx
  signed int v743; // edi
  double v744; // st7
  float v745; // ST3C_4
  double v746; // st7
  float v747; // ST3C_4
  float v748; // ST14_4
  int v749; // edx
  float v750; // ST3C_4
  float v751; // ST3C_4
  double v752; // st7
  bool v753; // eax
  float v754; // ST3C_4
  float v755; // ST3C_4
  float v756; // ST14_4
  int v757; // eax
  float v758; // ST3C_4
  float v759; // ST18_4
  float v760; // ST3C_4
  int v761; // eax
  float v762; // ST3C_4
  float v763; // ST20_4
  float v764; // ST3C_4
  char_c *v765; // eax
  float v766; // ST3C_4
  float v767; // ST28_4
  float v768; // ST3C_4
  float v769; // ST3C_4
  char_c *v770; // eax
  float v771; // ST3C_4
  float v772; // ST28_4
  float v773; // ST3C_4
  float v774; // ST3C_4
  double v775; // st7
  int v776; // edx
  float v777; // ST3C_4
  float v778; // ST3C_4
  double v779; // st7
  bool v780; // eax
  float v781; // ST3C_4
  float v782; // ST3C_4
  float v783; // ST14_4
  int v784; // eax
  float v785; // ST3C_4
  float v786; // ST18_4
  float v787; // ST3C_4
  int v788; // eax
  float v789; // ST3C_4
  float v790; // ST20_4
  float v791; // ST3C_4
  char_c *v792; // eax
  float v793; // ST3C_4
  float v794; // ST28_4
  float v795; // ST3C_4
  float v796; // ST3C_4
  char_c *v797; // eax
  float v798; // ST3C_4
  float v799; // ST28_4
  float v800; // ST3C_4
  float v801; // ST3C_4
  float v802; // ST48_4
  double v803; // ST4C_8
  __int16 v804; // ax
  __int16 v805; // cx
  char_c *v806; // eax
  float v807; // ST3C_4
  float v808; // ST28_4
  float v809; // ST3C_4
  __int16 v810; // ax
  double v811; // ST3C_8
  int v812; // ST1C_4
  float v813; // ST3C_4
  float v814; // ST18_4
  float v815; // ST3C_4
  double v816; // ST3C_8
  signed int v817; // eax
  int v818; // eax
  float v819; // ST3C_4
  float v820; // ST20_4
  float v821; // ST3C_4
  int v822; // ST1C_4
  float v823; // ST3C_4
  float v824; // ST18_4
  float v825; // ST3C_4
  signed int v826; // eax
  int v827; // eax
  float v828; // ST3C_4
  float v829; // ST18_4
  float v830; // ST3C_4
  int v831; // eax
  float v832; // ST3C_4
  float v833; // ST18_4
  float v834; // ST3C_4
  int v835; // eax
  float v836; // ST3C_4
  float v837; // ST20_4
  float v838; // ST3C_4
  int v839; // eax
  float v840; // ST3C_4
  float v841; // ST18_4
  float v842; // ST3C_4
  int v843; // eax
  float v844; // ST3C_4
  float v845; // ST18_4
  float v846; // ST3C_4
  int v847; // eax
  float v848; // ST3C_4
  float v849; // ST20_4
  float v850; // ST3C_4
  float v851; // ST48_4
  double v852; // ST4C_8
  char_c *v853; // eax
  float v854; // ST3C_4
  float v855; // ST28_4
  float v856; // ST3C_4
  __int16 v857; // ax
  int v858; // eax
  float v859; // ST3C_4
  float v860; // ST18_4
  float v861; // ST3C_4
  int v862; // ST1C_4
  float v863; // ST3C_4
  float v864; // ST18_4
  float v865; // ST3C_4
  signed int v866; // eax
  signed int v867; // edi
  double v868; // st7
  float v869; // ST3C_4
  double v870; // st7
  float v871; // ST3C_4
  float v872; // ST14_4
  int v873; // ST1C_4
  float v874; // ST3C_4
  int v875; // eax
  float v876; // ST3C_4
  int v877; // eax
  float v878; // ST3C_4
  signed int v879; // edi
  double v880; // st7
  float v881; // ST3C_4
  double v882; // st7
  float v883; // ST3C_4
  float v884; // ST14_4
  int v885; // ST1C_4
  float v886; // ST3C_4
  int v887; // eax
  float v888; // ST3C_4
  int v889; // eax
  float v890; // ST3C_4
  __int16 v891; // ax
  float v892; // ST48_4
  int v893; // ST1C_4
  float v894; // ST3C_4
  float v895; // ST3C_4
  int v896; // ST1C_4
  float v897; // ST3C_4
  float v898; // ST3C_4
  double v899; // st7
  char_c *v900; // eax
  float v901; // ST3C_4
  int v902; // eax
  float v903; // ST3C_4
  float v904; // ST20_4
  float v905; // ST3C_4
  signed int v906; // edi
  double v907; // st7
  float v908; // ST3C_4
  double v909; // st7
  float v910; // ST3C_4
  float v911; // ST14_4
  float v912; // ST3C_4
  char_c *v913; // eax
  float v914; // ST3C_4
  signed int v915; // edi
  double v916; // st7
  float v917; // ST3C_4
  double v918; // st7
  float v919; // ST3C_4
  float v920; // ST14_4
  char_c *v921; // eax
  float v922; // ST3C_4
  float v923; // ST28_4
  float v924; // ST3C_4
  float v925; // ST3C_4
  __int16 v926; // ax
  int v927; // eax
  float v928; // ST3C_4
  float v929; // ST18_4
  float v930; // ST3C_4
  float v931; // ST3C_4
  __int16 v932; // ax
  float v933; // ST3C_4
  int v934; // ST1C_4
  float v935; // ST3C_4
  int v936; // eax
  float v937; // ST3C_4
  float v938; // ST3C_4
  float v939; // ST48_4
  int v940; // ST1C_4
  float v941; // ST3C_4
  float v942; // ST3C_4
  int v943; // eax
  float v944; // ST3C_4
  float v945; // ST20_4
  float v946; // ST3C_4
  signed int v947; // edi
  double v948; // st7
  float v949; // ST3C_4
  double v950; // st7
  float v951; // ST3C_4
  float v952; // ST14_4
  double v953; // st7
  float v954; // ST3C_4
  double v955; // st7
  char_c *v956; // eax
  float v957; // ST3C_4
  char_c *v958; // edi
  float v959; // ST3C_4
  signed int v960; // edi
  double v961; // st7
  float v962; // ST3C_4
  double v963; // st7
  float v964; // ST3C_4
  float v965; // ST14_4
  char_c *v966; // eax
  float v967; // ST3C_4
  signed int v968; // edi
  char_c *v969; // eax
  float v970; // ST3C_4
  float v971; // ST3C_4
  signed int v972; // edi
  float v973; // ST3C_4
  __int16 v974; // ax
  int v975; // eax
  float v976; // ST3C_4
  float v977; // ST18_4
  float v978; // ST3C_4
  float v979; // ST3C_4
  int v980; // eax
  float v981; // ST3C_4
  float v982; // ST20_4
  float v983; // ST3C_4
  int v984; // eax
  float v985; // ST3C_4
  float v986; // ST20_4
  float v987; // ST3C_4
  signed int v988; // edi
  double v989; // st7
  float v990; // ST3C_4
  double v991; // st7
  float v992; // ST3C_4
  float v993; // ST14_4
  int v994; // eax
  float v995; // ST3C_4
  float v996; // ST20_4
  float v997; // ST3C_4
  int v998; // ST1C_4
  float v999; // ST3C_4
  int v1000; // eax
  float v1001; // ST3C_4
  float v1002; // ST3C_4
  float v1003; // ST3C_4
  float v1004; // ST3C_4
  float v1005; // ST3C_4
  float v1006; // ST48_4
  float v1007; // ST48_4
  float v1008; // ST28_4
  float v1009; // ST3C_4
  float v1010; // ST28_4
  float v1011; // ST3C_4
  signed int v1012; // edi
  double v1013; // st7
  float v1014; // ST3C_4
  double v1015; // st7
  float v1016; // ST3C_4
  float v1017; // ST14_4
  int v1018; // eax
  float v1019; // ST3C_4
  double v1020; // st7
  signed int v1021; // edi
  double v1022; // st7
  double v1023; // st7
  double v1024; // st7
  double v1025; // st7
  float v1026; // ST48_4
  int v1027; // ST1C_4
  float v1028; // ST48_4
  float v1029; // ST4C_4
  float v1030; // ST18_4
  float v1031; // ST4C_4
  double v1032; // st7
  double v1033; // st7
  float v1034; // ST48_4
  int v1035; // ST1C_4
  float v1036; // ST48_4
  float v1037; // ST4C_4
  float v1038; // ST18_4
  float v1039; // ST4C_4
  double v1040; // st7
  double v1041; // st7
  float v1042; // ST48_4
  int v1043; // ST1C_4
  float v1044; // ST48_4
  float v1045; // ST4C_4
  float v1046; // ST18_4
  float v1047; // ST4C_4
  double v1048; // st7
  double v1049; // st7
  float v1050; // ST48_4
  int v1051; // ST1C_4
  float v1052; // ST48_4
  float v1053; // ST4C_4
  float v1054; // ST18_4
  float v1055; // ST4C_4
  double v1056; // st7
  double v1057; // st7
  float v1058; // ST48_4
  int v1059; // ST1C_4
  float v1060; // ST48_4
  float v1061; // ST4C_4
  float v1062; // ST18_4
  float v1063; // ST4C_4
  double v1064; // st7
  float v1065; // ST4C_4
  float v1066; // ST4C_4
  float v1067; // ST4C_4
  char_c *v1068; // eax
  float v1069; // ST4C_4
  float v1070; // ST4C_4
  char_c *v1071; // eax
  float v1072; // ST4C_4
  signed int v1073; // edi
  double v1074; // st7
  signed int v1075; // edi
  double v1076; // st7
  char_c *v1077; // eax
  void (__thiscall *v1078)(c_meta *, int); // eax
  int v1079; // eax
  int v1080; // eax
  float v1081; // ST48_4
  double v1082; // st7
  float v1083; // ST48_4
  double v1084; // st7
  float a1; // [esp+18h] [ebp-514h]
  float a1a; // [esp+18h] [ebp-514h]
  float a1b; // [esp+18h] [ebp-514h]
  float a1c; // [esp+18h] [ebp-514h]
  float a1d; // [esp+18h] [ebp-514h]
  float a1e; // [esp+18h] [ebp-514h]
  float a1f; // [esp+18h] [ebp-514h]
  float a1g; // [esp+18h] [ebp-514h]
  float a1h; // [esp+18h] [ebp-514h]
  float a1i; // [esp+18h] [ebp-514h]
  float a1j; // [esp+18h] [ebp-514h]
  float a1k; // [esp+18h] [ebp-514h]
  float a1l; // [esp+18h] [ebp-514h]
  float a1m; // [esp+18h] [ebp-514h]
  float a1n; // [esp+18h] [ebp-514h]
  float a1o; // [esp+18h] [ebp-514h]
  float a1p; // [esp+18h] [ebp-514h]
  float a1q; // [esp+18h] [ebp-514h]
  float a1r; // [esp+18h] [ebp-514h]
  float a1s; // [esp+18h] [ebp-514h]
  float a1t; // [esp+18h] [ebp-514h]
  float a1u; // [esp+18h] [ebp-514h]
  float a1v; // [esp+18h] [ebp-514h]
  float a1w; // [esp+18h] [ebp-514h]
  int x; // [esp+1Ch] [ebp-510h]
  int xa; // [esp+1Ch] [ebp-510h]
  int xb; // [esp+1Ch] [ebp-510h]
  int xc; // [esp+1Ch] [ebp-510h]
  int xd; // [esp+1Ch] [ebp-510h]
  int xe; // [esp+1Ch] [ebp-510h]
  int xf; // [esp+1Ch] [ebp-510h]
  int xg; // [esp+1Ch] [ebp-510h]
  int xh; // [esp+1Ch] [ebp-510h]
  int xi; // [esp+1Ch] [ebp-510h]
  int xj; // [esp+1Ch] [ebp-510h]
  int xk; // [esp+1Ch] [ebp-510h]
  int xl; // [esp+1Ch] [ebp-510h]
  int xm; // [esp+1Ch] [ebp-510h]
  int xn; // [esp+1Ch] [ebp-510h]
  int xo; // [esp+1Ch] [ebp-510h]
  int xp; // [esp+1Ch] [ebp-510h]
  int xq; // [esp+1Ch] [ebp-510h]
  int xr; // [esp+1Ch] [ebp-510h]
  int xs; // [esp+1Ch] [ebp-510h]
  int xt; // [esp+1Ch] [ebp-510h]
  int xu; // [esp+1Ch] [ebp-510h]
  int xv; // [esp+1Ch] [ebp-510h]
  int xw; // [esp+1Ch] [ebp-510h]
  int y; // [esp+20h] [ebp-50Ch]
  int ya; // [esp+20h] [ebp-50Ch]
  int yb; // [esp+20h] [ebp-50Ch]
  int yc; // [esp+20h] [ebp-50Ch]
  int yd; // [esp+20h] [ebp-50Ch]
  int ye; // [esp+20h] [ebp-50Ch]
  int yf; // [esp+20h] [ebp-50Ch]
  int yg; // [esp+20h] [ebp-50Ch]
  int yh; // [esp+20h] [ebp-50Ch]
  int yi; // [esp+20h] [ebp-50Ch]
  int yj; // [esp+20h] [ebp-50Ch]
  int yk; // [esp+20h] [ebp-50Ch]
  int yl; // [esp+20h] [ebp-50Ch]
  int ym; // [esp+20h] [ebp-50Ch]
  int yn; // [esp+20h] [ebp-50Ch]
  int yo; // [esp+20h] [ebp-50Ch]
  int yp; // [esp+20h] [ebp-50Ch]
  int yq; // [esp+20h] [ebp-50Ch]
  int *v1151; // [esp+24h] [ebp-508h]
  int *v1152; // [esp+24h] [ebp-508h]
  int *v1153; // [esp+24h] [ebp-508h]
  int *v1154; // [esp+24h] [ebp-508h]
  int *v1155; // [esp+24h] [ebp-508h]
  int *v1156; // [esp+24h] [ebp-508h]
  float v1157; // [esp+3Ch] [ebp-4F0h]
  signed int v1158; // [esp+3Ch] [ebp-4F0h]
  signed int v1159; // [esp+3Ch] [ebp-4F0h]
  signed int v1160; // [esp+3Ch] [ebp-4F0h]
  signed int v1161; // [esp+3Ch] [ebp-4F0h]
  float v1162; // [esp+3Ch] [ebp-4F0h]
  float v1163; // [esp+3Ch] [ebp-4F0h]
  signed int v1164; // [esp+3Ch] [ebp-4F0h]
  signed int v1165; // [esp+3Ch] [ebp-4F0h]
  signed int v1166; // [esp+3Ch] [ebp-4F0h]
  signed int v1167; // [esp+3Ch] [ebp-4F0h]
  signed int v1168; // [esp+3Ch] [ebp-4F0h]
  signed int v1169; // [esp+3Ch] [ebp-4F0h]
  signed int v1170; // [esp+3Ch] [ebp-4F0h]
  signed int v1171; // [esp+3Ch] [ebp-4F0h]
  signed int v1172; // [esp+3Ch] [ebp-4F0h]
  signed int v1173; // [esp+3Ch] [ebp-4F0h]
  signed int v1174; // [esp+3Ch] [ebp-4F0h]
  signed int v1175; // [esp+3Ch] [ebp-4F0h]
  signed int v1176; // [esp+3Ch] [ebp-4F0h]
  signed int v1177; // [esp+3Ch] [ebp-4F0h]
  signed int v1178; // [esp+3Ch] [ebp-4F0h]
  signed int v1179; // [esp+3Ch] [ebp-4F0h]
  signed int v1180; // [esp+3Ch] [ebp-4F0h]
  signed int v1181; // [esp+3Ch] [ebp-4F0h]
  float v1182; // [esp+3Ch] [ebp-4F0h]
  signed int v1183; // [esp+3Ch] [ebp-4F0h]
  signed int v1184; // [esp+3Ch] [ebp-4F0h]
  signed int v1185; // [esp+3Ch] [ebp-4F0h]
  signed int v1186; // [esp+3Ch] [ebp-4F0h]
  signed int v1187; // [esp+3Ch] [ebp-4F0h]
  float v1188; // [esp+3Ch] [ebp-4F0h]
  float v1189; // [esp+3Ch] [ebp-4F0h]
  float v1190; // [esp+3Ch] [ebp-4F0h]
  float v1191; // [esp+3Ch] [ebp-4F0h]
  float v1192; // [esp+3Ch] [ebp-4F0h]
  signed int v1193; // [esp+3Ch] [ebp-4F0h]
  signed int v1194; // [esp+3Ch] [ebp-4F0h]
  float v1195; // [esp+54h] [ebp-4D8h]
  float v1196; // [esp+54h] [ebp-4D8h]
  float v1197; // [esp+54h] [ebp-4D8h]
  int v1198; // [esp+60h] [ebp-4CCh]
  float v1199; // [esp+64h] [ebp-4C8h]
  float v1200; // [esp+68h] [ebp-4C4h]
  int v1201; // [esp+6Ch] [ebp-4C0h]
  float v1202; // [esp+70h] [ebp-4BCh]
  float v1203; // [esp+74h] [ebp-4B8h]
  int v1204; // [esp+78h] [ebp-4B4h]
  float v1205; // [esp+7Ch] [ebp-4B0h]
  float v1206; // [esp+80h] [ebp-4ACh]
  int v1207; // [esp+84h] [ebp-4A8h]
  float v1208; // [esp+88h] [ebp-4A4h]
  float v1209; // [esp+8Ch] [ebp-4A0h]
  int v1210; // [esp+90h] [ebp-49Ch]
  float v1211; // [esp+94h] [ebp-498h]
  float v1212; // [esp+98h] [ebp-494h]
  int v1213; // [esp+9Ch] [ebp-490h]
  float v1214; // [esp+A0h] [ebp-48Ch]
  float v1215; // [esp+A4h] [ebp-488h]
  int v1216; // [esp+A8h] [ebp-484h]
  float v1217; // [esp+ACh] [ebp-480h]
  float v1218; // [esp+B0h] [ebp-47Ch]
  int v1219; // [esp+B4h] [ebp-478h]
  float v1220; // [esp+B8h] [ebp-474h]
  float v1221; // [esp+BCh] [ebp-470h]
  int v1222; // [esp+C0h] [ebp-46Ch]
  float v1223; // [esp+C4h] [ebp-468h]
  float v1224; // [esp+C8h] [ebp-464h]
  int v1225; // [esp+CCh] [ebp-460h]
  float v1226; // [esp+D0h] [ebp-45Ch]
  float v1227; // [esp+D4h] [ebp-458h]
  int v1228; // [esp+D8h] [ebp-454h]
  float v1229; // [esp+DCh] [ebp-450h]
  float v1230; // [esp+E0h] [ebp-44Ch]
  float a4; // [esp+E4h] [ebp-448h]
  float v1232; // [esp+E8h] [ebp-444h]
  float v1233; // [esp+ECh] [ebp-440h]
  float v1234; // [esp+F0h] [ebp-43Ch]
  int v1235; // [esp+F4h] [ebp-438h]
  float v1236; // [esp+F8h] [ebp-434h]
  float v1237; // [esp+FCh] [ebp-430h]
  int v1238; // [esp+100h] [ebp-42Ch]
  float v1239; // [esp+104h] [ebp-428h]
  float v1240; // [esp+108h] [ebp-424h]
  int v1241; // [esp+10Ch] [ebp-420h]
  float v1242; // [esp+110h] [ebp-41Ch]
  float v1243; // [esp+114h] [ebp-418h]
  int v1244; // [esp+118h] [ebp-414h]
  float v1245; // [esp+11Ch] [ebp-410h]
  float v1246; // [esp+120h] [ebp-40Ch]
  int v1247; // [esp+124h] [ebp-408h]
  float v1248; // [esp+128h] [ebp-404h]
  float v1249; // [esp+12Ch] [ebp-400h]
  int v1250; // [esp+130h] [ebp-3FCh]
  float v1251; // [esp+134h] [ebp-3F8h]
  float v1252; // [esp+138h] [ebp-3F4h]
  int v1253; // [esp+13Ch] [ebp-3F0h]
  float v1254; // [esp+140h] [ebp-3ECh]
  float v1255; // [esp+144h] [ebp-3E8h]
  int v1256; // [esp+148h] [ebp-3E4h]
  float v1257; // [esp+14Ch] [ebp-3E0h]
  float v1258; // [esp+150h] [ebp-3DCh]
  int v1259; // [esp+154h] [ebp-3D8h]
  float v1260; // [esp+158h] [ebp-3D4h]
  float v1261; // [esp+15Ch] [ebp-3D0h]
  int v1262; // [esp+160h] [ebp-3CCh]
  float v1263; // [esp+164h] [ebp-3C8h]
  float v1264; // [esp+168h] [ebp-3C4h]
  int v1265; // [esp+16Ch] [ebp-3C0h]
  float v1266; // [esp+170h] [ebp-3BCh]
  float v1267; // [esp+174h] [ebp-3B8h]
  int v1268; // [esp+178h] [ebp-3B4h]
  float v1269; // [esp+17Ch] [ebp-3B0h]
  float v1270; // [esp+180h] [ebp-3ACh]
  int v1271; // [esp+184h] [ebp-3A8h]
  float v1272; // [esp+188h] [ebp-3A4h]
  float v1273; // [esp+18Ch] [ebp-3A0h]
  int v1274; // [esp+190h] [ebp-39Ch]
  float v1275; // [esp+194h] [ebp-398h]
  float v1276; // [esp+198h] [ebp-394h]
  int v1277; // [esp+19Ch] [ebp-390h]
  float v1278; // [esp+1A0h] [ebp-38Ch]
  float v1279; // [esp+1A4h] [ebp-388h]
  int v1280; // [esp+1A8h] [ebp-384h]
  float v1281; // [esp+1ACh] [ebp-380h]
  float v1282; // [esp+1B0h] [ebp-37Ch]
  int v1283; // [esp+1B4h] [ebp-378h]
  float v1284; // [esp+1B8h] [ebp-374h]
  float v1285; // [esp+1BCh] [ebp-370h]
  int v1286; // [esp+1C0h] [ebp-36Ch]
  float v1287; // [esp+1C4h] [ebp-368h]
  float v1288; // [esp+1C8h] [ebp-364h]
  int v1289; // [esp+1CCh] [ebp-360h]
  float v1290; // [esp+1D0h] [ebp-35Ch]
  float v1291; // [esp+1D4h] [ebp-358h]
  int v1292; // [esp+1D8h] [ebp-354h]
  float v1293; // [esp+1DCh] [ebp-350h]
  float v1294; // [esp+1E0h] [ebp-34Ch]
  float v1295; // [esp+1E4h] [ebp-348h]
  float v1296; // [esp+1E8h] [ebp-344h]
  float v1297; // [esp+1ECh] [ebp-340h]
  int v1298; // [esp+1F0h] [ebp-33Ch]
  float v1299; // [esp+1F4h] [ebp-338h]
  float v1300; // [esp+1F8h] [ebp-334h]
  int v1301; // [esp+1FCh] [ebp-330h]
  float v1302; // [esp+200h] [ebp-32Ch]
  float v1303; // [esp+204h] [ebp-328h]
  int v1304; // [esp+208h] [ebp-324h]
  float v1305; // [esp+20Ch] [ebp-320h]
  float v1306; // [esp+210h] [ebp-31Ch]
  int v1307; // [esp+214h] [ebp-318h]
  float v1308; // [esp+218h] [ebp-314h]
  float v1309; // [esp+21Ch] [ebp-310h]
  int v1310; // [esp+220h] [ebp-30Ch]
  float v1311; // [esp+224h] [ebp-308h]
  float v1312; // [esp+228h] [ebp-304h]
  int v1313; // [esp+22Ch] [ebp-300h]
  float v1314; // [esp+230h] [ebp-2FCh]
  float v1315; // [esp+234h] [ebp-2F8h]
  int v1316; // [esp+238h] [ebp-2F4h]
  float v1317; // [esp+23Ch] [ebp-2F0h]
  float v1318; // [esp+240h] [ebp-2ECh]
  int v1319; // [esp+244h] [ebp-2E8h]
  float v1320; // [esp+248h] [ebp-2E4h]
  float v1321; // [esp+24Ch] [ebp-2E0h]
  int v1322; // [esp+250h] [ebp-2DCh]
  float v1323; // [esp+254h] [ebp-2D8h]
  float v1324; // [esp+258h] [ebp-2D4h]
  int v1325; // [esp+25Ch] [ebp-2D0h]
  float v1326; // [esp+260h] [ebp-2CCh]
  float v1327; // [esp+264h] [ebp-2C8h]
  int v1328; // [esp+268h] [ebp-2C4h]
  float v1329; // [esp+26Ch] [ebp-2C0h]
  float v1330; // [esp+270h] [ebp-2BCh]
  int a7; // [esp+274h] [ebp-2B8h]
  float v1332; // [esp+278h] [ebp-2B4h]
  float v1333; // [esp+27Ch] [ebp-2B0h]
  int v1334; // [esp+280h] [ebp-2ACh]
  float v1335; // [esp+284h] [ebp-2A8h]
  float v1336; // [esp+288h] [ebp-2A4h]
  int v1337; // [esp+28Ch] [ebp-2A0h]
  float v1338; // [esp+290h] [ebp-29Ch]
  float v1339; // [esp+294h] [ebp-298h]
  int v1340; // [esp+298h] [ebp-294h]
  float v1341; // [esp+29Ch] [ebp-290h]
  float v1342; // [esp+2A0h] [ebp-28Ch]
  int v1343; // [esp+2A4h] [ebp-288h]
  float v1344; // [esp+2A8h] [ebp-284h]
  float v1345; // [esp+2ACh] [ebp-280h]
  int v1346; // [esp+2B0h] [ebp-27Ch]
  float v1347; // [esp+2B4h] [ebp-278h]
  float v1348; // [esp+2B8h] [ebp-274h]
  int v1349; // [esp+2BCh] [ebp-270h]
  float v1350; // [esp+2C0h] [ebp-26Ch]
  float v1351; // [esp+2C4h] [ebp-268h]
  int v1352; // [esp+2C8h] [ebp-264h]
  float v1353; // [esp+2CCh] [ebp-260h]
  float v1354; // [esp+2D0h] [ebp-25Ch]
  int v1355; // [esp+2D4h] [ebp-258h]
  float v1356; // [esp+2D8h] [ebp-254h]
  float v1357; // [esp+2DCh] [ebp-250h]
  int v1358; // [esp+2E0h] [ebp-24Ch]
  float v1359; // [esp+2E4h] [ebp-248h]
  float v1360; // [esp+2E8h] [ebp-244h]
  int v1361; // [esp+2ECh] [ebp-240h]
  float v1362; // [esp+2F0h] [ebp-23Ch]
  float v1363; // [esp+2F4h] [ebp-238h]
  int v1364; // [esp+2F8h] [ebp-234h]
  float v1365; // [esp+2FCh] [ebp-230h]
  float v1366; // [esp+300h] [ebp-22Ch]
  int v1367; // [esp+304h] [ebp-228h]
  float v1368; // [esp+308h] [ebp-224h]
  float v1369; // [esp+30Ch] [ebp-220h]
  float v1370; // [esp+310h] [ebp-21Ch]
  float v1371; // [esp+314h] [ebp-218h]
  float v1372; // [esp+318h] [ebp-214h]
  int v1373; // [esp+31Ch] [ebp-210h]
  float v1374; // [esp+320h] [ebp-20Ch]
  float v1375; // [esp+324h] [ebp-208h]
  int v1376; // [esp+328h] [ebp-204h]
  float v1377; // [esp+32Ch] [ebp-200h]
  float v1378; // [esp+330h] [ebp-1FCh]
  int v1379; // [esp+334h] [ebp-1F8h]
  float v1380; // [esp+338h] [ebp-1F4h]
  float v1381; // [esp+33Ch] [ebp-1F0h]
  int v1382; // [esp+340h] [ebp-1ECh]
  float v1383; // [esp+344h] [ebp-1E8h]
  float v1384; // [esp+348h] [ebp-1E4h]
  int v1385; // [esp+34Ch] [ebp-1E0h]
  float v1386; // [esp+350h] [ebp-1DCh]
  float v1387; // [esp+354h] [ebp-1D8h]
  float v1388; // [esp+358h] [ebp-1D4h]
  float v1389; // [esp+35Ch] [ebp-1D0h]
  float v1390; // [esp+360h] [ebp-1CCh]
  float v1391; // [esp+364h] [ebp-1C8h]
  float v1392; // [esp+368h] [ebp-1C4h]
  float v1393; // [esp+36Ch] [ebp-1C0h]
  int v1394; // [esp+370h] [ebp-1BCh]
  float v1395; // [esp+374h] [ebp-1B8h]
  float v1396; // [esp+378h] [ebp-1B4h]
  float v1397; // [esp+37Ch] [ebp-1B0h]
  float v1398; // [esp+380h] [ebp-1ACh]
  float v1399; // [esp+384h] [ebp-1A8h]
  int v1400; // [esp+388h] [ebp-1A4h]
  float v1401; // [esp+38Ch] [ebp-1A0h]
  float v1402; // [esp+390h] [ebp-19Ch]
  int v1403; // [esp+394h] [ebp-198h]
  float v1404; // [esp+398h] [ebp-194h]
  float v1405; // [esp+39Ch] [ebp-190h]
  float v1406; // [esp+3A0h] [ebp-18Ch]
  float v1407; // [esp+3A4h] [ebp-188h]
  float v1408; // [esp+3A8h] [ebp-184h]
  int v1409; // [esp+3ACh] [ebp-180h]
  float v1410; // [esp+3B0h] [ebp-17Ch]
  float v1411; // [esp+3B4h] [ebp-178h]
  int v1412; // [esp+3B8h] [ebp-174h]
  float v1413; // [esp+3BCh] [ebp-170h]
  float v1414; // [esp+3C0h] [ebp-16Ch]
  int v1415; // [esp+3C4h] [ebp-168h]
  float v1416; // [esp+3C8h] [ebp-164h]
  float v1417; // [esp+3CCh] [ebp-160h]
  int v1418; // [esp+3D0h] [ebp-15Ch]
  float v1419; // [esp+3D4h] [ebp-158h]
  float v1420; // [esp+3D8h] [ebp-154h]
  int v1421; // [esp+3DCh] [ebp-150h]
  float v1422; // [esp+3E0h] [ebp-14Ch]
  float v1423; // [esp+3E4h] [ebp-148h]
  int v1424; // [esp+3E8h] [ebp-144h]
  float v1425; // [esp+3ECh] [ebp-140h]
  float v1426; // [esp+3F0h] [ebp-13Ch]
  int v1427; // [esp+3F4h] [ebp-138h]
  float v1428; // [esp+3F8h] [ebp-134h]
  float v1429; // [esp+3FCh] [ebp-130h]
  int v1430; // [esp+400h] [ebp-12Ch]
  float v1431; // [esp+404h] [ebp-128h]
  float v1432; // [esp+408h] [ebp-124h]
  int v1433; // [esp+40Ch] [ebp-120h]
  float v1434; // [esp+410h] [ebp-11Ch]
  float v1435; // [esp+414h] [ebp-118h]
  int v1436; // [esp+418h] [ebp-114h]
  float v1437; // [esp+41Ch] [ebp-110h]
  float v1438; // [esp+420h] [ebp-10Ch]
  int v1439; // [esp+424h] [ebp-108h]
  float v1440; // [esp+428h] [ebp-104h]
  float v1441; // [esp+42Ch] [ebp-100h]
  int v1442; // [esp+430h] [ebp-FCh]
  float v1443; // [esp+434h] [ebp-F8h]
  float v1444; // [esp+438h] [ebp-F4h]
  int v1445; // [esp+43Ch] [ebp-F0h]
  float v1446; // [esp+440h] [ebp-ECh]
  float v1447; // [esp+444h] [ebp-E8h]
  int v1448; // [esp+448h] [ebp-E4h]
  float v1449; // [esp+44Ch] [ebp-E0h]
  float v1450; // [esp+450h] [ebp-DCh]
  int v1451; // [esp+454h] [ebp-D8h]
  float v1452; // [esp+458h] [ebp-D4h]
  float v1453; // [esp+45Ch] [ebp-D0h]
  int v1454; // [esp+460h] [ebp-CCh]
  float v1455; // [esp+464h] [ebp-C8h]
  float v1456; // [esp+468h] [ebp-C4h]
  int v1457; // [esp+46Ch] [ebp-C0h]
  float v1458; // [esp+470h] [ebp-BCh]
  float v1459; // [esp+474h] [ebp-B8h]
  int v1460; // [esp+478h] [ebp-B4h]
  float v1461; // [esp+47Ch] [ebp-B0h]
  float v1462; // [esp+480h] [ebp-ACh]
  int v1463; // [esp+484h] [ebp-A8h]
  float v1464; // [esp+488h] [ebp-A4h]
  float v1465; // [esp+48Ch] [ebp-A0h]
  int v1466; // [esp+490h] [ebp-9Ch]
  float v1467; // [esp+494h] [ebp-98h]
  float v1468; // [esp+498h] [ebp-94h]
  int v1469; // [esp+49Ch] [ebp-90h]
  float v1470; // [esp+4A0h] [ebp-8Ch]
  float v1471; // [esp+4A4h] [ebp-88h]
  int v1472; // [esp+4A8h] [ebp-84h]
  float v1473; // [esp+4ACh] [ebp-80h]
  float v1474; // [esp+4B0h] [ebp-7Ch]
  float v1475; // [esp+4B4h] [ebp-78h]
  float v1476; // [esp+4B8h] [ebp-74h]
  float v1477; // [esp+4BCh] [ebp-70h]
  int v1478; // [esp+4C0h] [ebp-6Ch]
  float v1479; // [esp+4C4h] [ebp-68h]
  float v1480; // [esp+4C8h] [ebp-64h]
  int v1481; // [esp+4CCh] [ebp-60h]
  float v1482; // [esp+4D0h] [ebp-5Ch]
  float v1483; // [esp+4D4h] [ebp-58h]
  int v1484; // [esp+4D8h] [ebp-54h]
  float v1485; // [esp+4DCh] [ebp-50h]
  float v1486; // [esp+4E0h] [ebp-4Ch]
  int v1487; // [esp+4E4h] [ebp-48h]
  float v1488; // [esp+4E8h] [ebp-44h]
  float v1489; // [esp+4ECh] [ebp-40h]
  int v1490; // [esp+4F0h] [ebp-3Ch]
  float v1491; // [esp+4F4h] [ebp-38h]
  float v1492; // [esp+4F8h] [ebp-34h]
  int v1493; // [esp+4FCh] [ebp-30h]
  float v1494; // [esp+500h] [ebp-2Ch]
  float v1495; // [esp+504h] [ebp-28h]
  int v1496; // [esp+508h] [ebp-24h]
  float v1497; // [esp+50Ch] [ebp-20h]
  float v1498; // [esp+510h] [ebp-1Ch]
  int v1499; // [esp+514h] [ebp-18h]
  float v1500; // [esp+518h] [ebp-14h]
  float v1501; // [esp+51Ch] [ebp-10h]
  int v1502; // [esp+520h] [ebp-Ch]
  float v1503; // [esp+524h] [ebp-8h]
  float v1504; // [esp+528h] [ebp-4h]

  v1 = this;
  this->char_c.x_delta = 0;
  this->char_c.y_delta = 106;
  if ( LOBYTE(this->char_c.controlling_type) == 2 && this->char_c.cards_added > 0 )
  {
    v2 = get_added_card_by_id((def_deque *)&this->char_c.cards_active, 0)->id;
    if ( v2 <= 8 )
    {
      switch ( byte_6559D4[v2] )
      {
        case 0:
          v3 = v1->char_c.field_6E8 - v1->char_c.meta.field_188;
          v22 = v1->char_c.field_6E8 == v1->char_c.meta.field_188;
          v1->char_c.field_6E4 = v3;
          if ( (v3 < 0) | (unsigned __int8)v22 && v1->char_c.meta.playing_seq >= 700 && v1->char_c.field_7F6 == 1 )
          {
            v4 = v1->char_c.meta.cEffectSprite.dir;
            if ( v4 == 1 && v1->char_c.meta.enemy->meta.cEffectSprite.x < (double)v1->char_c.meta.cEffectSprite.x || v4 == -1 && v1->char_c.meta.enemy->meta.cEffectSprite.x > (double)v1->char_c.meta.cEffectSprite.x )
              v1->char_c.meta.cEffectSprite.dir = -v4;
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 149);
            v1->char_c.field_7F6 = 0;
            v1->char_c.field_6F4 = 0;
            v5 = v1->char_c.meta.cEffectSprite.y + 100.0;
            v6 = v5;
            goto LABEL_23;
          }
          break;
        case 1:
          v7 = v1->char_c.field_6E8 - v1->char_c.meta.field_188;
          v22 = v1->char_c.field_6E8 == v1->char_c.meta.field_188;
          v1->char_c.field_6E4 = v7;
          if ( (v7 < 0) | (unsigned __int8)v22 && v1->char_c.meta.playing_seq >= 700 && v1->char_c.field_7F6 == 1 )
          {
            v8 = v1->char_c.meta.cEffectSprite.dir;
            if ( v8 == 1 && v1->char_c.meta.enemy->meta.cEffectSprite.x < (double)v1->char_c.meta.cEffectSprite.x || v8 == -1 && v1->char_c.meta.enemy->meta.cEffectSprite.x > (double)v1->char_c.meta.cEffectSprite.x )
              v1->char_c.meta.cEffectSprite.dir = -v8;
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 149);
            v1->char_c.field_7F6 = 0;
            v1->char_c.field_6F4 = 0;
            v9 = v1->char_c.meta.cEffectSprite.y + 100.0;
            v6 = v9;
LABEL_23:
            v10 = v6;
            scene_add_effect(&v1->char_c, 68, v1->char_c.meta.cEffectSprite.x, v10, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
          }
          break;
      }
    }
  }
  v11 = v1->field_894;
  if ( v11 <= 0 )
    v1->field_894 = 0;
  else
    v1->field_894 = v11 - 1;
  if ( v1->char_c.meta.hit_stop || v1->char_c.meta.enemy->time_stop )
    return;
  v12 = v1->char_c.meta.playing_seq;
  if ( v12 <= 300 )
  {
    if ( v12 == 300 )
    {
LABEL_578:
      char_c::sub10func(&v1->char_c);
      if ( !get_true(0) )
      {
        if ( v1->char_c.field_49A )
        {
          v185 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v1->char_c.meta.cEffectSprite.h_inerc = v185;
          if ( v185 < 0.0 )
          {
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            v1->char_c.field_49A = 0;
          }
        }
        if ( v1->char_c.meta.cEffectSprite.h_inerc > 0.0 )
        {
          v186 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v1->char_c.meta.cEffectSprite.h_inerc = v186;
          if ( v186 < 0.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
        }
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
        {
          scene_play_sfx(27);
          v1->char_c.field_49A = 0;
        }
      }
    }
    else
    {
      switch ( v12 )
      {
        case 0:
          char_c::sub10func(&v1->char_c);
          v13 = 0.0;
          if ( 0.0 == v1->char_c.meta.cEffectSprite.h_inerc )
            v1->char_c.field_49A = 0;
          if ( !v1->char_c.field_49A )
            goto LABEL_35;
          goto LABEL_36;
        case 1:
          char_c::sub10func(&v1->char_c);
          if ( v1->char_c.field_49A )
          {
            v16 = 0.0;
            if ( v1->char_c.meta.cEffectSprite.h_inerc > 0.0 )
            {
              v17 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v17;
              if ( v17 < 0.0 )
              {
                char_c::reset_forces(&v1->char_c);
                v16 = 0.0;
                v1->char_c.field_49A = 0;
              }
            }
            if ( v16 > v1->char_c.meta.cEffectSprite.h_inerc )
            {
              v18 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v18;
              if ( v18 > v16 )
              {
                char_c::reset_forces(&v1->char_c);
                v1->char_c.field_49A = 0;
              }
            }
          }
          else
          {
            char_c::reset_forces(&v1->char_c);
          }
          if ( viz_process(&v1->char_c) && !v1->char_c.meta.viz.get_frame )
            goto LABEL_52;
          return;
        case 2:
          char_c::sub10func(&v1->char_c);
          if ( v1->char_c.field_49A )
          {
            v13 = 0.0;
LABEL_36:
            if ( v13 < v1->char_c.meta.cEffectSprite.h_inerc )
            {
              v14 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v14;
              if ( v14 < v13 )
              {
                char_c::reset_forces(&v1->char_c);
                v13 = 0.0;
                v1->char_c.field_49A = 0;
              }
            }
            if ( v13 <= v1->char_c.meta.cEffectSprite.h_inerc || (v15 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5, v1->char_c.meta.cEffectSprite.h_inerc = v15, v15 <= v13) )
            {
LABEL_109:
              viz_process(&v1->char_c);
            }
            else
            {
              char_c::reset_forces(&v1->char_c);
              v1->char_c.field_49A = 0;
              viz_process(&v1->char_c);
            }
          }
          else
          {
LABEL_35:
            char_c::reset_forces(&v1->char_c);
            viz_process(&v1->char_c);
          }
          return;
        case 3:
          char_c::sub10func(&v1->char_c);
          if ( v1->char_c.field_49A )
          {
            v19 = 0.0;
            if ( v1->char_c.meta.cEffectSprite.h_inerc > 0.0 )
            {
              v20 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v20;
              if ( v20 < 0.0 )
              {
                char_c::reset_forces(&v1->char_c);
                v19 = 0.0;
                v1->char_c.field_49A = 0;
              }
            }
            if ( v19 > v1->char_c.meta.cEffectSprite.h_inerc )
            {
              v21 = v1->char_c.meta.cEffectSprite.h_inerc + 0.5;
              v1->char_c.meta.cEffectSprite.h_inerc = v21;
              if ( v21 > v19 )
              {
                char_c::reset_forces(&v1->char_c);
                v1->char_c.field_49A = 0;
              }
            }
          }
          else
          {
            char_c::reset_forces(&v1->char_c);
          }
          if ( viz_process(&v1->char_c) )
          {
            if ( !v1->char_c.meta.viz.get_frame )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          }
          return;
        case 4:
          char_c::sub10func(&v1->char_c);
          char_c::char_h_move(&v1->char_c, 4.5);
          viz_process(&v1->char_c);
          return;
        case 5:
          char_c::sub10func(&v1->char_c);
          char_c::char_h_move(&v1->char_c, -4.5);
          viz_process(&v1->char_c);
          return;
        case 6:
          v22 = v1->char_c.meta.viz.get_subseq == 0;
          v23 = v1->char_c.meta.viz.get_subseq < 0;
          if ( !v1->char_c.meta.viz.get_subseq )
          {
            char_c::sub10func(&v1->char_c);
            v22 = v1->char_c.meta.viz.get_subseq == 0;
            v23 = v1->char_c.meta.viz.get_subseq < 0;
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              if ( !v1->char_c.field_49A )
                char_c::reset_forces(&v1->char_c);
              v22 = v1->char_c.meta.viz.get_subseq == 0;
              v23 = v1->char_c.meta.viz.get_subseq < 0;
            }
          }
          if ( !((unsigned __int8)v23 | (unsigned __int8)v22) )
          {
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_108;
          }
          viz_process(&v1->char_c);
          if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
            return;
          v24 = 0.0;
          goto LABEL_104;
        case 7:
          v25 = v1->char_c.meta.viz.get_subseq == 0;
          v26 = v1->char_c.meta.viz.get_subseq < 0;
          if ( !v1->char_c.meta.viz.get_subseq )
          {
            char_c::sub10func(&v1->char_c);
            v25 = v1->char_c.meta.viz.get_subseq == 0;
            v26 = v1->char_c.meta.viz.get_subseq < 0;
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              if ( !v1->char_c.field_49A )
                char_c::reset_forces(&v1->char_c);
              v25 = v1->char_c.meta.viz.get_subseq == 0;
              v26 = v1->char_c.meta.viz.get_subseq < 0;
            }
          }
          if ( !((unsigned __int8)v26 | (unsigned __int8)v25) )
          {
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_108;
          }
          viz_process(&v1->char_c);
          if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
            return;
          v24 = 4.5;
          goto LABEL_104;
        case 8:
          v27 = v1->char_c.meta.viz.get_subseq == 0;
          v28 = v1->char_c.meta.viz.get_subseq < 0;
          if ( !v1->char_c.meta.viz.get_subseq )
          {
            char_c::sub10func(&v1->char_c);
            v27 = v1->char_c.meta.viz.get_subseq == 0;
            v28 = v1->char_c.meta.viz.get_subseq < 0;
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              if ( !v1->char_c.field_49A )
                char_c::reset_forces(&v1->char_c);
              v27 = v1->char_c.meta.viz.get_subseq == 0;
              v28 = v1->char_c.meta.viz.get_subseq < 0;
            }
          }
          if ( !((unsigned __int8)v28 | (unsigned __int8)v27) )
          {
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_108;
          }
          viz_process(&v1->char_c);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          {
            v24 = -4.5;
LABEL_104:
            move_val = v24;
            char_c::char_h_move(&v1->char_c, move_val);
            v1->char_c.meta.cEffectSprite.v_inerc = 15.0;
            v1->char_c.meta.cEffectSprite.v_force = 0.60000002;
            v1->char_c.field_49A = 0;
          }
          return;
        case 9:
          if ( 0.0 == v1->char_c.meta.cEffectSprite.v_force )
            v1->char_c.meta.cEffectSprite.v_force = 0.60000002;
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_108;
          goto LABEL_109;
        case 10:
          char_c::sub10func(&v1->char_c);
          char_c::reset_forces(&v1->char_c);
          if ( viz_process(&v1->char_c) )
          {
            v30 = v1->char_c.meta.vtbl->set_seq_func2;
            if ( v1->char_c.down_Y )
              v30(&v1->char_c.meta, 2);
            else
              v30(&v1->char_c.meta, 0);
          }
          return;
        case 197:
          v31 = v1->char_c.meta.viz.get_subseq;
          if ( v31 && v31 != 3 )
          {
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              char_c::reset_forces(&v1->char_c);
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
              return;
            }
          }
          else
          {
            char_c::sub10func(&v1->char_c);
          }
          if ( !viz_process(&v1->char_c) )
            goto LABEL_124;
          v32 = v1->char_c.meta.vtbl->set_seq_func2;
          if ( LOBYTE(v1->char_c.controlling_type) == 2 )
          {
            v32(&v1->char_c.meta, 700);
            v1->char_c.field_51C = 3;
            v1->char_c.field_520 = 3;
          }
          else
          {
            v32(&v1->char_c.meta, 0);
            if ( v1->char_c.down_Y > 0 )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 1);
LABEL_124:
            if ( v1->char_c.meta.viz.get_subseq == 3 && v1->char_c.meta.viz.get_frame == 1 && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x < (double)v1->char_c.meta.cEffectSprite.x )
                v1->char_c.meta.cEffectSprite.dir = -1;
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x > (double)v1->char_c.meta.cEffectSprite.x )
                v1->char_c.meta.cEffectSprite.dir = 1;
            }
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = 6.0;
              v1->char_c.meta.cEffectSprite.h_inerc = 12.5;
              v1->char_c.meta.cEffectSprite.v_force = 0.34999999;
            }
          }
          return;
        case 198:
          v33 = v1->char_c.meta.viz.get_subseq;
          if ( v33 && v33 != 3 )
          {
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              char_c::reset_forces(&v1->char_c);
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
              return;
            }
          }
          else
          {
            char_c::sub10func(&v1->char_c);
          }
          if ( !viz_process(&v1->char_c) )
            goto LABEL_146;
          v34 = v1->char_c.meta.vtbl->set_seq_func2;
          if ( LOBYTE(v1->char_c.controlling_type) == 2 )
          {
            v34(&v1->char_c.meta, 700);
            v1->char_c.field_51C = 3;
            v1->char_c.field_520 = 3;
          }
          else
          {
            v34(&v1->char_c.meta, 0);
            if ( v1->char_c.down_Y > 0 )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 1);
LABEL_146:
            if ( v1->char_c.meta.viz.get_subseq == 3 && v1->char_c.meta.viz.get_frame == 1 && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x < (double)v1->char_c.meta.cEffectSprite.x )
                v1->char_c.meta.cEffectSprite.dir = -1;
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x > (double)v1->char_c.meta.cEffectSprite.x )
                v1->char_c.meta.cEffectSprite.dir = 1;
            }
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = 6.0;
              v1->char_c.meta.cEffectSprite.h_inerc = -12.5;
              v1->char_c.meta.cEffectSprite.v_force = 0.34999999;
            }
          }
          return;
        case 199:
          char_c::sub10func(&v1->char_c);
          if ( !viz_process(&v1->char_c) )
            goto LABEL_163;
          v35 = v1->char_c.meta.vtbl->set_seq_func2;
          if ( LOBYTE(v1->char_c.controlling_type) == 2 )
          {
            v35(&v1->char_c.meta, 700);
            v1->char_c.field_51C = 3;
            v1->char_c.field_520 = 3;
          }
          else
          {
            v35(&v1->char_c.meta, 0);
            if ( v1->char_c.down_Y > 0 )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 1);
LABEL_163:
            if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.meta.viz.get_frame == 12 && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x < (double)v1->char_c.meta.cEffectSprite.x )
                v1->char_c.meta.cEffectSprite.dir = -1;
              if ( v1->char_c.meta.enemy->meta.cEffectSprite.x > (double)v1->char_c.meta.cEffectSprite.x )
                v1->char_c.meta.cEffectSprite.dir = 1;
            }
          }
          return;
        case 200:
          char_c::sub10func(&v1->char_c);
          v1->char_c.field_49A = 1;
          viz_process(&v1->char_c);
          if ( v1->char_c.meta.viz.get_subseq != 1 )
            goto LABEL_181;
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v36 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v37 = v1->char_c.meta.cEffectSprite.x + 50.0;
            v38 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
            v39 = v38;
            v40 = v37 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v1->char_c, 124, v40, v39, v36, 1);
          }
          if ( v1->char_c.down_Y >= 0 )
          {
            v43 = ++v1->char_c.field_7D0;
            if ( (v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir > 0 || v43 <= 9) && v43 <= 45 )
            {
LABEL_181:
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              {
                char_c::char_h_move(&v1->char_c, 10.0);
                v44 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v45 = v1->char_c.meta.cEffectSprite.y + 80.0;
                v46 = v45;
                v47 = (double)(80 * (char)v44) + v1->char_c.meta.cEffectSprite.x;
                scene_add_effect(&v1->char_c, 125, v47, v46, v44, 1);
                v48 = v1->char_c.meta.cEffectSprite.y + 80.0;
                scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v48, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                scene_play_sfx(31);
              }
            }
            else
            {
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 204);
            }
          }
          else
          {
            v41 = v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir;
            v22 = v41 == 0;
            v23 = v41 < 0;
            v42 = v1->char_c.meta.vtbl->set_seq_func2;
            if ( (unsigned __int8)v23 | (unsigned __int8)v22 )
              v42(&v1->char_c.meta, 211);
            else
              v42(&v1->char_c.meta, 212);
          }
          return;
        case 201:
          v49 = v1->char_c.meta.viz.get_subseq;
          if ( !v49 || v49 == 3 )
            char_c::sub10func(&v1->char_c);
          if ( v1->char_c.meta.viz.get_subseq == 3 )
          {
            v50 = v1->char_c.meta.cEffectSprite.h_inerc + 2.0;
            v1->char_c.meta.cEffectSprite.h_inerc = v50;
            if ( v50 > 0.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
          if ( !(unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v51 = v1->char_c.meta.cEffectSprite.x + 50.0;
            v52 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
            v53 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
            v54 = v53;
            v55 = v51 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v1->char_c, 124, v55, v54, v52, 1);
          }
          if ( v1->char_c.meta.viz.get_subseq < 3 )
          {
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_532;
          }
          if ( viz_process(&v1->char_c) )
            goto LABEL_534;
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          {
            char_c::char_h_move(&v1->char_c, -12.0);
            v1->char_c.meta.cEffectSprite.v_inerc = 4.0;
            v1->char_c.meta.cEffectSprite.v_force = 0.40000001;
            v56 = v1->char_c.meta.cEffectSprite.y + 80.0;
            scene_add_effect(&v1->char_c, 125, v1->char_c.meta.cEffectSprite.x, v56, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
            v57 = v1->char_c.meta.cEffectSprite.y + 80.0;
            scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v57, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
            scene_play_sfx(31);
          }
          return;
        case 202:
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_559;
          v58 = v1->char_c.meta.viz.get_subseq;
          if ( (v58 == 1 || v58 == 2) && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v59 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v60 = v1->char_c.meta.cEffectSprite.x + 50.0;
            v61 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
            v62 = v61;
            v63 = v60 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v1->char_c, 124, v63, v62, v59, 1);
          }
          viz_process(&v1->char_c);
          if ( !v1->char_c.meta.viz.get_elaps_frames )
          {
            if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::char_h_move(&v1->char_c, 11.0);
              v1->char_c.meta.cEffectSprite.v_inerc = -1.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
              v64 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v65 = v1->char_c.meta.cEffectSprite.y + 110.0;
              v66 = v65;
              v67 = (double)(80 * (char)v64) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 125, v67, v66, v64, 1);
              v68 = v1->char_c.meta.cEffectSprite.y + 110.0;
              scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v68, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              scene_play_sfx(31);
            }
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
              char_c::flip_with_force(&v1->char_c);
          }
          return;
        case 203:
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
          {
            char_c::reset_forces(&v1->char_c);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            v1->char_c.meta.viz.get_frame_time = 0;
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
          }
          else
          {
            if ( v1->char_c.meta.viz.get_subseq < 3 && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
            {
              v69 = v1->char_c.meta.cEffectSprite.x + 50.0;
              v70 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
              v71 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
              v72 = v71;
              v73 = v69 - (double)(MT_getnext() % 0x64u);
              scene_add_effect(&v1->char_c, 124, v73, v72, v70, 1);
            }
            viz_process(&v1->char_c);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::char_h_move(&v1->char_c, -11.0);
              v1->char_c.meta.cEffectSprite.v_inerc = 4.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
              v74 = v1->char_c.meta.cEffectSprite.y + 120.0;
              scene_add_effect(&v1->char_c, 125, v1->char_c.meta.cEffectSprite.x, v74, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
              v75 = v1->char_c.meta.cEffectSprite.y + 120.0;
              scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v75, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
              scene_play_sfx(31);
            }
            if ( v1->char_c.meta.viz.get_subseq == 2 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
              char_c::flip_with_force(&v1->char_c);
          }
          return;
        case 204:
          char_c::sub10func(&v1->char_c);
          v76 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v1->char_c.meta.cEffectSprite.h_inerc = v76;
          if ( v76 < 0.0 )
          {
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            v1->char_c.field_49A = 0;
          }
          if ( viz_process(&v1->char_c) )
          {
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            char_c::reset_forces(&v1->char_c);
            v1->char_c.field_49A = 0;
          }
          return;
        case 208:
          if ( !v1->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v1->char_c);
          v77 = char_c::char_on_ground_down(&v1->char_c);
          v78 = &v1->char_c;
          if ( v77 )
            goto LABEL_297;
          if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
            v1->char_c.field_522 = 2;
          if ( v1->char_c.meta.viz.get_subseq > 0 )
          {
            v79 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v1->char_c.meta.cEffectSprite.v_inerc = v79;
            if ( v79 < -20.0 )
              v1->char_c.meta.cEffectSprite.v_inerc = -20.0;
          }
          if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
          viz_process(&v1->char_c);
          if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
            return;
          v80 = 0.0;
          goto LABEL_293;
        case 209:
          if ( !v1->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v1->char_c);
          v81 = char_c::char_on_ground_down(&v1->char_c);
          v78 = &v1->char_c;
          if ( !v81 )
            goto LABEL_256;
          goto LABEL_297;
        case 210:
          if ( !v1->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v1->char_c);
          v83 = char_c::char_on_ground_down(&v1->char_c);
          v78 = &v1->char_c;
          if ( v83 )
            goto LABEL_297;
          if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
            v1->char_c.field_522 = 2;
          if ( v1->char_c.meta.viz.get_subseq > 0 )
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          goto LABEL_498;
        case 211:
          if ( !v1->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v1->char_c);
          v84 = char_c::char_on_ground_down(&v1->char_c);
          v78 = &v1->char_c;
          if ( v84 )
            goto LABEL_297;
          if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
            v1->char_c.field_522 = 2;
          if ( v1->char_c.meta.viz.get_subseq > 0 )
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
          viz_process(&v1->char_c);
          if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
            return;
          v80 = 2.0;
LABEL_293:
          v85 = v80;
          char_c::char_h_move(&v1->char_c, v85);
          v1->char_c.meta.cEffectSprite.v_inerc = 20.0;
          v86 = 0.64999998;
          goto LABEL_507;
        case 212:
          if ( !v1->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v1->char_c);
          v87 = char_c::char_on_ground_down(&v1->char_c);
          v78 = &v1->char_c;
          if ( v87 )
          {
LABEL_297:
            v1->char_c.meta.vtbl->set_seq_func2(&v78->meta, 10);
            goto LABEL_2184;
          }
LABEL_256:
          if ( (unsigned __int8)char_c::char_on_ground_flag(v78) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
            v1->char_c.field_522 = 2;
          if ( v1->char_c.meta.viz.get_subseq > 0 )
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
LABEL_261:
          if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
          viz_process(&v1->char_c);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          {
            v82 = 8.0;
            goto LABEL_506;
          }
          return;
        case 214:
          if ( viz_process(&v1->char_c) )
            goto LABEL_995;
          if ( !v1->char_c.meta.viz.get_elaps_frames )
          {
            if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              scene_play_sfx(31);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 6 )
              goto LABEL_995;
          }
          v88 = v1->char_c.down_Y;
          v89 = v1->char_c.meta.cEffectSprite.dir;
          v22 = v88 == 0;
          v90 = v88 < 0;
          v91 = v1->char_c.down_X;
          if ( (unsigned __int8)v90 | (unsigned __int8)v22 )
          {
            if ( v90 )
            {
              v93 = v89 * v91;
              if ( v93 <= 0 )
                v1->char_c.field_7D2 = v93 >= 0 ? 90 : 135;
              else
                v1->char_c.field_7D2 = 45;
            }
            else
            {
              v94 = v89 * v91;
              if ( v94 <= 0 )
              {
                if ( v94 < 0 )
                  v1->char_c.field_7D2 = 180;
              }
              else
              {
                v1->char_c.field_7D2 = 0;
              }
            }
          }
          else
          {
            v92 = v89 * v91;
            if ( v92 <= 0 )
              v1->char_c.field_7D2 = v92 >= 0 ? -90 : -135;
            else
              v1->char_c.field_7D2 = -45;
          }
          v95 = v1->char_c.meta.viz.get_subseq;
          if ( v95 == 5 || v95 == 6 )
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v96 = v1->char_c.meta.viz.get_subseq;
          v97 = 10;
          if ( v96 > 0 && v96 < 5 )
          {
            ++v1->char_c.field_7D6;
            v98 = v1->char_c.field_7D2 - (signed int)v1->char_c.dash_angle;
            v1->char_c.field_7D4 = v98;
            if ( v98 > 180 )
              v1->char_c.field_7D4 = v98 - 360;
            v99 = v1->char_c.field_7D4;
            if ( v99 < -180 )
              v1->char_c.field_7D4 = v99 + 360;
            v100 = v1->char_c.field_7D4 < 0;
            if ( v1->char_c.field_7D4 > 0 )
            {
              v101 = v1->char_c.dash_angle;
              if ( v1->char_c.weather_id )
                v102 = v101 + 0.5;
              else
                v102 = v101 + 1.5;
              v1->char_c.dash_angle = v102;
              v100 = v1->char_c.field_7D4 < 0;
            }
            if ( v100 )
            {
              if ( v1->char_c.weather_id )
                v103 = v1->char_c.dash_angle - 0.5;
              else
                v103 = v1->char_c.dash_angle - 1.5;
              v1->char_c.dash_angle = v103;
            }
            v1->char_c.meta.cEffectSprite.h_inerc = cosinus(v1->char_c.dash_angle) * v1->char_c.field_7DC;
            v1157 = sinus(v1->char_c.dash_angle) * v1->char_c.field_7DC;
            v1->char_c.meta.cEffectSprite.v_inerc = v1157;
            if ( v1->char_c.meta.cEffectSprite.y > 680.0 && v1157 > 0.0 )
              v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
            v104 = v1->char_c.field_7DC + 0.300000011920929;
            v1->char_c.field_7DC = v104;
            if ( v104 > 12.0 )
              v1->char_c.field_7DC = 12.0;
            if ( v1->char_c.weather_id )
              char_c::spell_energy_spend(&v1->char_c, 10, 1);
            else
              char_c::spell_energy_spend(&v1->char_c, 5, 1);
            v1->char_c.meta.cEffectSprite.angZ = -v1->char_c.dash_angle;
            v105 = 0.0;
            if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 )
              v1->char_c.meta.cEffectSprite.angZ = 180.0 - v1->char_c.dash_angle;
            if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 && v1->char_c.meta.viz.get_subseq == 1 )
            {
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
              v105 = 0.0;
            }
            if ( v105 <= v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 3 )
            {
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 1);
              v105 = 0.0;
            }
            if ( v105 > v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 2 )
            {
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 4);
              v105 = 0.0;
            }
            if ( v105 <= v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 4 )
              v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
            if ( v1->char_c.meta.viz.get_elaps_frames % 5 == 1 )
            {
              v106 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v107 = sinus(v1->char_c.dash_angle) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
              v108 = v107;
              v109 = cosinus(v1->char_c.dash_angle) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 125, v109, v108, v106, 1);
            }
            if ( (v110 = v1->char_c.down_D) == 0 && v1->char_c.field_7D6 > 10 || v1->char_c.spell_energy <= 0 )
            {
              if ( !v110 && v1->char_c.field_7D6 > 10 || v1->char_c.spell_energy <= 0 )
              {
                CEffectSprite::init(&v1->char_c.meta.cEffectSprite);
                v111 = v1->char_c.meta.viz.get_subseq;
                v112 = v111 == 1;
                goto LABEL_370;
              }
            }
          }
          if ( !char_c::char_on_ground_down(&v1->char_c) )
            return;
          v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
          v1->char_c.meta.cEffectSprite.v_force = 0.0;
          v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
          if ( v1->char_c.meta.viz.get_subseq < 5 )
            goto LABEL_389;
          goto LABEL_2271;
        case 215:
          char_c::sub10func(&v1->char_c);
          if ( v1->char_c.meta.cEffectSprite.h_inerc > 0.0 )
          {
            v121 = v1->char_c.meta.cEffectSprite.h_inerc - 0.75;
            v1->char_c.meta.cEffectSprite.h_inerc = v121;
            if ( v121 < 0.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
          if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 )
          {
            v122 = v1->char_c.meta.cEffectSprite.h_inerc + 0.75;
            v1->char_c.meta.cEffectSprite.h_inerc = v122;
            if ( v122 > 0.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          return;
        case 217:
          if ( viz_process(&v1->char_c) )
            goto LABEL_1607;
          if ( !v1->char_c.meta.viz.get_elaps_frames )
          {
            if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              scene_play_sfx(31);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 6 )
              goto LABEL_1607;
          }
          v123 = v1->char_c.meta.enemy;
          v124 = (v123->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
          v125 = v124;
          v126 = v123->meta.cEffectSprite.y + 100.0 - v1->char_c.meta.cEffectSprite.y;
          v1->char_c.field_7D2 = (signed int)atan2_deg(v126, v125);
          v127 = v1->char_c.meta.viz.get_subseq;
          if ( v127 == 5 || v127 == 6 )
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v128 = v1->char_c.meta.viz.get_subseq;
          if ( v128 <= 0 )
            goto LABEL_2673;
          if ( v128 >= 5 )
            goto LABEL_2673;
          ++v1->char_c.field_7D6;
          v129 = v1->char_c.field_7D2 - (signed int)v1->char_c.dash_angle;
          v1->char_c.field_7D4 = v129;
          if ( v129 > 180 )
            v1->char_c.field_7D4 = v129 - 360;
          v130 = v1->char_c.field_7D4;
          if ( v130 < -180 )
            v1->char_c.field_7D4 = v130 + 360;
          v131 = v1->char_c.field_7D4 < 0;
          if ( v1->char_c.field_7D4 > 0 )
          {
            v132 = v1->char_c.dash_angle;
            if ( v1->char_c.weather_id )
              v133 = v132 + 0.25;
            else
              v133 = v132 + 0.75;
            v1->char_c.dash_angle = v133;
            v131 = v1->char_c.field_7D4 < 0;
          }
          if ( v131 )
          {
            if ( v1->char_c.weather_id )
              v134 = v1->char_c.dash_angle - 0.25;
            else
              v134 = v1->char_c.dash_angle - 0.75;
            v1->char_c.dash_angle = v134;
          }
          v1->char_c.meta.cEffectSprite.h_inerc = cosinus(v1->char_c.dash_angle) * v1->char_c.field_7DC;
          v135 = sinus(v1->char_c.dash_angle) * v1->char_c.field_7DC;
          v136 = v135;
          v1->char_c.meta.cEffectSprite.v_inerc = v135;
          if ( v1->char_c.meta.cEffectSprite.y > 680.0 && v136 > 0.0 )
            v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
          v137 = v1->char_c.field_7DC + 0.300000011920929;
          v1->char_c.field_7DC = v137;
          if ( v137 > 12.0 )
            v1->char_c.field_7DC = 12.0;
          if ( v1->char_c.weather_id )
            char_c::spell_energy_spend(&v1->char_c, 15, 60);
          else
            char_c::spell_energy_spend(&v1->char_c, 10, 1);
          v1->char_c.meta.cEffectSprite.angZ = -v1->char_c.dash_angle;
          v138 = 0.0;
          if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 )
            v1->char_c.meta.cEffectSprite.angZ = 180.0 - v1->char_c.dash_angle;
          if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 && v1->char_c.meta.viz.get_subseq == 1 )
          {
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
            v138 = 0.0;
          }
          if ( v138 <= v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 3 )
          {
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 1);
            v138 = 0.0;
          }
          if ( v138 > v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 2 )
          {
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 4);
            v138 = 0.0;
          }
          if ( v138 <= v1->char_c.meta.cEffectSprite.h_inerc && v1->char_c.meta.viz.get_subseq == 4 )
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
          if ( v1->char_c.meta.viz.get_elaps_frames % 5 == 1 )
          {
            v139 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v140 = sinus(v1->char_c.dash_angle) * 100.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
            v141 = v140;
            v142 = cosinus(v1->char_c.dash_angle) * 100.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
            scene_add_effect(&v1->char_c, 125, v142, v141, v139, 1);
          }
          if ( ((v143 = v1->char_c.down_D) != 0 || v1->char_c.field_7D6 <= 20) && v1->char_c.spell_energy > 0 || (v143 || v1->char_c.field_7D6 <= 20) && v1->char_c.spell_energy > 0 )
          {
LABEL_2673:
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              v1->char_c.meta.cEffectSprite.v_force = 0.0;
              v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
              if ( v1->char_c.meta.viz.get_subseq < 5 )
              {
LABEL_389:
                CEffectSprite::init(&v1->char_c.meta.cEffectSprite);
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 215);
              }
              else
              {
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
                char_c::reset_forces(&v1->char_c);
              }
            }
          }
          else
          {
            CEffectSprite::init(&v1->char_c.meta.cEffectSprite);
            v111 = v1->char_c.meta.viz.get_subseq;
            v112 = v111 == 1;
LABEL_370:
            if ( v112 || v111 == 2 )
            {
              v113 = v1->char_c.meta.cEffectSprite.dir;
              v114 = v1->char_c.meta.cEffectSprite.x;
              if ( v113 == 1 )
              {
                if ( v1->char_c.meta.enemy->meta.cEffectSprite.x >= v114 )
                {
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
                }
                else
                {
                  v1->char_c.meta.cEffectSprite.dir = -1;
                  v115 = v1->char_c.meta.vtbl->set_subseq_func3;
                  v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                  v115(&v1->char_c.meta, 6);
                }
              }
              else if ( v1->char_c.meta.enemy->meta.cEffectSprite.x <= v114 )
              {
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
              }
              else
              {
                v1->char_c.meta.cEffectSprite.dir = -v113;
                v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 6);
              }
            }
            v116 = v1->char_c.meta.viz.get_subseq;
            if ( v116 == 3 || v116 == 4 )
            {
              v117 = v1->char_c.meta.cEffectSprite.dir;
              v118 = v1->char_c.meta.cEffectSprite.x;
              if ( v117 == 1 )
              {
                if ( v1->char_c.meta.enemy->meta.cEffectSprite.x >= v118 )
                {
                  v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 6);
                }
                else
                {
                  v1->char_c.meta.cEffectSprite.dir = -1;
                  v119 = v1->char_c.meta.vtbl->set_subseq_func3;
                  v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                  v119(&v1->char_c.meta, 5);
                }
              }
              else if ( v1->char_c.meta.enemy->meta.cEffectSprite.x <= v118 )
              {
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 6);
              }
              else
              {
                v1->char_c.meta.cEffectSprite.dir = -v117;
                v120 = v1->char_c.meta.vtbl->set_subseq_func3;
                v1->char_c.meta.cEffectSprite.h_inerc = -v1->char_c.meta.cEffectSprite.h_inerc;
                v120(&v1->char_c.meta, 5);
              }
            }
          }
          return;
        case 220:
          if ( !v1->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v1->char_c);
          if ( char_c::char_on_ground_down(&v1->char_c) )
          {
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
            goto LABEL_2184;
          }
          if ( v1->char_c.meta.viz.get_subseq > 0 )
          {
            v144 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v1->char_c.meta.cEffectSprite.v_inerc = v144;
            if ( v144 < -20.0 )
              v1->char_c.meta.cEffectSprite.v_inerc = -20.0;
          }
          if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
            v1->char_c.field_522 = 2;
          if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
          viz_process(&v1->char_c);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          {
            char_c::char_h_move(&v1->char_c, 0.0);
            v1->char_c.meta.cEffectSprite.v_inerc = 20.0;
            v1->char_c.meta.cEffectSprite.v_force = 0.64999998;
            v1->char_c.field_49A = 0;
            scene_add_effect(&v1->char_c, 63, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
          }
          return;
        case 221:
          if ( !v1->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v1->char_c);
          if ( char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_108;
          if ( v1->char_c.meta.viz.get_subseq > 0 )
          {
            v145 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v1->char_c.meta.cEffectSprite.v_inerc = v145;
            if ( v145 < -20.0 )
              v1->char_c.meta.cEffectSprite.v_inerc = -20.0;
          }
          if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
            v1->char_c.field_522 = 2;
          goto LABEL_261;
        case 222:
          if ( !v1->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v1->char_c);
          if ( char_c::char_on_ground_down(&v1->char_c) )
          {
LABEL_108:
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
            goto LABEL_2184;
          }
          if ( v1->char_c.meta.viz.get_subseq > 0 )
          {
            v146 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            v1->char_c.meta.cEffectSprite.v_inerc = v146;
            if ( v146 < -20.0 )
              v1->char_c.meta.cEffectSprite.v_inerc = -20.0;
          }
          if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) || v1->char_c.meta.cEffectSprite.v_inerc > 0.0 )
            v1->char_c.field_522 = 2;
LABEL_498:
          if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.cEffectSprite.v_inerc < 4.0 )
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
          viz_process(&v1->char_c);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          {
            v82 = -8.0;
LABEL_506:
            v147 = v82;
            char_c::char_h_move(&v1->char_c, v147);
            v1->char_c.meta.cEffectSprite.v_inerc = 16.0;
            v86 = 0.60000002;
LABEL_507:
            v1->char_c.meta.cEffectSprite.v_force = v86;
            v1->char_c.field_49A = 0;
            scene_add_effect(&v1->char_c, 63, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
          }
          break;
        case 223:
          char_c::sub10func(&v1->char_c);
          v1->char_c.field_49A = 1;
          viz_process(&v1->char_c);
          if ( v1->char_c.meta.viz.get_subseq != 1 )
            goto LABEL_2674;
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v148 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v149 = v1->char_c.meta.cEffectSprite.x + 50.0;
            v150 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
            v151 = v150;
            v152 = v149 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v1->char_c, 124, v152, v151, v148, 1);
          }
          if ( ((++v1->char_c.field_7D0, v153 = v1->char_c.field_7D0, v1->char_c.down_X * v1->char_c.meta.cEffectSprite.dir > 0) || v153 <= 15) && v153 <= 45 )
          {
LABEL_2674:
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::char_h_move(&v1->char_c, 5.0);
              v154 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v155 = v1->char_c.meta.cEffectSprite.y + 80.0;
              v156 = v155;
              v157 = (double)(80 * (char)v154) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 125, v157, v156, v154, 1);
              v158 = v1->char_c.meta.cEffectSprite.y + 80.0;
              scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v158, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              scene_play_sfx(31);
            }
          }
          else
          {
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 204);
          }
          return;
        case 224:
          v159 = v1->char_c.meta.viz.get_subseq;
          if ( !v159 || v159 == 3 )
            char_c::sub10func(&v1->char_c);
          if ( v1->char_c.meta.viz.get_subseq == 3 )
          {
            v160 = v1->char_c.meta.cEffectSprite.h_inerc + 2.0;
            v1->char_c.meta.cEffectSprite.h_inerc = v160;
            if ( v160 > 0.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
          if ( !(unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v161 = v1->char_c.meta.cEffectSprite.x + 50.0;
            v162 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
            v163 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
            v164 = v163;
            v165 = v161 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v1->char_c, 124, v165, v164, v162, 1);
          }
          if ( v1->char_c.meta.viz.get_subseq < 3 && (v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force, (unsigned __int8)char_c::char_on_ground_down(&v1->char_c)) )
          {
LABEL_532:
            v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
          }
          else if ( viz_process(&v1->char_c) )
          {
LABEL_534:
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
          else if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.field_7D0 )
          {
            v1->char_c.field_7D0 = 1;
            char_c::char_h_move(&v1->char_c, -10.0);
            v1->char_c.meta.cEffectSprite.v_inerc = 4.0;
            v1->char_c.meta.cEffectSprite.v_force = 0.40000001;
            v166 = v1->char_c.meta.cEffectSprite.y + 80.0;
            scene_add_effect(&v1->char_c, 125, v1->char_c.meta.cEffectSprite.x, v166, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
            v167 = v1->char_c.meta.cEffectSprite.y + 80.0;
            scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v167, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
            scene_play_sfx(31);
          }
          return;
        case 225:
          if ( v1->char_c.meta.viz.get_subseq > 0 )
          {
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
              goto LABEL_559;
          }
          if ( v1->char_c.meta.viz.get_subseq >= 2 && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v168 = v1->char_c.meta.cEffectSprite.x + 50.0;
            v169 = (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir;
            v170 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
            v171 = v170;
            v172 = v168 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v1->char_c, 124, v172, v171, v169, 1);
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
          if ( !v1->char_c.meta.viz.get_elaps_frames )
          {
            if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::char_h_move(&v1->char_c, -11.0);
              v1->char_c.meta.cEffectSprite.v_inerc = 4.0;
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
              v173 = v1->char_c.meta.cEffectSprite.y + 120.0;
              scene_add_effect(&v1->char_c, 125, v1->char_c.meta.cEffectSprite.x, v173, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
              v174 = v1->char_c.meta.cEffectSprite.y + 120.0;
              scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v174, (unsigned __int8)-v1->char_c.meta.cEffectSprite.dir, 1);
              scene_play_sfx(31);
            }
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
              char_c::flip_with_force(&v1->char_c);
          }
          return;
        case 226:
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
          {
LABEL_559:
            char_c::reset_forces(&v1->char_c);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
          }
          else
          {
            if ( v1->char_c.meta.viz.get_subseq == 1 && !(v1->char_c.meta.viz.get_elaps_frames % 5) )
            {
              v175 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v176 = v1->char_c.meta.cEffectSprite.x + 50.0;
              v177 = (double)(MT_getnext() % 0xC8u) + v1->char_c.meta.cEffectSprite.y;
              v178 = v177;
              v179 = v176 - (double)(MT_getnext() % 0x64u);
              scene_add_effect(&v1->char_c, 124, v179, v178, v175, 1);
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
            if ( !v1->char_c.meta.viz.get_elaps_frames )
            {
              if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              {
                char_c::char_h_move(&v1->char_c, 11.0);
                v1->char_c.meta.cEffectSprite.v_inerc = -1.0;
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
                v180 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v181 = v1->char_c.meta.cEffectSprite.y + 110.0;
                v182 = v181;
                v183 = (double)(80 * (char)v180) + v1->char_c.meta.cEffectSprite.x;
                scene_add_effect(&v1->char_c, 125, v183, v182, v180, 1);
                v184 = v1->char_c.meta.cEffectSprite.y + 110.0;
                scene_add_effect(&v1->char_c, 126, v1->char_c.meta.cEffectSprite.x, v184, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
                scene_play_sfx(31);
              }
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
                char_c::flip_with_force(&v1->char_c);
            }
          }
          return;
        default:
          goto LABEL_2646;
      }
    }
    return;
  }
  if ( v12 <= 500 )
  {
    if ( v12 == 500 )
    {
      char_c::sub10func(&v1->char_c);
      v1->char_c.meta.field_18C = 0;
      if ( viz_process(&v1->char_c) )
        v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
      if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
      if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 9 )
      {
        v1391 = 0.0;
        v1392 = 10.0;
        v1393 = 0.0;
        v501 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
        v502 = (double)(200 * (char)v501) + v1->char_c.meta.cEffectSprite.x;
        addbullet(&v1->char_c, 810, v502, v1->char_c.meta.cEffectSprite.y, v501, 1, (int)&v1391, 3);
LABEL_1319:
        char_c::spell_energy_spend(&v1->char_c, 200, 120);
        char_c::add_card_energy(&v1->char_c, 50);
        char_c::play_sfx(&v1->char_c, 10);
      }
    }
    else
    {
      switch ( v12 )
      {
        case 301:
          char_c::sub10func(&v1->char_c);
          if ( !get_true(0) )
            goto LABEL_2496;
          return;
        case 302:
          char_c::sub10func(&v1->char_c);
          if ( get_true(1) )
            return;
          if ( !v1->char_c.down_A )
            v1->char_c.not_charge_attack = 0;
          if ( viz_process(&v1->char_c) || !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            goto LABEL_2667;
          v187 = 0.0;
          if ( v1->char_c.meta.viz.get_subseq )
            goto LABEL_610;
          if ( v1->char_c.meta.viz.get_frame_time )
            goto LABEL_607;
          if ( v1->char_c.meta.viz.get_frame == 4 && v1->char_c.not_charge_attack )
          {
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v188 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v189 = v1->char_c.meta.cEffectSprite.y + 90.0;
            v190 = v189;
            v191 = (double)(246 * (char)v188) + v1->char_c.meta.cEffectSprite.x;
            scene_add_effect(&v1->char_c, 62, v191, v190, v188, 1);
          }
          else
          {
            if ( v1->char_c.meta.viz.get_frame == 1 )
            {
              scene_play_sfx(29);
              v1->char_c.meta.cEffectSprite.h_inerc = 20.0;
              v187 = 0.0;
            }
LABEL_607:
            if ( v1->char_c.meta.viz.get_frame >= 2 )
            {
              v192 = v1->char_c.meta.cEffectSprite.h_inerc - 5.0;
              v1->char_c.meta.cEffectSprite.h_inerc = v192;
              if ( v192 < v187 )
                v1->char_c.meta.cEffectSprite.h_inerc = v187;
            }
LABEL_610:
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 1 )
              {
                scene_play_sfx(29);
                v193 = 0;
                v1158 = 0;
                do
                {
                  *(float *)&a7 = (double)(unsigned int)get_MT_range(40) + (double)v1158 + 30.0;
                  v1332 = 10.0;
                  v1333 = 2.0;
                  v194 = *(float *)&a7;
                  if ( *(float *)&a7 < 0.0 || v194 > 180.0 )
                  {
                    y = -1;
                    x = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    a1 = v1->char_c.meta.cEffectSprite.y;
                    v197 = (double)(228 * (char)x) + v1->char_c.meta.cEffectSprite.x;
                    v196 = v197;
                  }
                  else
                  {
                    y = 1;
                    x = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                    a1 = v1->char_c.meta.cEffectSprite.y;
                    v195 = (double)(228 * (char)x) + v1->char_c.meta.cEffectSprite.x;
                    v196 = v195;
                  }
                  a3 = v196;
                  addbullet(&v1->char_c, 817, a3, a1, x, y, (int)&a7, 3);
                  v193 += 45;
                  v1158 = v193;
                }
                while ( v193 < 360 );
                v187 = 0.0;
              }
              v199 = v1->char_c.meta.cEffectSprite.h_inerc - 5.0;
              v1->char_c.meta.cEffectSprite.h_inerc = v199;
              if ( v199 < v187 )
                v1->char_c.meta.cEffectSprite.h_inerc = v187;
            }
          }
          return;
        case 303:
          char_c::sub10func(&v1->char_c);
          if ( !get_true(0) )
          {
            if ( v1->char_c.field_49A > 0 )
            {
              v200 = v1->char_c.meta.cEffectSprite.h_inerc - 0.6000000238418579;
              v1->char_c.meta.cEffectSprite.h_inerc = v200;
              if ( v200 < 0.0 )
              {
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
                v1->char_c.field_49A = 0;
              }
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 2);
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
              scene_play_sfx(27);
          }
          return;
        case 304:
          char_c::sub10func(&v1->char_c);
          if ( get_true(1) )
            return;
          if ( !v1->char_c.down_A )
            v1->char_c.not_charge_attack = 0;
          if ( v1->char_c.field_49A )
          {
            v201 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v201;
            if ( v201 < 0.0 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v1->char_c.field_49A = 0;
            }
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            goto LABEL_1064;
          if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 3 )
            goto LABEL_649;
          if ( v1->char_c.not_charge_attack )
          {
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v202 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v203 = v1->char_c.meta.cEffectSprite.y + 40.0;
            v204 = v203;
            v205 = v1->char_c.meta.cEffectSprite.x - (double)(45 * (char)v202);
            scene_add_effect(&v1->char_c, 62, v205, v204, v202, 1);
          }
          else
          {
            scene_play_sfx(29);
LABEL_649:
            if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 1 )
            {
              scene_play_sfx(29);
              v206 = 0;
              v1159 = 0;
              do
              {
                *(float *)&v1313 = (double)(unsigned int)get_MT_range(40) + (double)v1159 + 30.0;
                v1314 = 10.0;
                v1315 = 2.0;
                v207 = *(float *)&v1313;
                if ( *(float *)&v1313 < 0.0 || v207 > 180.0 )
                {
                  ya = -1;
                  xa = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a1a = v1->char_c.meta.cEffectSprite.y;
                  v210 = (double)(228 * (char)xa) + v1->char_c.meta.cEffectSprite.x;
                  v209 = v210;
                }
                else
                {
                  ya = 1;
                  xa = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a1a = v1->char_c.meta.cEffectSprite.y;
                  v208 = (double)(228 * (char)xa) + v1->char_c.meta.cEffectSprite.x;
                  v209 = v208;
                }
                v211 = v209;
                addbullet(&v1->char_c, 817, v211, a1a, xa, ya, (int)&v1313, 3);
                v206 += 45;
                v1159 = v206;
              }
              while ( v206 < 360 );
            }
          }
          return;
        case 305:
          char_c::sub10func(&v1->char_c);
          if ( !get_true(1) )
          {
            if ( v1->char_c.meta.viz.get_frame >= 2 )
            {
              v212 = v1->char_c.meta.cEffectSprite.h_inerc - 0.75;
              v1->char_c.meta.cEffectSprite.h_inerc = v212;
              if ( v212 < 0.0 )
                v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
              scene_play_sfx(28);
          }
          return;
        case 306:
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v213 = char_c::char_on_ground_down(&v1->char_c);
          v214 = v1;
          if ( v213 )
            goto LABEL_696;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
            scene_play_sfx(28);
          return;
        case 307:
          if ( !v1->char_c.meta.viz.get_subseq )
          {
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
              v215 = v1->char_c.meta.vtbl;
              if ( v1->char_c.meta.field_190 )
                v215->set_seq_func2(&v1->char_c.meta, 10);
              else
                v215->set_subseq_func3(&v1->char_c.meta, 1);
              goto LABEL_2184;
            }
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
          if ( !v1->char_c.meta.viz.get_subseq )
            goto LABEL_988;
          return;
        case 308:
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v216 = char_c::char_on_ground_down(&v1->char_c);
          v214 = v1;
          if ( v216 )
            goto LABEL_696;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
          if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
            return;
          v217 = v1->char_c.meta.viz.get_frame == 5;
          goto LABEL_990;
        case 309:
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          v218 = char_c::char_on_ground_down(&v1->char_c);
          v214 = v1;
          if ( v218 )
          {
LABEL_696:
            v1->char_c.meta.vtbl->set_seq_func2(&v214->char_c.meta, 10);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            v1->char_c.meta.cEffectSprite.v_force = 0.0;
            v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
            return;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
          if ( v1->char_c.meta.viz.get_subseq )
            return;
          if ( v1->char_c.meta.viz.get_frame_time )
            return;
          if ( v1->char_c.meta.viz.get_frame == 5 )
          {
            if ( v1->char_c.meta.cEffectSprite.v_inerc < 8.0 )
              v1->char_c.meta.cEffectSprite.v_inerc = 8.0;
            v1->char_c.meta.cEffectSprite.v_force = 0.5;
          }
          if ( v1->char_c.meta.viz.get_frame_time )
            return;
          v217 = v1->char_c.meta.viz.get_frame == 6;
          goto LABEL_990;
        case 310:
          if ( !v1->char_c.meta.viz.get_subseq )
          {
            v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v1->char_c) )
            {
              v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
              v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
              ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              return;
            }
          }
          if ( v1->char_c.meta.viz.get_subseq == 1 )
          {
            char_c::sub10func(&v1->char_c);
            v219 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v219;
            if ( v219 < 0.0 )
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            goto LABEL_1607;
          if ( !v1->char_c.meta.viz.get_subseq )
          {
LABEL_988:
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              v217 = v1->char_c.meta.viz.get_frame == 4;
LABEL_990:
              if ( v217 )
                scene_play_sfx(29);
            }
          }
          return;
        case 320:
          char_c::sub10func(&v1->char_c);
          if ( get_true(0) )
            return;
          if ( v1->char_c.meta.viz.get_frame >= 7 )
            v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
          if ( v1->char_c.meta.cEffectSprite.h_inerc < 0.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( v1->char_c.meta.viz.get_frame_time )
            return;
          if ( v1->char_c.meta.viz.get_frame == 3 )
            v1->char_c.meta.cEffectSprite.h_inerc = 10.0;
          if ( v1->char_c.meta.viz.get_frame_time )
            return;
          if ( v1->char_c.meta.viz.get_frame == 5 )
          {
            scene_play_sfx(28);
            v1->char_c.field_49A = 0;
          }
          goto LABEL_2511;
        case 321:
          char_c::sub10func(&v1->char_c);
          if ( get_true(1) )
            return;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            goto LABEL_1064;
          if ( !v1->char_c.meta.viz.get_subseq )
            goto LABEL_988;
          return;
        case 322:
          char_c::sub10func(&v1->char_c);
          if ( get_true(1) )
            return;
          if ( v1->char_c.field_49A )
          {
            v220 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v1->char_c.meta.cEffectSprite.h_inerc = v220;
            if ( v220 < 0.0 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v1->char_c.field_49A = 0;
            }
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            goto LABEL_1064;
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 8 )
            {
              scene_play_sfx(29);
              v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
            }
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 10 )
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
          return;
        case 330:
          goto LABEL_578;
        case 400:
          char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_B )
            v1->char_c.not_charge_attack = 0;
          if ( v1->char_c.field_7D0 == 1 )
          {
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              if ( !(v1->char_c.field_7D2 % 2) && v1->char_c.field_7D4 < 6 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                *(float *)&v1427 = v1->char_c.field_7E4 - (double)v1->char_c.field_7D4 * 5.0 + 15.0;
                v1428 = (double)v1->char_c.field_7D4 + 10.0;
                v1429 = (double)(v1->char_c.field_7D4 % 3);
                v221 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v222 = v1->char_c.meta.cEffectSprite.y + 128.0;
                v223 = v222;
                v224 = (double)(113 * (char)v221) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v224, v223, v221, 1, (int)&v1427, 3);
                ++v1->char_c.field_7D4;
              }
              ++v1->char_c.field_7D2;
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.field_7D2 % 2) && v1->char_c.field_7D4 < 10 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                *(float *)&v1355 = v1->char_c.field_7E4 - (double)v1->char_c.field_7D4 * 5.0 + 25.0;
                v1356 = (double)v1->char_c.field_7D4 + 10.0;
                v1357 = (double)(v1->char_c.field_7D4 % 3);
                v225 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v226 = v1->char_c.meta.cEffectSprite.y + 128.0;
                v227 = v226;
                v228 = (double)(113 * (char)v225) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v228, v227, v225, 1, (int)&v1355, 3);
                ++v1->char_c.field_7D4;
              }
              ++v1->char_c.field_7D2;
            }
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            goto LABEL_2667;
          if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
            goto LABEL_790;
          if ( v1->char_c.meta.viz.get_frame == 3 && v1->char_c.not_charge_attack == 1 )
          {
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v229 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v230 = v1->char_c.meta.cEffectSprite.y + 155.0;
            v231 = v230;
            v232 = v1->char_c.meta.cEffectSprite.x - (double)(35 * (char)v229);
            scene_add_effect(&v1->char_c, 62, v232, v231, v229, 1);
            return;
          }
          if ( v1->char_c.meta.viz.get_frame == 5 )
          {
            char_c::add_card_energy(&v1->char_c, 30);
            v233 = v1->char_c.meta.enemy;
            v234 = (v233->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
            v235 = v234;
            v236 = v233->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
            v237 = -atan2_deg(v236, v235);
            v1->char_c.field_7E4 = v237;
            if ( v237 < -30.0 )
              v1->char_c.field_7E4 = -30.0;
            if ( v1->char_c.field_7E4 > 20.0 )
              v1->char_c.field_7E4 = 20.0;
            v1->char_c.field_7D0 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 45);
          }
LABEL_790:
          if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 3 )
            return;
          char_c::add_card_energy(&v1->char_c, 30);
          v238 = v1->char_c.meta.enemy;
          v239 = (v238->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
          v240 = v239;
          v241 = v238->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
          v242 = -atan2_deg(v241, v240);
          v1->char_c.field_7E4 = v242;
          if ( v242 < -30.0 )
            v1->char_c.field_7E4 = -30.0;
          v243 = 20.0;
          goto LABEL_853;
        case 401:
          char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_B )
            v1->char_c.not_charge_attack = 0;
          if ( v1->char_c.field_7D0 == 1 )
          {
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              if ( !(v1->char_c.field_7D2 % 2) && v1->char_c.field_7D4 < 6 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                *(float *)&v1493 = v1->char_c.field_7E4 - (double)v1->char_c.field_7D4 * 5.0 + 15.0;
                v1494 = (double)v1->char_c.field_7D4 + 10.0;
                v1495 = (double)(v1->char_c.field_7D4 % 3);
                v244 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v245 = v1->char_c.meta.cEffectSprite.y + 128.0;
                v246 = v245;
                v247 = (double)(113 * (char)v244) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v247, v246, v244, 1, (int)&v1493, 3);
                ++v1->char_c.field_7D4;
              }
              ++v1->char_c.field_7D2;
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.field_7D2 % 2) && v1->char_c.field_7D4 < 10 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                *(float *)&v1361 = v1->char_c.field_7E4 - (double)v1->char_c.field_7D4 * 5.0 + 25.0;
                v1362 = (double)v1->char_c.field_7D4 + 10.0;
                v1363 = (double)(v1->char_c.field_7D4 % 3);
                v248 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v249 = v1->char_c.meta.cEffectSprite.y + 128.0;
                v250 = v249;
                v251 = (double)(113 * (char)v248) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v251, v250, v248, 1, (int)&v1361, 3);
                ++v1->char_c.field_7D4;
              }
              ++v1->char_c.field_7D2;
            }
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            goto LABEL_2667;
          if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
            goto LABEL_826;
          if ( v1->char_c.meta.viz.get_frame == 3 && v1->char_c.not_charge_attack == 1 )
          {
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v252 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v253 = v1->char_c.meta.cEffectSprite.y + 155.0;
            v254 = v253;
            v255 = v1->char_c.meta.cEffectSprite.x - (double)(35 * (char)v252);
            scene_add_effect(&v1->char_c, 62, v255, v254, v252, 1);
            return;
          }
          if ( v1->char_c.meta.viz.get_frame == 5 )
          {
            char_c::add_card_energy(&v1->char_c, 30);
            v256 = v1->char_c.meta.enemy;
            v257 = (v256->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
            v258 = v257;
            v259 = v256->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
            v260 = -atan2_deg(v259, v258);
            v1->char_c.field_7E4 = v260;
            if ( v260 < -40.0 )
              v1->char_c.field_7E4 = -40.0;
            if ( v1->char_c.field_7E4 > -20.0 )
              v1->char_c.field_7E4 = -20.0;
            v1->char_c.field_7D0 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 45);
          }
LABEL_826:
          if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 3 )
            return;
          char_c::add_card_energy(&v1->char_c, 30);
          v261 = v1->char_c.meta.enemy;
          v262 = (v261->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
          v263 = v262;
          v264 = v261->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
          v265 = -atan2_deg(v264, v263);
          v1->char_c.field_7E4 = v265;
          if ( v265 < -40.0 )
            v1->char_c.field_7E4 = -40.0;
          v243 = -20.0;
          goto LABEL_853;
        case 402:
          char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_B )
            v1->char_c.not_charge_attack = 0;
          if ( v1->char_c.field_7D0 == 1 && !v1->char_c.meta.viz.get_subseq )
          {
            if ( !(v1->char_c.field_7D2 % 2) && v1->char_c.field_7D4 < 8 )
            {
              char_c::play_sfx(&v1->char_c, 0);
              *(float *)&v1433 = (double)v1->char_c.field_7D4 * 5.0 + v1->char_c.field_7E4 - 20.0;
              v1434 = (double)v1->char_c.field_7D4 + 10.0;
              v1435 = (double)(v1->char_c.field_7D4 % 3);
              v266 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v267 = v1->char_c.meta.cEffectSprite.y + 160.0;
              v268 = v267;
              v269 = v1->char_c.meta.cEffectSprite.x - (double)(5 * (char)v266);
              addbullet(&v1->char_c, 800, v269, v268, v266, 1, (int)&v1433, 3);
              ++v1->char_c.field_7D4;
            }
            ++v1->char_c.field_7D2;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 2);
          if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 )
          {
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
            {
              char_c::add_card_energy(&v1->char_c, 30);
              v270 = v1->char_c.meta.enemy;
              v271 = (v270->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
              v272 = v271;
              v273 = v270->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
              v274 = -atan2_deg(v273, v272);
              v1->char_c.field_7E4 = v274;
              if ( v274 < -80.0 )
                v1->char_c.field_7E4 = -80.0;
              v243 = -45.0;
LABEL_853:
              if ( v243 < v1->char_c.field_7E4 )
                v1->char_c.field_7E4 = v243;
              v1->char_c.field_7D0 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 45);
            }
          }
          else
          {
LABEL_52:
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 2);
          }
          return;
        case 404:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
            char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_B )
            v1->char_c.not_charge_attack = 0;
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( v1->char_c.meta.viz.get_subseq < 2 && char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_1139;
          v275 = 10;
          if ( v1->char_c.field_7D0 == 1 )
          {
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              if ( !(v1->char_c.field_7D2 % 2) && v1->char_c.field_7D4 < 6 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                *(float *)&v1367 = (double)v1->char_c.field_7D4 * 5.0 + v1->char_c.field_7E4 - 15.0;
                v1368 = (double)v1->char_c.field_7D4 + 10.0;
                v1369 = (double)(v1->char_c.field_7D4 % 3);
                v276 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v277 = v1->char_c.meta.cEffectSprite.y + 162.0;
                v278 = v277;
                v279 = (double)(105 * (char)v276) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v279, v278, v276, 1, (int)&v1367, 3);
                ++v1->char_c.field_7D4;
              }
              ++v1->char_c.field_7D2;
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.field_7D2 % 2) && v1->char_c.field_7D4 < 10 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                *(float *)&v1469 = (double)v1->char_c.field_7D4 * 5.0 + v1->char_c.field_7E4 - 25.0;
                v1470 = (double)v1->char_c.field_7D4 + 10.0;
                v1471 = (double)(v1->char_c.field_7D4 % 3);
                v280 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v281 = v1->char_c.meta.cEffectSprite.y + 162.0;
                v282 = v281;
                v283 = (double)(105 * (char)v280) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v283, v282, v280, 1, (int)&v1469, 3);
                ++v1->char_c.field_7D4;
              }
              ++v1->char_c.field_7D2;
            }
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
            goto LABEL_995;
          if ( v1->char_c.meta.viz.get_subseq )
            goto LABEL_896;
          if ( v1->char_c.meta.viz.get_frame_time )
            goto LABEL_893;
          if ( v1->char_c.meta.viz.get_frame == 3 && v1->char_c.not_charge_attack == 1 )
          {
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v284 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v285 = v1->char_c.meta.cEffectSprite.y + 145.0;
            v286 = v285;
            v287 = v1->char_c.meta.cEffectSprite.x - (double)(20 * (char)v284);
            scene_add_effect(&v1->char_c, 62, v287, v286, v284, 1);
            return;
          }
          if ( v1->char_c.meta.viz.get_frame == 8 )
          {
            char_c::add_card_energy(&v1->char_c, 30);
            v288 = v1->char_c.meta.enemy;
            v289 = (v288->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
            v290 = v289;
            v291 = v288->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
            v292 = -atan2_deg(v291, v290);
            v1->char_c.field_7E4 = v292;
            if ( v292 < -30.0 )
              v1->char_c.field_7E4 = -30.0;
            if ( v1->char_c.field_7E4 > 20.0 )
              v1->char_c.field_7E4 = 20.0;
            v1->char_c.field_7D0 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 45);
          }
LABEL_893:
          if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 12 )
            v1->char_c.meta.cEffectSprite.v_force = 0.5;
LABEL_896:
          if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time )
            return;
          if ( v1->char_c.meta.viz.get_frame == 6 )
          {
            char_c::add_card_energy(&v1->char_c, 30);
            v293 = v1->char_c.meta.enemy;
            v294 = (v293->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
            v295 = v294;
            v296 = v293->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
            v297 = -atan2_deg(v296, v295);
            v1->char_c.field_7E4 = v297;
            if ( v297 < -30.0 )
              v1->char_c.field_7E4 = -30.0;
            if ( v1->char_c.field_7E4 > 20.0 )
              v1->char_c.field_7E4 = 20.0;
            v1->char_c.field_7D0 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 45);
          }
          goto LABEL_1701;
        case 405:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
            char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_B )
            v1->char_c.not_charge_attack = 0;
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( v1->char_c.meta.viz.get_subseq < 2 && char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_1139;
          if ( v1->char_c.field_7D0 == 1 && !v1->char_c.meta.viz.get_subseq )
          {
            if ( !(v1->char_c.field_7D2 % 2) && v1->char_c.field_7D4 < 10 )
            {
              char_c::play_sfx(&v1->char_c, 0);
              *(float *)&v1373 = v1->char_c.field_7E4 - (double)v1->char_c.field_7D4 + 6.0;
              v1374 = (double)v1->char_c.field_7D4 * 1.5 + 9.0;
              v1375 = (double)(v1->char_c.field_7D4 % 3);
              v298 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v299 = v1->char_c.meta.cEffectSprite.y + 160.0;
              v300 = v299;
              v301 = (double)(100 * (char)v298) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 800, v301, v300, v298, 1, (int)&v1373, 3);
              ++v1->char_c.field_7D4;
            }
            ++v1->char_c.field_7D2;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
            goto LABEL_995;
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 6 )
            {
              char_c::add_card_energy(&v1->char_c, 30);
              v1->char_c.field_7E4 = 0.0;
              v1->char_c.field_7D0 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 45);
            }
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 12 )
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
          }
          return;
        case 406:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
            char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_B )
            v1->char_c.not_charge_attack = 0;
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( v1->char_c.meta.viz.get_subseq < 2 && char_c::char_on_ground_down(&v1->char_c) )
          {
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
            goto LABEL_2182;
          }
          if ( v1->char_c.field_7D0 == 1 )
          {
            if ( !v1->char_c.meta.viz.get_subseq )
            {
              if ( !(v1->char_c.field_7D2 % 2) && v1->char_c.field_7D4 < 6 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                *(float *)&v1439 = (double)v1->char_c.field_7D4 * 5.0 + v1->char_c.field_7E4 - 15.0;
                v1440 = (double)v1->char_c.field_7D4 + 10.0;
                v1441 = (double)(v1->char_c.field_7D4 % 3);
                v302 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v303 = v1->char_c.meta.cEffectSprite.y + 110.0;
                v304 = v303;
                v305 = (double)(75 * (char)v302) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v305, v304, v302, 1, (int)&v1439, 3);
                ++v1->char_c.field_7D4;
              }
              ++v1->char_c.field_7D2;
            }
            if ( v1->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v1->char_c.field_7D2 % 2) && v1->char_c.field_7D4 < 10 )
              {
                char_c::play_sfx(&v1->char_c, 0);
                *(float *)&v1379 = (double)v1->char_c.field_7D4 * 5.0 + v1->char_c.field_7E4 - 25.0;
                v1380 = (double)v1->char_c.field_7D4 + 10.0;
                v1381 = (double)(v1->char_c.field_7D4 % 3);
                v306 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v307 = v1->char_c.meta.cEffectSprite.y + 110.0;
                v308 = v307;
                v309 = (double)(75 * (char)v306) + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 800, v309, v308, v306, 1, (int)&v1379, 3);
                ++v1->char_c.field_7D4;
              }
              ++v1->char_c.field_7D2;
            }
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
            goto LABEL_995;
          if ( v1->char_c.meta.viz.get_subseq )
            goto LABEL_973;
          if ( v1->char_c.meta.viz.get_frame_time )
            goto LABEL_970;
          if ( v1->char_c.meta.viz.get_frame != 3 || v1->char_c.not_charge_attack != 1 )
          {
            if ( v1->char_c.meta.viz.get_frame == 6 )
            {
              char_c::add_card_energy(&v1->char_c, 30);
              v1->char_c.field_7D0 = 1;
              v314 = v1->char_c.meta.enemy;
              v315 = (v314->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
              v316 = v315;
              v317 = v314->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
              v318 = -atan2_deg(v317, v316);
              v1->char_c.field_7E4 = v318;
              if ( v318 < 20.0 )
                v1->char_c.field_7E4 = 20.0;
              if ( v1->char_c.field_7E4 > 60.0 )
                v1->char_c.field_7E4 = 60.0;
              v1->char_c.field_7D0 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 45);
            }
LABEL_970:
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 9 )
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
LABEL_973:
            if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 3 )
              {
                char_c::add_card_energy(&v1->char_c, 30);
                v1->char_c.field_7D0 = 1;
                v319 = v1->char_c.meta.enemy;
                v320 = (v319->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
                v321 = v320;
                v322 = v319->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
                v323 = -atan2_deg(v322, v321);
                v1->char_c.field_7E4 = v323;
                if ( v323 < 20.0 )
                  v1->char_c.field_7E4 = 20.0;
                if ( v1->char_c.field_7E4 > 50.0 )
                  v1->char_c.field_7E4 = 50.0;
                v1->char_c.field_7D0 = 1;
                char_c::spell_energy_spend(&v1->char_c, 200, 45);
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
            }
          }
          else
          {
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v310 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v311 = v1->char_c.meta.cEffectSprite.y + 190.0;
            v312 = v311;
            v313 = v1->char_c.meta.cEffectSprite.x - (double)(20 * (char)v310);
            scene_add_effect(&v1->char_c, 62, v313, v312, v310, 1);
          }
          return;
        case 408:
          char_c::sub10func(&v1->char_c);
          v324 = v1->char_c.meta.cEffectSprite.h_inerc - 0.3499999940395355;
          v1->char_c.meta.cEffectSprite.h_inerc = v324;
          if ( v324 < 0.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 2);
          goto LABEL_988;
        case 409:
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
          {
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 10);
            char_c::reset_forces(&v1->char_c);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            return;
          }
          if ( viz_process(&v1->char_c) )
            goto LABEL_995;
          return;
        case 410:
          char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_C )
            v1->char_c.not_charge_attack = 0;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
          {
            char_c::add_card_energy(&v1->char_c, 50);
            char_c::spell_energy_spend(&v1->char_c, 200, 60);
            char_c::play_sfx(&v1->char_c, 1);
            v325 = v1->char_c.meta.enemy;
            v326 = (v325->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
            v327 = v326;
            v328 = v325->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
            v329 = -atan2_deg(v328, v327);
            v1->char_c.field_7E4 = v329;
            if ( v329 < -40.0 )
              v1->char_c.field_7E4 = -40.0;
            if ( v1->char_c.field_7E4 > 40.0 )
              v1->char_c.field_7E4 = 40.0;
            v1487 = SLODWORD(v1->char_c.field_7E4);
            v1488 = 3.0;
            v1489 = 0.0;
            v330 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v331 = v1->char_c.meta.cEffectSprite.y + 184.0;
            v332 = v331;
            v333 = (double)(87 * (char)v330) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 801, v333, v332, v330, 1, (int)&v1487, 3);
          }
          return;
        case 411:
          char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_C )
            v1->char_c.not_charge_attack = 0;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
            goto LABEL_1033;
          if ( v1->char_c.meta.viz.get_frame == 5 && v1->char_c.not_charge_attack )
          {
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v334 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v335 = v1->char_c.meta.cEffectSprite.y + 164.0;
            v336 = v335;
            v337 = v1->char_c.meta.cEffectSprite.x - (double)(80 * (char)v334);
            scene_add_effect(&v1->char_c, 62, v337, v336, v334, 1);
          }
          else
          {
            if ( v1->char_c.meta.viz.get_frame == 8 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 2);
              v1->char_c.meta.field_190 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 60);
              v338 = v1->char_c.meta.enemy;
              v339 = (v338->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
              v340 = v339;
              v341 = v338->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
              v342 = -atan2_deg(v341, v340);
              v1->char_c.field_7E4 = v342;
              if ( v342 < -10.0 )
                v1->char_c.field_7E4 = -10.0;
              if ( v1->char_c.field_7E4 > 10.0 )
                v1->char_c.field_7E4 = 10.0;
              *(float *)&v1256 = v1->char_c.field_7E4 + 10.0;
              v1257 = 20.0;
              v1258 = 2.0;
              v343 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v344 = -*(float *)&v1256;
              v345 = sinus(v344) * 150.0 + v1->char_c.meta.cEffectSprite.y + 120.0;
              v346 = v345;
              v347 = -*(float *)&v1256;
              v348 = (cosinus(v347) * 150.0 + 35.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v348, v346, v343, 1, (int)&v1256, 3);
              *(float *)&v1256 = v1->char_c.field_7E4 - 10.0;
              v349 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v350 = -*(float *)&v1256;
              v351 = sinus(v350) * 150.0 + v1->char_c.meta.cEffectSprite.y + 120.0;
              v352 = v351;
              v353 = -*(float *)&v1256;
              v354 = (cosinus(v353) * 150.0 + 35.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v354, v352, v349, 1, (int)&v1256, 3);
            }
LABEL_1033:
            if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 8 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 2);
              v1->char_c.meta.field_190 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 60);
              v355 = v1->char_c.meta.enemy;
              v356 = (v355->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
              v357 = v356;
              v358 = v355->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
              v359 = -atan2_deg(v358, v357);
              v1->char_c.field_7E4 = v359;
              if ( v359 < -10.0 )
                v1->char_c.field_7E4 = -10.0;
              if ( v1->char_c.field_7E4 > 10.0 )
                v1->char_c.field_7E4 = 10.0;
              *(float *)&v1222 = v1->char_c.field_7E4 + 10.0;
              v1223 = 20.0;
              v1224 = 2.0;
              v360 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v361 = -*(float *)&v1222;
              v362 = sinus(v361) * 150.0 + v1->char_c.meta.cEffectSprite.y + 120.0;
              v363 = v362;
              v364 = -*(float *)&v1222;
              v365 = (cosinus(v364) * 150.0 + 35.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v365, v363, v360, 1, (int)&v1222, 3);
              *(float *)&v1222 = v1->char_c.field_7E4 - 10.0;
              v366 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v367 = -*(float *)&v1222;
              v368 = sinus(v367) * 150.0 + v1->char_c.meta.cEffectSprite.y + 120.0;
              v369 = v368;
              v370 = -*(float *)&v1222;
              v371 = (cosinus(v370) * 150.0 + 35.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v371, v369, v366, 1, (int)&v1222, 3);
              *(float *)&v1222 = v1->char_c.field_7E4 + 7.0;
              v1223 = 24.0;
              v1224 = 2.0;
              v372 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v373 = -*(float *)&v1222;
              v374 = sinus(v373) * 150.0 + v1->char_c.meta.cEffectSprite.y + 120.0;
              v375 = v374;
              v376 = -*(float *)&v1222;
              v377 = (cosinus(v376) * 150.0 + 35.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v377, v375, v372, 1, (int)&v1222, 3);
              *(float *)&v1222 = v1->char_c.field_7E4 - 7.0;
              v378 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v379 = -*(float *)&v1222;
              v380 = sinus(v379) * 150.0 + v1->char_c.meta.cEffectSprite.y + 120.0;
              v381 = v380;
              v382 = -*(float *)&v1222;
              v383 = (cosinus(v382) * 150.0 + 35.0) * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v383, v381, v378, 1, (int)&v1222, 3);
            }
          }
          return;
        case 412:
          char_c::sub10func(&v1->char_c);
          if ( !v1->char_c.down_C )
            v1->char_c.not_charge_attack = 0;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( v1->char_c.meta.viz.get_subseq != 1 )
            goto LABEL_1056;
          v384 = v1->char_c.not_charge_attack;
          if ( !v384 && v1->char_c.meta.viz.get_elaps_frames >= 2 )
            goto LABEL_2433;
          v385 = v1->char_c.meta.viz.get_elaps_frames;
          if ( v385 >= 120 )
            goto LABEL_2433;
          if ( v384 )
          {
            if ( v385 >= 10 )
            {
              v1->char_c.meta.field_190 = 1;
              if ( v1->char_c.down_A || v1->char_c.down_B )
              {
                v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
                char_c::add_card_energy(&v1->char_c, 25);
                char_c::spell_energy_spend(&v1->char_c, 200, 60);
                return;
              }
            }
          }
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 3) )
          {
            *(float *)&v1385 = (double)(unsigned int)get_MT_range(360);
            v1386 = (double)(unsigned int)get_MT_range(150) + 250.0;
            v1387 = 0.0;
            addbullet(&v1->char_c, 822, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1385, 3);
          }
LABEL_1056:
          if ( v1->char_c.meta.viz.get_subseq == 2 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
          {
            v1->char_c.meta.field_190 = 1;
            char_c::add_card_energy(&v1->char_c, 50);
            scene_play_sfx(55);
            v1->field_894 = 10;
            char_c::spell_energy_spend(&v1->char_c, 200, 60);
            char_c::play_sfx(&v1->char_c, 15);
            *(float *)&v1247 = 0.0;
            v1248 = 88.0;
            v1249 = 4.0;
            v386 = (double)(84 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 801, v386, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1247, 3);
            *(float *)&v1247 = (double)(unsigned int)get_MT_range(80) - 40.0;
            v1248 = (double)(unsigned int)get_MT_range(80) - 40.0;
            v387 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v388 = (double)(84 * (char)v387) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 801, v388, v1->char_c.meta.cEffectSprite.y, v387, 1, (int)&v1247, 3);
            *(float *)&v1247 = (double)(unsigned int)get_MT_range(80) - 40.0;
            v1248 = (double)(unsigned int)get_MT_range(80) - 40.0;
            v389 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v390 = (double)(84 * (char)v389) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 801, v390, v1->char_c.meta.cEffectSprite.y, v389, 1, (int)&v1247, 3);
          }
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
            goto LABEL_1064;
          return;
        case 414:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
            char_c::sub10func(&v1->char_c);
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( v1->char_c.meta.viz.get_subseq < 2 && char_c::char_on_ground_down(&v1->char_c) )
          {
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
            goto LABEL_2183;
          }
          if ( !v1->char_c.down_C )
            v1->char_c.not_charge_attack = 0;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
            goto LABEL_1607;
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 5 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::spell_energy_spend(&v1->char_c, 200, 60);
              char_c::play_sfx(&v1->char_c, 1);
              v391 = v1->char_c.meta.enemy;
              v392 = (v391->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
              v393 = v392;
              v394 = v391->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
              v395 = -atan2_deg(v394, v393);
              v1->char_c.field_7E4 = v395;
              if ( v395 < -40.0 )
                v1->char_c.field_7E4 = -40.0;
              if ( v1->char_c.field_7E4 > 40.0 )
                v1->char_c.field_7E4 = 40.0;
              v1445 = SLODWORD(v1->char_c.field_7E4);
              v1446 = 3.0;
              v1447 = 0.0;
              v396 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v397 = v1->char_c.meta.cEffectSprite.y + 175.0;
              v398 = v397;
              v399 = (double)(65 * (char)v396) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v399, v398, v396, 1, (int)&v1445, 3);
            }
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 10 )
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
          }
          return;
        case 415:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
            char_c::sub10func(&v1->char_c);
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( v1->char_c.meta.viz.get_subseq < 2 && char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_1139;
          if ( !v1->char_c.down_C )
            v1->char_c.not_charge_attack = 0;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames )
          {
            if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
          }
          if ( v1->char_c.meta.viz.get_subseq )
            goto LABEL_1124;
          if ( v1->char_c.meta.viz.get_frame_time )
            goto LABEL_1121;
          if ( v1->char_c.meta.viz.get_frame == 4 && v1->char_c.not_charge_attack )
          {
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v400 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v401 = v1->char_c.meta.cEffectSprite.y + 180.0;
            v402 = v401;
            v403 = v1->char_c.meta.cEffectSprite.x - (double)(62 * (char)v400);
            scene_add_effect(&v1->char_c, 62, v403, v402, v400, 1);
          }
          else
          {
            if ( v1->char_c.meta.viz.get_frame == 7 )
            {
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 2);
              v1->char_c.meta.field_190 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 60);
              v404 = v1->char_c.meta.enemy;
              v405 = (v404->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
              v406 = v405;
              v407 = v404->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
              v408 = -atan2_deg(v407, v406);
              v1->char_c.field_7E4 = v408;
              if ( v408 < -10.0 )
                v1->char_c.field_7E4 = -10.0;
              if ( v1->char_c.field_7E4 > 10.0 )
                v1->char_c.field_7E4 = 10.0;
              *(float *)&v1250 = v1->char_c.field_7E4 + 15.0;
              v1251 = 20.0;
              v1252 = 2.0;
              v409 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v410 = -*(float *)&v1250;
              v411 = sinus(v410) * 150.0 + v1->char_c.meta.cEffectSprite.y + 140.0;
              v412 = v411;
              v413 = -*(float *)&v1250;
              v414 = cosinus(v413) * 150.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v414, v412, v409, 1, (int)&v1250, 3);
              *(float *)&v1250 = v1->char_c.field_7E4 - 15.0;
              v415 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v416 = -*(float *)&v1250;
              v417 = sinus(v416) * 150.0 + v1->char_c.meta.cEffectSprite.y + 140.0;
              v418 = v417;
              v419 = -*(float *)&v1250;
              v420 = cosinus(v419) * 150.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v420, v418, v415, 1, (int)&v1250, 3);
            }
LABEL_1121:
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 12 )
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
LABEL_1124:
            if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 7 )
              {
                char_c::add_card_energy(&v1->char_c, 50);
                char_c::play_sfx(&v1->char_c, 2);
                v1->char_c.meta.field_190 = 1;
                char_c::spell_energy_spend(&v1->char_c, 200, 60);
                v421 = v1->char_c.meta.enemy;
                v422 = (v421->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
                v423 = v422;
                v424 = v421->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
                v425 = -atan2_deg(v424, v423);
                v1->char_c.field_7E4 = v425;
                if ( v425 < -10.0 )
                  v1->char_c.field_7E4 = -10.0;
                if ( v1->char_c.field_7E4 > 10.0 )
                  v1->char_c.field_7E4 = 10.0;
                *(float *)&v1216 = v1->char_c.field_7E4 + 15.0;
                v1217 = 20.0;
                v1218 = 2.0;
                v426 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v427 = -*(float *)&v1216;
                v428 = sinus(v427) * 150.0 + v1->char_c.meta.cEffectSprite.y + 140.0;
                v429 = v428;
                v430 = -*(float *)&v1216;
                v431 = cosinus(v430) * 150.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 801, v431, v429, v426, 1, (int)&v1216, 3);
                *(float *)&v1216 = v1->char_c.field_7E4 - 15.0;
                v432 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v433 = -*(float *)&v1216;
                v434 = sinus(v433) * 150.0 + v1->char_c.meta.cEffectSprite.y + 140.0;
                v435 = v434;
                v436 = -*(float *)&v1216;
                v437 = cosinus(v436) * 150.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 801, v437, v435, v432, 1, (int)&v1216, 3);
                *(float *)&v1216 = v1->char_c.field_7E4 + 10.0;
                v1217 = 24.0;
                v1218 = 2.0;
                v438 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v439 = -*(float *)&v1216;
                v440 = sinus(v439) * 150.0 + v1->char_c.meta.cEffectSprite.y + 140.0;
                v441 = v440;
                v442 = -*(float *)&v1216;
                v443 = cosinus(v442) * 150.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 801, v443, v441, v438, 1, (int)&v1216, 3);
                *(float *)&v1216 = v1->char_c.field_7E4 - 10.0;
                v444 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v445 = -*(float *)&v1216;
                v446 = sinus(v445) * 150.0 + v1->char_c.meta.cEffectSprite.y + 140.0;
                v447 = v446;
                v448 = -*(float *)&v1216;
                v449 = cosinus(v448) * 150.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
                addbullet(&v1->char_c, 801, v449, v447, v444, 1, (int)&v1216, 3);
              }
              if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 12 )
                v1->char_c.meta.cEffectSprite.v_force = 0.5;
            }
          }
          return;
        case 416:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
            char_c::sub10func(&v1->char_c);
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( v1->char_c.meta.viz.get_subseq < 2 && char_c::char_on_ground_down(&v1->char_c) )
          {
LABEL_1139:
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
            goto LABEL_2183;
          }
          if ( !v1->char_c.down_C )
            v1->char_c.not_charge_attack = 0;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
          if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
            goto LABEL_1165;
          if ( v1->char_c.meta.viz.get_frame == 4 && v1->char_c.not_charge_attack )
          {
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v450 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v451 = v1->char_c.meta.cEffectSprite.y + 224.0;
            v452 = v451;
            v453 = v1->char_c.meta.cEffectSprite.x - (double)(104 * (char)v450);
            scene_add_effect(&v1->char_c, 62, v453, v452, v450, 1);
          }
          else
          {
            if ( v1->char_c.meta.viz.get_frame == 9 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = -5.0;
              v1->char_c.meta.cEffectSprite.v_inerc = 7.5;
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 2);
              v1->char_c.meta.field_190 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 60);
              v454 = v1->char_c.meta.enemy;
              v455 = (v454->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
              v456 = v455;
              v457 = v454->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
              v458 = -atan2_deg(v457, v456);
              v1->char_c.field_7E4 = v458;
              if ( v458 < 40.0 )
                v1->char_c.field_7E4 = 40.0;
              if ( v1->char_c.field_7E4 > 70.0 )
                v1->char_c.field_7E4 = 70.0;
              *(float *)&v1253 = v1->char_c.field_7E4 + 10.0;
              v1254 = 20.0;
              v1255 = 2.0;
              v459 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v460 = -*(float *)&v1253;
              v461 = sinus(v460) * 150.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
              v462 = v461;
              v463 = -*(float *)&v1253;
              v464 = cosinus(v463) * 150.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v464, v462, v459, 1, (int)&v1253, 3);
              *(float *)&v1253 = v1->char_c.field_7E4 - 10.0;
              v465 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v466 = -*(float *)&v1253;
              v467 = sinus(v466) * 150.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
              v468 = v467;
              v469 = -*(float *)&v1253;
              v470 = cosinus(v469) * 150.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v470, v468, v465, 1, (int)&v1253, 3);
            }
LABEL_1165:
            if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 9 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = -5.0;
              v1->char_c.meta.cEffectSprite.v_inerc = 7.5;
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
              char_c::add_card_energy(&v1->char_c, 50);
              char_c::play_sfx(&v1->char_c, 2);
              v1->char_c.meta.field_190 = 1;
              char_c::spell_energy_spend(&v1->char_c, 200, 60);
              v471 = v1->char_c.meta.enemy;
              v472 = (v471->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
              v473 = v472;
              v474 = v471->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
              v475 = -atan2_deg(v474, v473);
              v1->char_c.field_7E4 = v475;
              if ( v475 < 40.0 )
                v1->char_c.field_7E4 = 40.0;
              if ( v1->char_c.field_7E4 > 70.0 )
                v1->char_c.field_7E4 = 70.0;
              *(float *)&v1228 = v1->char_c.field_7E4 + 10.0;
              v1229 = 20.0;
              v1230 = 2.0;
              v476 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v477 = -*(float *)&v1228;
              v478 = sinus(v477) * 150.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
              v479 = v478;
              v480 = -*(float *)&v1228;
              v481 = cosinus(v480) * 150.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v481, v479, v476, 1, (int)&v1228, 3);
              *(float *)&v1228 = v1->char_c.field_7E4 - 10.0;
              v482 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v483 = -*(float *)&v1228;
              v484 = sinus(v483) * 150.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
              v485 = v484;
              v486 = -*(float *)&v1228;
              v487 = cosinus(v486) * 150.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v487, v485, v482, 1, (int)&v1228, 3);
              *(float *)&v1228 = v1->char_c.field_7E4 + 5.0;
              v1229 = 16.0;
              v1230 = 2.0;
              v488 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v489 = -*(float *)&v1228;
              v490 = sinus(v489) * 150.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
              v491 = v490;
              v492 = -*(float *)&v1228;
              v493 = cosinus(v492) * 150.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v493, v491, v488, 1, (int)&v1228, 3);
              *(float *)&v1228 = v1->char_c.field_7E4 - 5.0;
              v494 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v495 = -*(float *)&v1228;
              v496 = sinus(v495) * 150.0 + v1->char_c.meta.cEffectSprite.y + 100.0;
              v497 = v496;
              v498 = -*(float *)&v1228;
              v499 = cosinus(v498) * 150.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 801, v499, v497, v494, 1, (int)&v1228, 3);
            }
          }
          break;
        case 418:
          char_c::sub10func(&v1->char_c);
          v500 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v1->char_c.meta.cEffectSprite.h_inerc = v500;
          if ( v500 < 0.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 8 )
          {
            scene_play_sfx(29);
            v1->char_c.field_49A = 0;
          }
          return;
        default:
          goto LABEL_2646;
      }
    }
    return;
  }
  if ( v12 > 770 )
  {
    v1079 = v12 - 795;
    if ( v1079 )
    {
      v1080 = v1079 - 2;
      if ( !v1080 )
      {
        if ( v1->char_c.meta.viz.get_subseq > 2 || (v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force, !char_c::char_on_ground_down(&v1->char_c)) )
        {
          if ( v1->char_c.meta.viz.get_subseq == 3 )
          {
            v1083 = v1->char_c.meta.cEffectSprite.h_inerc - 0.75;
            v1->char_c.meta.cEffectSprite.h_inerc = v1083;
            if ( v1083 >= 0.0 )
            {
              v1084 = 480.0;
            }
            else
            {
              v1084 = 480.0;
              v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v1->char_c.meta.cEffectSprite.x = *(float *)&v1084;
            }
            if ( v1->char_c.meta.cEffectSprite.x > 480.0 )
              v1->char_c.meta.cEffectSprite.x = v1084;
          }
          if ( viz_process(&v1->char_c) )
LABEL_2667:
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          return;
        }
LABEL_2649:
        v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
        scene_play_sfx(30);
        v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
        v1->char_c.meta.cEffectSprite.v_inerc = 0.0;
        return;
      }
      if ( v1080 != 1 )
      {
LABEL_2646:
        char_c::func10(&v1->char_c);
        return;
      }
      if ( v1->char_c.meta.viz.get_subseq <= 2 )
      {
        v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v1->char_c) )
          goto LABEL_2649;
      }
      if ( v1->char_c.meta.viz.get_subseq == 3 )
      {
        v1081 = v1->char_c.meta.cEffectSprite.h_inerc - 0.75;
        v1->char_c.meta.cEffectSprite.h_inerc = v1081;
        if ( v1081 >= 0.0 )
        {
          v1082 = 800.0;
        }
        else
        {
          v1082 = 800.0;
          v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          v1->char_c.meta.cEffectSprite.x = *(float *)&v1082;
        }
        if ( v1->char_c.meta.cEffectSprite.x < 800.0 )
          v1->char_c.meta.cEffectSprite.x = v1082;
      }
    }
    else if ( !v1->char_c.meta.viz.get_subseq )
    {
      v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - 0.300000011920929;
      if ( char_c::char_on_ground_down(&v1->char_c) )
      {
        v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 1);
        scene_play_sfx(30);
        v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
        char_c::reset_forces(&v1->char_c);
        return;
      }
    }
    if ( viz_process(&v1->char_c) )
      v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
    return;
  }
  if ( v12 == 770 )
  {
    if ( viz_process(&v1->char_c) )
      v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
    if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 8 )
    {
      v1->char_c.field_6F5 = 1;
      sub_4685C0(&v1->char_c, -1);
      char_c::sub_46AB50(&v1->char_c, 2, -1);
      char_c::health_to_max(&v1->char_c);
      *(_DWORD *)&v1->char_c.field_81E = 1;
      v1->char_c.field_81A = 0;
      v1->char_c.field_81C = 0;
      v1->char_c.field_818 = 0;
      scene_play_sfx(23);
    }
  }
  else
  {
    switch ( v12 )
    {
      case 501:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 0;
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 10 )
          return;
        v1475 = 0.0;
        v1476 = 20.0;
        v1477 = 0.0;
        v503 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
        v504 = (double)(200 * (char)v503) + v1->char_c.meta.cEffectSprite.x;
        addbullet(&v1->char_c, 810, v504, v1->char_c.meta.cEffectSprite.y, v503, 1, (int)&v1475, 3);
        goto LABEL_1319;
      case 505:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 4;
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          goto LABEL_1064;
        if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 7 )
          return;
        *(float *)&v1238 = 0.0;
        v1239 = 0.0;
        v1240 = 0.0;
        addbullet(&v1->char_c, 811, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1238, 3);
        if ( v1->char_c.skills_1[4] >= 4 )
        {
          v1240 = 3.0;
          addbullet(&v1->char_c, 811, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1238, 3);
        }
        v505 = 0;
        v1160 = 0;
        do
        {
          *(float *)&v1238 = (double)(unsigned int)get_MT_range(30) + (double)v1160 + 30.0;
          v1239 = 10.0;
          v1240 = 2.0;
          v506 = *(float *)&v1238;
          if ( *(float *)&v1238 < 0.0 || v506 > 180.0 )
          {
            yb = -1;
            xb = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            a1b = v1->char_c.meta.cEffectSprite.y;
            v509 = (double)(120 * (char)xb) + v1->char_c.meta.cEffectSprite.x;
            v508 = v509;
          }
          else
          {
            yb = 1;
            xb = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            a1b = v1->char_c.meta.cEffectSprite.y;
            v507 = (double)(120 * (char)xb) + v1->char_c.meta.cEffectSprite.x;
            v508 = v507;
          }
          v510 = v508;
          addbullet(&v1->char_c, 817, v510, a1b, xb, yb, (int)&v1238, 3);
          v505 += 60;
          v1160 = v505;
        }
        while ( v505 < 360 );
        goto LABEL_1240;
      case 506:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 4;
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          goto LABEL_1064;
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 10 )
        {
          *(float *)&v1241 = 0.0;
          v1242 = 0.0;
          v1243 = 2.0;
          v511 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v512 = v1->char_c.meta.cEffectSprite.y - 75.0;
          v513 = v512;
          v514 = v1->char_c.meta.cEffectSprite.x - (double)(175 * (char)v511);
          addbullet(&v1->char_c, 811, v514, v513, v511, 1, (int)&v1241, 3);
          if ( v1->char_c.skills_1[4] >= 4 )
          {
            v1243 = 5.0;
            v515 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v516 = v1->char_c.meta.cEffectSprite.y - 75.0;
            v517 = v516;
            v518 = v1->char_c.meta.cEffectSprite.x - (double)(175 * (char)v515);
            addbullet(&v1->char_c, 811, v518, v517, v515, 1, (int)&v1241, 3);
          }
          v519 = 0;
          v1161 = 0;
          do
          {
            *(float *)&v1241 = (double)(unsigned int)get_MT_range(30) + (double)v1161 + 30.0;
            v1242 = 10.0;
            v1243 = 2.0;
            v520 = *(float *)&v1241;
            if ( *(float *)&v1241 < 0.0 || v520 > 180.0 )
            {
              yc = -1;
              xc = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              a1c = v1->char_c.meta.cEffectSprite.y;
              v523 = (double)(120 * (char)xc) + v1->char_c.meta.cEffectSprite.x;
              v522 = v523;
            }
            else
            {
              yc = 1;
              xc = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              a1c = v1->char_c.meta.cEffectSprite.y;
              v521 = (double)(120 * (char)xc) + v1->char_c.meta.cEffectSprite.x;
              v522 = v521;
            }
            v524 = v522;
            addbullet(&v1->char_c, 817, v524, a1c, xc, yc, (int)&v1241, 3);
            v519 += 60;
            v1161 = v519;
          }
          while ( v519 < 360 );
LABEL_1240:
          char_c::spell_energy_spend(&v1->char_c, 200, 120);
          char_c::add_card_energy(&v1->char_c, 50);
          char_c::play_sfx(&v1->char_c, 16);
        }
        return;
      case 507:
        if ( v1->char_c.meta.viz.get_subseq == 2 )
          char_c::sub10func(&v1->char_c);
        if ( v1->char_c.meta.viz.get_subseq <= 1 )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_1267;
        }
        v1->char_c.meta.field_18C = 4;
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
          goto LABEL_1607;
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
        {
          if ( v1->char_c.meta.viz.get_frame == 5 )
          {
            *(float *)&v1289 = 0.0;
            v1290 = 0.0;
            v1291 = 0.0;
            v525 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v526 = v1->char_c.meta.cEffectSprite.y - 20.0;
            v527 = v526;
            v528 = v1->char_c.meta.cEffectSprite.x - (double)(105 * (char)v525);
            addbullet(&v1->char_c, 811, v528, v527, v525, 1, (int)&v1289, 3);
            if ( v1->char_c.skills_1[4] >= 4 )
            {
              v1291 = 3.0;
              v529 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v530 = v1->char_c.meta.cEffectSprite.y - 20.0;
              v531 = v530;
              v532 = v1->char_c.meta.cEffectSprite.x - (double)(105 * (char)v529);
              addbullet(&v1->char_c, 811, v532, v531, v529, 1, (int)&v1289, 3);
            }
            char_c::spell_energy_spend(&v1->char_c, 200, 120);
            char_c::add_card_energy(&v1->char_c, 50);
            char_c::play_sfx(&v1->char_c, 16);
          }
          if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 12 )
            v1->char_c.meta.cEffectSprite.v_force = 0.25;
        }
        return;
      case 508:
        if ( v1->char_c.meta.viz.get_subseq == 2 )
          char_c::sub10func(&v1->char_c);
        if ( v1->char_c.meta.viz.get_subseq <= 1 )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
          {
LABEL_1267:
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 2);
            goto LABEL_2184;
          }
        }
        v1->char_c.meta.field_18C = 4;
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && (!v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 || !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2) )
          goto LABEL_1607;
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
        {
          if ( v1->char_c.meta.viz.get_frame == 5 )
          {
            *(float *)&v1337 = 0.0;
            v1338 = 0.0;
            v1339 = 1.0;
            v533 = v1->char_c.meta.cEffectSprite.x - (double)(75 * v1->char_c.meta.cEffectSprite.dir);
            addbullet(&v1->char_c, 811, v533, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1337, 3);
            if ( v1->char_c.skills_1[4] >= 4 )
            {
              v1339 = 4.0;
              v534 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v535 = v1->char_c.meta.cEffectSprite.x - (double)(75 * (char)v534);
              addbullet(&v1->char_c, 811, v535, v1->char_c.meta.cEffectSprite.y, v534, 1, (int)&v1337, 3);
            }
            char_c::spell_energy_spend(&v1->char_c, 200, 120);
            char_c::add_card_energy(&v1->char_c, 50);
            char_c::play_sfx(&v1->char_c, 16);
          }
          if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 11 )
            v1->char_c.meta.cEffectSprite.v_force = 0.25;
        }
        return;
      case 510:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 8;
        if ( viz_process(&v1->char_c) )
          v536 = ((int (__thiscall *)(char_komachi *, _DWORD))v1->char_c.meta.vtbl->set_seq_func2)(v1, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          v536 = ((int (__thiscall *)(char_komachi *, _DWORD))v1->char_c.meta.vtbl->set_seq_func2)(v1, 0);
        if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 9 )
          return;
        v1295 = 0.0;
        v1296 = 10.0;
        v1297 = 0.0;
        if ( v1->char_c.skills_1[8] >= 4 )
          v1297 = 2.0;
        LOBYTE(v536) = v1->char_c.meta.cEffectSprite.dir;
        v537 = v1->char_c.meta.cEffectSprite.y;
        if ( (_BYTE)v536 == 1 )
        {
          v1151 = (int *)&v1295;
          xd = -1;
          a1d = v537;
          v1162 = flt_885644 + 100.0;
        }
        else
        {
          LOBYTE(v536) = -(char)v536;
          v1151 = (int *)&v1295;
          xd = v536;
          a1d = v537;
          v1162 = flt_88563C - 100.0;
        }
        v538 = v1162;
        goto LABEL_1318;
      case 511:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 8;
        if ( viz_process(&v1->char_c) )
          v539 = ((int (__thiscall *)(char_komachi *, _DWORD))v1->char_c.meta.vtbl->set_seq_func2)(v1, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          v539 = ((int (__thiscall *)(char_komachi *, _DWORD))v1->char_c.meta.vtbl->set_seq_func2)(v1, 0);
        if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 9 )
          return;
        *(float *)&v1319 = 0.0;
        v1320 = 10.0;
        v1321 = 0.0;
        if ( v1->char_c.skills_1[8] >= 4 )
          v1321 = 2.0;
        LOBYTE(v539) = v1->char_c.meta.cEffectSprite.dir;
        v540 = v1->char_c.meta.cEffectSprite.y;
        if ( (_BYTE)v539 == -1 )
        {
          v1151 = &v1319;
          xd = -1;
          a1d = v540;
          v1163 = flt_885644 + 100.0;
        }
        else
        {
          v1151 = &v1319;
          xd = v539;
          a1d = v540;
          v1163 = flt_88563C - 100.0;
        }
        v538 = v1163;
LABEL_1318:
        v541 = v538;
        addbullet(&v1->char_c, 812, v541, a1d, xd, 1, (int)v1151, 3);
        goto LABEL_1319;
      case 520:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 1;
        if ( v1->char_c.field_7D0 != 1 )
          goto LABEL_1338;
        v542 = v1->char_c.skills_1[1];
        v543 = 5;
        if ( (char)v542 >= 2 )
          v543 = 6;
        if ( (char)v542 >= 4 )
          v543 = 8;
        if ( v1->char_c.field_7D2 >= v543 )
          goto LABEL_1338;
        if ( v1->char_c.field_7D4 % 3 )
          goto LABEL_1337;
        v1397 = -80.0 - (double)(unsigned int)get_MT_range(20);
        v544 = get_MT_range(50);
        v1152 = (int *)&v1397;
        v1398 = (double)(unsigned int)v544 * 0.1000000014901161 + 20.0;
        v1399 = 3.0;
        xe = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
        a1e = v1->char_c.meta.cEffectSprite.y;
        v545 = (double)(113 * (char)xe) + v1->char_c.meta.cEffectSprite.x;
        v546 = v545;
        goto LABEL_1336;
      case 521:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 1;
        if ( v1->char_c.field_7D0 == 1 )
        {
          v547 = v1->char_c.skills_1[1];
          v548 = 5;
          if ( (char)v547 >= 2 )
            v548 = 6;
          if ( (char)v547 >= 4 )
            v548 = 8;
          if ( v1->char_c.field_7D2 < v548 )
          {
            if ( !(v1->char_c.field_7D4 % 3) )
            {
              *(float *)&v1451 = -80.0 - (double)(unsigned int)get_MT_range(20);
              v549 = get_MT_range(50);
              v1152 = &v1451;
              v1452 = (double)(unsigned int)v549 * 0.1000000014901161 + 25.0;
              v1453 = 3.0;
              xe = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              a1e = v1->char_c.meta.cEffectSprite.y;
              v550 = (double)(113 * (char)xe) + v1->char_c.meta.cEffectSprite.x;
              v546 = v550;
LABEL_1336:
              v551 = v546;
              addbullet(&v1->char_c, 815, v551, a1e, xe, 1, (int)v1152, 3);
              ++v1->char_c.field_7D2;
            }
LABEL_1337:
            ++v1->char_c.field_7D4;
          }
        }
LABEL_1338:
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 10 )
          return;
        v1->char_c.field_7D0 = 1;
        char_c::play_sfx(&v1->char_c, 12);
        goto LABEL_2175;
      case 525:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 5;
        if ( v1->char_c.meta.viz.get_subseq == 1 )
        {
          if ( v1->char_c.meta.field_194 > 0 )
          {
            if ( v1->char_c.meta.field_190 )
            {
              if ( ++v1->char_c.field_7D0 >= 5 )
              {
                v1->char_c.meta.field_190 = 0;
                v1->char_c.field_7D0 = 0;
              }
            }
          }
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
          {
            char_c::play_sfx(&v1->char_c, 29);
            *(float *)&v1403 = 1.0;
            v1404 = (double)(unsigned int)get_MT_range(5) + 10.0;
            v1405 = 0.0;
            v552 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v553 = v1->char_c.meta.cEffectSprite.y + 140.0;
            v554 = v553;
            v555 = (double)(120 * (char)v552) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 817, v555, v554, v552, 1, (int)&v1403, 3);
          }
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 15) )
          {
            v556 = 0;
            v1164 = 0;
            do
            {
              *(float *)&v1301 = (double)(unsigned int)get_MT_range(30) + (double)v1164 + 30.0;
              v1302 = 10.0;
              v1303 = 2.0;
              v557 = *(float *)&v1301;
              if ( *(float *)&v1301 < 0.0 || v557 > 180.0 )
              {
                yd = -1;
                xf = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                a1f = v1->char_c.meta.cEffectSprite.y;
                v560 = (double)(120 * (char)xf) + v1->char_c.meta.cEffectSprite.x;
                v559 = v560;
              }
              else
              {
                yd = 1;
                xf = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                a1f = v1->char_c.meta.cEffectSprite.y;
                v558 = (double)(120 * (char)xf) + v1->char_c.meta.cEffectSprite.x;
                v559 = v558;
              }
              v561 = v559;
              addbullet(&v1->char_c, 817, v561, a1f, xf, yd, (int)&v1301, 3);
              v556 += 60;
              v1164 = v556;
            }
            while ( v556 < 360 );
          }
          if ( v1->char_c.meta.viz.get_elaps_frames >= 20 )
            goto LABEL_2433;
        }
        if ( v1->char_c.meta.viz.get_subseq == 3 )
        {
          if ( v1->char_c.meta.field_194 > 0 )
          {
            if ( v1->char_c.meta.field_190 )
            {
              if ( ++v1->char_c.field_7D0 >= 5 )
              {
                v1->char_c.meta.field_190 = 0;
                v1->char_c.field_7D0 = 0;
              }
            }
          }
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
          {
            char_c::play_sfx(&v1->char_c, 29);
            *(float *)&v1499 = 1.5;
            v1500 = (double)(unsigned int)get_MT_range(5) + 20.0;
            v1501 = 0.0;
            v562 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v563 = v1->char_c.meta.cEffectSprite.y + 140.0;
            v564 = v563;
            v565 = (double)(120 * (char)v562) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 817, v565, v564, v562, 1, (int)&v1499, 3);
          }
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 15) )
          {
            v566 = 0;
            v1165 = 0;
            do
            {
              *(float *)&v1280 = (double)(unsigned int)get_MT_range(30) + (double)v1165 + 30.0;
              v1281 = 10.0;
              v1282 = 2.0;
              v567 = *(float *)&v1280;
              if ( *(float *)&v1280 < 0.0 || v567 > 180.0 )
              {
                ye = -1;
                xg = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                a1g = v1->char_c.meta.cEffectSprite.y;
                v570 = (double)(120 * (char)xg) + v1->char_c.meta.cEffectSprite.x;
                v569 = v570;
              }
              else
              {
                ye = 1;
                xg = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                a1g = v1->char_c.meta.cEffectSprite.y;
                v568 = (double)(120 * (char)xg) + v1->char_c.meta.cEffectSprite.x;
                v569 = v568;
              }
              v571 = v569;
              addbullet(&v1->char_c, 817, v571, a1g, xg, ye, (int)&v1280, 3);
              v566 += 60;
              v1165 = v566;
            }
            while ( v566 < 360 );
          }
          if ( v1->char_c.meta.viz.get_elaps_frames >= 20 )
            goto LABEL_2433;
        }
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( v1->char_c.meta.viz.get_elaps_frames )
          return;
        if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
          goto LABEL_2667;
        if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          scene_add_effect(&v1->char_c, 127, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1);
          char_c::play_sfx(&v1->char_c, 18);
          char_c::spell_energy_spend(&v1->char_c, 200, 120);
          char_c::add_card_energy(&v1->char_c, 50);
          if ( v1->char_c.skills_1[5] >= 4 )
            goto LABEL_1383;
        }
        return;
      case 526:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 5;
        v572 = v1->char_c.meta.cEffectSprite.h_inerc - 0.25;
        v1->char_c.meta.cEffectSprite.h_inerc = v572;
        if ( v572 < 0.0 )
          v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
        if ( v1->char_c.meta.viz.get_subseq == 1 )
        {
          if ( v1->char_c.meta.field_194 > 0 )
          {
            if ( v1->char_c.meta.field_190 )
            {
              if ( ++v1->char_c.field_7D0 >= 5 )
              {
                v1->char_c.meta.field_190 = 0;
                v1->char_c.field_7D0 = 0;
              }
            }
          }
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
          {
            char_c::play_sfx(&v1->char_c, 29);
            *(float *)&v1409 = 1.0;
            v1410 = (double)(unsigned int)get_MT_range(5) + 10.0;
            v1411 = 0.0;
            v573 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v574 = v1->char_c.meta.cEffectSprite.y + 140.0;
            v575 = v574;
            v576 = (double)(120 * (char)v573) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 817, v576, v575, v573, 1, (int)&v1409, 3);
          }
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 15) )
          {
            v577 = 0;
            v1166 = 0;
            do
            {
              *(float *)&v1307 = (double)(unsigned int)get_MT_range(30) + (double)v1166 + 30.0;
              v1308 = 10.0;
              v1309 = 2.0;
              v578 = *(float *)&v1307;
              if ( *(float *)&v1307 < 0.0 || v578 > 180.0 )
              {
                yf = -1;
                xh = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                a1h = v1->char_c.meta.cEffectSprite.y;
                v581 = (double)(120 * (char)xh) + v1->char_c.meta.cEffectSprite.x;
                v580 = v581;
              }
              else
              {
                yf = 1;
                xh = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                a1h = v1->char_c.meta.cEffectSprite.y;
                v579 = (double)(120 * (char)xh) + v1->char_c.meta.cEffectSprite.x;
                v580 = v579;
              }
              v582 = v580;
              addbullet(&v1->char_c, 817, v582, a1h, xh, yf, (int)&v1307, 3);
              v577 += 60;
              v1166 = v577;
            }
            while ( v577 < 360 );
          }
          if ( v1->char_c.meta.viz.get_elaps_frames >= 65 )
            goto LABEL_2433;
        }
        if ( v1->char_c.meta.viz.get_subseq == 3 )
        {
          if ( v1->char_c.meta.field_194 > 0 )
          {
            if ( v1->char_c.meta.field_190 )
            {
              if ( ++v1->char_c.field_7D0 >= 5 )
              {
                v1->char_c.meta.field_190 = 0;
                v1->char_c.field_7D0 = 0;
              }
            }
          }
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 5) )
          {
            char_c::play_sfx(&v1->char_c, 29);
            *(float *)&v1457 = 1.5;
            v1458 = (double)(unsigned int)get_MT_range(5) + 20.0;
            v1459 = 0.0;
            v583 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v584 = v1->char_c.meta.cEffectSprite.y + 140.0;
            v585 = v584;
            v586 = (double)(120 * (char)v583) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 817, v586, v585, v583, 1, (int)&v1457, 3);
          }
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 15) )
          {
            v587 = 0;
            v1167 = 0;
            do
            {
              *(float *)&v1325 = (double)(unsigned int)get_MT_range(30) + (double)v1167 + 30.0;
              v1326 = 10.0;
              v1327 = 2.0;
              v588 = *(float *)&v1325;
              if ( *(float *)&v1325 < 0.0 || v588 > 180.0 )
              {
                yg = -1;
                xi = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                a1i = v1->char_c.meta.cEffectSprite.y;
                v591 = (double)(120 * (char)xi) + v1->char_c.meta.cEffectSprite.x;
                v590 = v591;
              }
              else
              {
                yg = 1;
                xi = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                a1i = v1->char_c.meta.cEffectSprite.y;
                v589 = (double)(120 * (char)xi) + v1->char_c.meta.cEffectSprite.x;
                v590 = v589;
              }
              v592 = v590;
              addbullet(&v1->char_c, 817, v592, a1i, xi, yg, (int)&v1325, 3);
              v587 += 60;
              v1167 = v587;
            }
            while ( v587 < 360 );
          }
          if ( v1->char_c.meta.viz.get_elaps_frames >= 65 )
            goto LABEL_2433;
        }
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( v1->char_c.meta.viz.get_elaps_frames )
          goto LABEL_1426;
        if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
          goto LABEL_2667;
        if ( v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 1 || (scene_add_effect(&v1->char_c, 127, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1), char_c::play_sfx(&v1->char_c, 18), char_c::spell_energy_spend(&v1->char_c, 200, 120), char_c::add_card_energy(&v1->char_c, 50), v1->char_c.skills_1[5] < 4) )
        {
LABEL_1426:
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
            v1->char_c.meta.cEffectSprite.h_inerc = 10.0;
        }
        else
        {
LABEL_1383:
          v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 3);
        }
        return;
      case 530:
        v1->char_c.meta.field_18C = 9;
        if ( v1->char_c.meta.viz.get_subseq == 4 )
          char_c::sub10func(&v1->char_c);
        v593 = 0.0;
        if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.meta.viz.get_frame >= 7 )
        {
          v594 = v1->char_c.meta.cEffectSprite.field_F8 + v1->char_c.meta.cEffectSprite.h_inerc;
          v1->char_c.meta.cEffectSprite.h_inerc = v594;
          if ( v594 > 0.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
        }
        if ( v1->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1454;
        v595 = v1->char_c.meta.cEffectSprite.field_F8 + v1->char_c.meta.cEffectSprite.h_inerc;
        v1->char_c.meta.cEffectSprite.h_inerc = v595;
        v596 = 15.0;
        if ( v595 > 15.0 )
          v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
        if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) )
        {
          *(float *)&v1415 = -45.0 - (double)(unsigned int)get_MT_range(90);
          v1416 = (double)(unsigned int)get_MT_range(5) + 5.0;
          v1417 = 1.0;
          v597 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v598 = (double)(80 * (char)v597) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 850, v598, v1->char_c.meta.cEffectSprite.y, v597, 1, (int)&v1415, 3);
          v593 = 0.0;
          v596 = 15.0;
        }
        v599 = v1->char_c.meta.field_190;
        if ( v599 == 1 || v599 == 7 || v599 == 2 )
        {
          v1->char_c.meta.field_194 = 1;
          v1->char_c.meta.field_190 = 0;
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
          v593 = 0.0;
        }
        else
        {
          if ( v1->char_c.meta.cEffectSprite.h_inerc >= v596 && v1->char_c.down_A > 0u )
          {
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
            v1->char_c.meta.field_190 = 0;
            v1->char_c.meta.field_194 = 1;
            return;
          }
          if ( v1->char_c.meta.cEffectSprite.h_inerc >= v596 && *(_QWORD *)&v1->char_c.down_B > 0ui64 && v1->char_c.skills_1[9] >= 2 )
          {
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 7);
            v1->char_c.meta.field_190 = 0;
            v1->char_c.meta.field_194 = 1;
            return;
          }
        }
        if ( v1->char_c.meta.viz.get_elaps_frames >= 50 )
        {
          v1->char_c.meta.field_194 = 1;
          v1->char_c.meta.field_190 = 0;
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
          return;
        }
LABEL_1454:
        if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_frame <= 1 )
        {
          v600 = v1->char_c.meta.cEffectSprite.h_inerc - 0.05000000074505806;
          v1->char_c.meta.cEffectSprite.h_inerc = v600;
          if ( v600 < v593 )
            v1->char_c.meta.cEffectSprite.h_inerc = v593;
          *(float *)&v1481 = -10.0 - (double)(unsigned int)get_MT_range(60);
          v1482 = (double)(unsigned int)get_MT_range(5) + 10.0;
          v1483 = 1.0;
          v601 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v602 = (double)(80 * (char)v601) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 850, v602, v1->char_c.meta.cEffectSprite.y, v601, 1, (int)&v1481, 3);
          v593 = 0.0;
        }
        if ( v1->char_c.meta.viz.get_subseq != 3 )
          goto LABEL_1462;
        v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v1->char_c) )
          goto LABEL_2370;
        v593 = 0.0;
LABEL_1462:
        if ( v1->char_c.meta.viz.get_subseq == 5 && v1->char_c.meta.viz.get_frame <= 1 )
        {
          v603 = v1->char_c.meta.cEffectSprite.h_inerc - 0.1000000014901161;
          v1->char_c.meta.cEffectSprite.h_inerc = v603;
          if ( v603 < v593 )
            v1->char_c.meta.cEffectSprite.h_inerc = v593;
          *(float *)&v1421 = -10.0 - (double)(unsigned int)get_MT_range(60);
          v1422 = (double)(unsigned int)get_MT_range(5) + 10.0;
          v1423 = 1.0;
          v604 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v605 = (double)(80 * (char)v604) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 850, v605, v1->char_c.meta.cEffectSprite.y, v604, 1, (int)&v1421, 3);
        }
        v606 = v1->char_c.meta.viz.get_subseq;
        if ( v606 == 6 || v606 == 8 )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_1559;
        }
        if ( viz_process(&v1->char_c) )
          goto LABEL_1607;
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
        {
          v1->char_c.meta.cEffectSprite.h_inerc = -10.0;
          v1->char_c.meta.cEffectSprite.field_F8 = 1.0;
          char_c::play_sfx(&v1->char_c, 50);
          char_c::add_card_energy(&v1->char_c, 50);
          char_c::spell_energy_spend(&v1->char_c, 200, 120);
        }
        if ( v1->char_c.meta.viz.get_subseq == 3 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
          char_c::play_sfx(&v1->char_c, 16);
        if ( v1->char_c.meta.viz.get_subseq == 6 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
          char_c::play_sfx(&v1->char_c, 16);
        if ( v1->char_c.meta.viz.get_subseq == 8 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
          char_c::play_sfx(&v1->char_c, 16);
        v607 = v1->char_c.meta.viz.get_elaps_frames == 0;
        v608 = 7.5;
        if ( !v1->char_c.meta.viz.get_elaps_frames )
        {
          if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            v1->char_c.meta.cEffectSprite.h_inerc = 7.5;
          v607 = v1->char_c.meta.viz.get_elaps_frames == 0;
        }
        v609 = 0.5;
        if ( v607 && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
        {
          v1->char_c.meta.cEffectSprite.h_inerc = -4.0;
          v1->char_c.meta.cEffectSprite.v_inerc = 7.5;
          v1->char_c.meta.cEffectSprite.v_force = *(float *)&v609;
        }
        v610 = v1->char_c.meta.viz.get_elaps_frames;
        v611 = v610 == 0;
        if ( v610 )
          goto LABEL_1506;
        if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
          goto LABEL_1592;
        if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 5 )
          goto LABEL_1596;
        v611 = 1;
LABEL_1506:
        v612 = 8.0;
        if ( v611 && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 6 )
        {
          v1->char_c.meta.cEffectSprite.h_inerc = 8.0;
          v1->char_c.meta.cEffectSprite.v_inerc = 7.5;
          v1->char_c.meta.cEffectSprite.v_force = 0.5;
        }
        if ( v1->char_c.meta.viz.get_elaps_frames )
          return;
        if ( v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 7 )
          goto LABEL_1515;
        goto LABEL_1607;
      case 531:
        v1->char_c.meta.field_18C = 9;
        if ( v1->char_c.meta.viz.get_subseq == 4 )
          char_c::sub10func(&v1->char_c);
        v613 = 0.0;
        if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.meta.viz.get_frame >= 7 )
        {
          v614 = v1->char_c.meta.cEffectSprite.field_F8 + v1->char_c.meta.cEffectSprite.h_inerc;
          v1->char_c.meta.cEffectSprite.h_inerc = v614;
          if ( v614 > 0.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
        }
        if ( v1->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1543;
        v615 = v1->char_c.meta.cEffectSprite.field_F8 + v1->char_c.meta.cEffectSprite.h_inerc;
        v1->char_c.meta.cEffectSprite.h_inerc = v615;
        v616 = 15.0;
        if ( v615 > 15.0 )
          v1->char_c.meta.cEffectSprite.h_inerc = 15.0;
        if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) )
        {
          *(float *)&v1463 = -45.0 - (double)(unsigned int)get_MT_range(90);
          v1464 = (double)(unsigned int)get_MT_range(5) + 5.0;
          v1465 = 1.0;
          v617 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v618 = (double)(80 * (char)v617) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 850, v618, v1->char_c.meta.cEffectSprite.y, v617, 1, (int)&v1463, 3);
          v613 = 0.0;
          v616 = 15.0;
        }
        v619 = v1->char_c.meta.field_190;
        if ( v619 == 1 || v619 == 7 || v619 == 2 )
        {
          v1->char_c.meta.field_194 = 1;
          v1->char_c.meta.field_190 = 0;
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
          v613 = 0.0;
        }
        else
        {
          if ( v1->char_c.meta.cEffectSprite.h_inerc >= v616 && v1->char_c.down_A > 0u )
          {
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 7);
            v1->char_c.meta.field_190 = 0;
            v1->char_c.meta.field_194 = 1;
            return;
          }
          if ( v1->char_c.meta.cEffectSprite.h_inerc >= v616 && *(_QWORD *)&v1->char_c.down_B > 0ui64 && v1->char_c.skills_1[9] >= 2 )
          {
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
            v1->char_c.meta.field_190 = 0;
            v1->char_c.meta.field_194 = 1;
            return;
          }
        }
        if ( v1->char_c.meta.viz.get_elaps_frames >= 50 )
        {
          v1->char_c.meta.field_194 = 1;
          v1->char_c.meta.field_190 = 0;
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
          return;
        }
LABEL_1543:
        if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_frame <= 1 )
        {
          v620 = v1->char_c.meta.cEffectSprite.h_inerc - 0.05000000074505806;
          v1->char_c.meta.cEffectSprite.h_inerc = v620;
          if ( v620 < v613 )
            v1->char_c.meta.cEffectSprite.h_inerc = v613;
          *(float *)&v1349 = -10.0 - (double)(unsigned int)get_MT_range(60);
          v1350 = (double)(unsigned int)get_MT_range(5) + 10.0;
          v1351 = 1.0;
          v621 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v622 = (double)(80 * (char)v621) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 850, v622, v1->char_c.meta.cEffectSprite.y, v621, 1, (int)&v1349, 3);
          v613 = 0.0;
        }
        if ( v1->char_c.meta.viz.get_subseq != 3 )
          goto LABEL_1551;
        v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v1->char_c) )
          goto LABEL_2370;
        v613 = 0.0;
LABEL_1551:
        if ( v1->char_c.meta.viz.get_subseq == 5 && v1->char_c.meta.viz.get_frame <= 1 )
        {
          v623 = v1->char_c.meta.cEffectSprite.h_inerc - 0.1000000014901161;
          v1->char_c.meta.cEffectSprite.h_inerc = v623;
          if ( v623 < v613 )
            v1->char_c.meta.cEffectSprite.h_inerc = v613;
          *(float *)&v1352 = -10.0 - (double)(unsigned int)get_MT_range(60);
          v1353 = (double)(unsigned int)get_MT_range(5) + 10.0;
          v1354 = 1.0;
          v624 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v625 = (double)(80 * (char)v624) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 850, v625, v1->char_c.meta.cEffectSprite.y, v624, 1, (int)&v1352, 3);
        }
        v626 = v1->char_c.meta.viz.get_subseq;
        if ( v626 == 6 || v626 == 8 )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
          {
LABEL_1559:
            char_c::reset_forces(&v1->char_c);
            v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 4);
            return;
          }
        }
        if ( viz_process(&v1->char_c) )
          goto LABEL_1607;
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
        {
          v1->char_c.meta.cEffectSprite.h_inerc = -10.0;
          v1->char_c.meta.cEffectSprite.field_F8 = 1.0;
          char_c::play_sfx(&v1->char_c, 50);
          char_c::add_card_energy(&v1->char_c, 50);
          char_c::spell_energy_spend(&v1->char_c, 200, 120);
        }
        if ( v1->char_c.meta.viz.get_subseq == 3 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
          char_c::play_sfx(&v1->char_c, 16);
        if ( v1->char_c.meta.viz.get_subseq == 6 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
          char_c::play_sfx(&v1->char_c, 16);
        if ( v1->char_c.meta.viz.get_subseq == 8 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
          char_c::play_sfx(&v1->char_c, 16);
        v627 = v1->char_c.meta.viz.get_elaps_frames == 0;
        v608 = 7.5;
        if ( !v1->char_c.meta.viz.get_elaps_frames )
        {
          if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            v1->char_c.meta.cEffectSprite.h_inerc = 7.5;
          v627 = v1->char_c.meta.viz.get_elaps_frames == 0;
        }
        v609 = 0.5;
        if ( v627 && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
        {
          v1->char_c.meta.cEffectSprite.h_inerc = -4.0;
          v1->char_c.meta.cEffectSprite.v_inerc = 7.5;
          v1->char_c.meta.cEffectSprite.v_force = *(float *)&v609;
        }
        v628 = v1->char_c.meta.viz.get_elaps_frames;
        v629 = v628 == 0;
        if ( v628 )
          goto LABEL_1598;
        if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
        {
LABEL_1592:
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
          return;
        }
        if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 5 )
        {
LABEL_1596:
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          char_c::reset_forces(&v1->char_c);
          return;
        }
        v629 = 1;
LABEL_1598:
        v612 = 8.0;
        if ( v629 && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 6 )
        {
          v1->char_c.meta.cEffectSprite.h_inerc = 8.0;
          v1->char_c.meta.cEffectSprite.v_inerc = 7.5;
          v1->char_c.meta.cEffectSprite.v_force = 0.5;
        }
        if ( v1->char_c.meta.viz.get_elaps_frames )
          return;
        if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 7 )
          goto LABEL_1607;
LABEL_1515:
        if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 8 )
        {
          v1->char_c.meta.cEffectSprite.h_inerc = v612;
          v1->char_c.meta.cEffectSprite.v_inerc = v608;
          v1->char_c.meta.cEffectSprite.v_force = v609;
        }
        return;
      case 540:
        v1->char_c.meta.field_18C = 2;
        if ( v1->char_c.meta.viz.get_subseq == 3 )
          char_c::sub10func(&v1->char_c);
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
        v630 = 0.0;
        if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame )
          goto LABEL_1633;
        if ( v1->char_c.meta.viz.get_subseq == 2 )
        {
          if ( v1->char_c.meta.enemy->meta.playing_seq <= 599 )
          {
            *(float *)&v1198 = 0.0;
            v1199 = 0.0;
            v1200 = 1.0;
            v631 = v1->char_c.meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v631, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1198, 3);
            v1199 = 1.0;
            v632 = v1->char_c.meta.enemy;
            v633 = v632->meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v632->meta.cEffectSprite.x, v633, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1198, 3);
            v1199 = 0.0;
            v1200 = 2.0;
            v634 = v1->char_c.meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v634, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1198, 3);
            v1199 = 1.0;
            v635 = v1->char_c.meta.enemy;
            v636 = v635->meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v635->meta.cEffectSprite.x, v636, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1198, 3);
            if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) )
            {
              v637 = 0;
              v1168 = 0;
              do
              {
                *(float *)&v1198 = (double)(unsigned int)get_MT_range(40) + (double)v1168 + 30.0;
                v1199 = 13.0;
                v1200 = 2.0;
                v638 = *(float *)&v1198;
                if ( *(float *)&v1198 < 0.0 || v638 > 180.0 )
                  addbullet(&v1->char_c, 817, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1198, 3);
                else
                  addbullet(&v1->char_c, 817, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1198, 3);
                v637 += 45;
                v1168 = v637;
              }
              while ( v637 < 360 );
            }
            if ( (unsigned __int8)char_c::char_on_ground_flag(v1->char_c.meta.enemy) )
            {
              v639 = 0;
              v1169 = 0;
              do
              {
                *(float *)&v1198 = (double)(unsigned int)get_MT_range(40) + (double)v1169 + 30.0;
                v1199 = 13.0;
                v1200 = 2.0;
                v640 = *(float *)&v1198;
                if ( *(float *)&v1198 < 0.0 || v640 > 180.0 )
                  addbullet(&v1->char_c, 817, v1->char_c.meta.enemy->meta.cEffectSprite.x, v1->char_c.meta.enemy->meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1198, 3);
                else
                  addbullet(&v1->char_c, 817, v1->char_c.meta.enemy->meta.cEffectSprite.x, v1->char_c.meta.enemy->meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1198, 3);
                v639 += 45;
                v1169 = v639;
              }
              while ( v639 < 360 );
            }
            v641 = v1->char_c.meta.enemy;
            v1->char_c.field_7DC = v1->char_c.meta.cEffectSprite.x;
            v1->char_c.dash_angle = v1->char_c.meta.cEffectSprite.y;
            v1->char_c.meta.cEffectSprite.x = v641->meta.cEffectSprite.x;
            v1->char_c.meta.cEffectSprite.y = v641->meta.cEffectSprite.y;
            v641->meta.cEffectSprite.x = v1->char_c.field_7DC;
            v1->char_c.meta.enemy->meta.cEffectSprite.y = v1->char_c.dash_angle;
            char_c::flip_with_force(&v1->char_c);
          }
          char_c::play_sfx(&v1->char_c, 13);
          char_c::spell_energy_spend(&v1->char_c, 200, 120);
          char_c::add_card_energy(&v1->char_c, 50);
          v630 = 0.0;
          v1->char_c.field_7D8 = 1;
LABEL_1633:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
          {
            v642 = v1->char_c.skills_1[2];
            v643 = 40;
            if ( (char)v642 >= 1 )
              v643 = 25;
            if ( (char)v642 >= 4 )
              v643 = 10;
            if ( v1->char_c.meta.viz.get_elaps_frames >= v643 )
            {
              ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              v630 = 0.0;
            }
          }
        }
        if ( v1->char_c.meta.viz.get_elaps_frames )
          goto LABEL_1650;
        if ( v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 3 )
          goto LABEL_1646;
        if ( !(unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) )
          goto LABEL_1793;
        v630 = 0.0;
LABEL_1646:
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
          goto LABEL_1799;
LABEL_1650:
        if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 2 )
          goto LABEL_1751;
        *(float *)&v1283 = v630;
        v1284 = v630;
        v1285 = v630;
        v644 = v1->char_c.meta.cEffectSprite.y + 100.0;
        addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v644, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1283, 3);
        v1284 = 1.0;
        v645 = &v1283;
        v646 = v1->char_c.meta.cEffectSprite.y + 100.0;
        v647 = v646;
        goto LABEL_1750;
      case 541:
        v1->char_c.meta.field_18C = 2;
        if ( v1->char_c.meta.viz.get_subseq == 3 )
          char_c::sub10func(&v1->char_c);
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
        v275 = 1;
        if ( v1->char_c.meta.viz.get_subseq == 1 )
        {
          v648 = v1->char_c.skills_1[2];
          v649 = 40;
          if ( (char)v648 >= 1 )
            v649 = 25;
          if ( (char)v648 >= 4 )
            v649 = 10;
          if ( v1->char_c.meta.viz.get_elaps_frames >= v649 )
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
        }
        v650 = 0.0;
        if ( v1->char_c.meta.viz.get_elaps_frames )
          goto LABEL_1696;
        if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
        {
          if ( v1->char_c.meta.enemy->meta.playing_seq <= 599 )
          {
            *(float *)&v1204 = 0.0;
            v1205 = 0.0;
            v1206 = 1.0;
            v651 = v1->char_c.meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v651, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1204, 3);
            v1205 = 1.0;
            v652 = v1->char_c.meta.enemy;
            v653 = v652->meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v652->meta.cEffectSprite.x, v653, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1204, 3);
            v1205 = 0.0;
            v1206 = 2.0;
            v654 = v1->char_c.meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v654, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1204, 3);
            v1205 = 1.0;
            v655 = v1->char_c.meta.enemy;
            v656 = v655->meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v655->meta.cEffectSprite.x, v656, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1204, 3);
            if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) )
            {
              v657 = 0;
              v1170 = 0;
              do
              {
                *(float *)&v1204 = (double)(unsigned int)get_MT_range(40) + (double)v1170 + 30.0;
                v1205 = 13.0;
                v1206 = 2.0;
                v658 = *(float *)&v1204;
                if ( *(float *)&v1204 < 0.0 || v658 > 180.0 )
                  addbullet(&v1->char_c, 817, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1204, 3);
                else
                  addbullet(&v1->char_c, 817, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1204, 3);
                v657 += 45;
                v1170 = v657;
              }
              while ( v657 < 360 );
            }
            if ( (unsigned __int8)char_c::char_on_ground_flag(v1->char_c.meta.enemy) )
            {
              v659 = 0;
              v1171 = 0;
              do
              {
                *(float *)&v1204 = (double)(unsigned int)get_MT_range(40) + (double)v1171 + 30.0;
                v1205 = 13.0;
                v1206 = 2.0;
                v660 = *(float *)&v1204;
                if ( *(float *)&v1204 < 0.0 || v660 > 180.0 )
                  addbullet(&v1->char_c, 817, v1->char_c.meta.enemy->meta.cEffectSprite.x, v1->char_c.meta.enemy->meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1204, 3);
                else
                  addbullet(&v1->char_c, 817, v1->char_c.meta.enemy->meta.cEffectSprite.x, v1->char_c.meta.enemy->meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1204, 3);
                v659 += 45;
                v1171 = v659;
              }
              while ( v659 < 360 );
            }
            v661 = v1->char_c.meta.enemy;
            v1->char_c.field_7DC = v1->char_c.meta.cEffectSprite.x;
            v1->char_c.dash_angle = v1->char_c.meta.cEffectSprite.y;
            v1->char_c.meta.cEffectSprite.x = v661->meta.cEffectSprite.x;
            v1->char_c.meta.cEffectSprite.y = v661->meta.cEffectSprite.y;
            v661->meta.cEffectSprite.x = v1->char_c.field_7DC;
            v1->char_c.meta.enemy->meta.cEffectSprite.y = v1->char_c.dash_angle;
            char_c::flip_with_force(&v1->char_c);
          }
          char_c::play_sfx(&v1->char_c, 13);
          char_c::spell_energy_spend(&v1->char_c, 200, 120);
          char_c::add_card_energy(&v1->char_c, 50);
          v650 = 0.0;
          v1->char_c.field_7D8 = 1;
        }
        if ( v1->char_c.meta.viz.get_elaps_frames )
          goto LABEL_1696;
        if ( v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 3 )
          goto LABEL_1692;
        if ( !(unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) )
          goto LABEL_1793;
        v650 = 0.0;
LABEL_1692:
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
          goto LABEL_1799;
LABEL_1696:
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
        {
          *(float *)&v1286 = v650;
          v1287 = v650;
          v1288 = v650;
          v662 = v1->char_c.meta.cEffectSprite.y + 100.0;
          addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v662, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1286, 3);
          v1287 = 1.0;
          v663 = v1->char_c.meta.cEffectSprite.y + 100.0;
          addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v663, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1286, 3);
        }
        if ( v1->char_c.meta.viz.get_subseq == 4 )
        {
LABEL_1701:
          if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == v275 )
            v1->char_c.meta.cEffectSprite.v_force = 0.5;
        }
        return;
      case 542:
        v1->char_c.meta.field_18C = 2;
        if ( v1->char_c.meta.viz.get_subseq == 3 )
          char_c::sub10func(&v1->char_c);
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
        v664 = 0.0;
        if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame )
          goto LABEL_1729;
        if ( v1->char_c.meta.viz.get_subseq == 2 )
        {
          if ( v1->char_c.meta.enemy->meta.playing_seq <= 599 )
          {
            *(float *)&v1210 = 0.0;
            v1211 = 0.0;
            v1212 = 1.0;
            v665 = v1->char_c.meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v665, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1210, 3);
            v1211 = 1.0;
            v666 = v1->char_c.meta.enemy;
            v667 = v666->meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v666->meta.cEffectSprite.x, v667, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1210, 3);
            v1211 = 0.0;
            v1212 = 2.0;
            v668 = v1->char_c.meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v668, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1210, 3);
            v1211 = 1.0;
            v669 = v1->char_c.meta.enemy;
            v670 = v669->meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v669->meta.cEffectSprite.x, v670, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1210, 3);
            if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) )
            {
              v671 = 0;
              v1172 = 0;
              do
              {
                *(float *)&v1210 = (double)(unsigned int)get_MT_range(40) + (double)v1172 + 30.0;
                v1211 = 13.0;
                v1212 = 2.0;
                v672 = *(float *)&v1210;
                if ( *(float *)&v1210 < 0.0 || v672 > 180.0 )
                  addbullet(&v1->char_c, 817, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1210, 3);
                else
                  addbullet(&v1->char_c, 817, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1210, 3);
                v671 += 45;
                v1172 = v671;
              }
              while ( v671 < 360 );
            }
            if ( (unsigned __int8)char_c::char_on_ground_flag(v1->char_c.meta.enemy) )
            {
              v673 = 0;
              v1173 = 0;
              do
              {
                *(float *)&v1210 = (double)(unsigned int)get_MT_range(40) + (double)v1173 + 30.0;
                v1211 = 13.0;
                v1212 = 2.0;
                v674 = *(float *)&v1210;
                if ( *(float *)&v1210 < 0.0 || v674 > 180.0 )
                  addbullet(&v1->char_c, 817, v1->char_c.meta.enemy->meta.cEffectSprite.x, v1->char_c.meta.enemy->meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1210, 3);
                else
                  addbullet(&v1->char_c, 817, v1->char_c.meta.enemy->meta.cEffectSprite.x, v1->char_c.meta.enemy->meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1210, 3);
                v673 += 45;
                v1173 = v673;
              }
              while ( v673 < 360 );
            }
            v675 = v1->char_c.meta.enemy;
            v1->char_c.field_7DC = v1->char_c.meta.cEffectSprite.x;
            v1->char_c.dash_angle = v1->char_c.meta.cEffectSprite.y;
            v1->char_c.meta.cEffectSprite.x = v675->meta.cEffectSprite.x;
            v1->char_c.meta.cEffectSprite.y = v675->meta.cEffectSprite.y;
            v675->meta.cEffectSprite.x = v1->char_c.field_7DC;
            v1->char_c.meta.enemy->meta.cEffectSprite.y = v1->char_c.dash_angle;
            char_c::flip_with_force(&v1->char_c);
          }
          char_c::play_sfx(&v1->char_c, 13);
          char_c::spell_energy_spend(&v1->char_c, 200, 120);
          char_c::add_card_energy(&v1->char_c, 50);
          v664 = 0.0;
          v1->char_c.field_7D8 = 1;
LABEL_1729:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
          {
            v676 = v1->char_c.skills_1[2];
            v677 = 40;
            if ( (char)v676 >= 1 )
              v677 = 25;
            if ( (char)v676 >= 4 )
              v677 = 10;
            if ( v1->char_c.meta.viz.get_elaps_frames >= v677 )
            {
              ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
              v664 = 0.0;
            }
          }
        }
        if ( v1->char_c.meta.viz.get_elaps_frames )
          goto LABEL_1746;
        if ( v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 3 )
          goto LABEL_1742;
        if ( !(unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) )
          goto LABEL_1793;
        v664 = 0.0;
LABEL_1742:
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
          goto LABEL_1799;
LABEL_1746:
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
        {
          *(float *)&v1292 = v664;
          v1293 = v664;
          v1294 = v664;
          v678 = v1->char_c.meta.cEffectSprite.y + 100.0;
          addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v678, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1292, 3);
          v1293 = 1.0;
          v645 = &v1292;
          v679 = v1->char_c.meta.cEffectSprite.y + 100.0;
          v647 = v679;
LABEL_1750:
          v680 = v647;
          addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v680, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)v645, 3);
        }
        goto LABEL_1751;
      case 543:
        v1->char_c.meta.field_18C = 2;
        if ( v1->char_c.meta.viz.get_subseq == 3 )
          char_c::sub10func(&v1->char_c);
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
        if ( v1->char_c.meta.viz.get_subseq == 1 )
        {
          v682 = v1->char_c.skills_1[2];
          v683 = 40;
          if ( (char)v682 >= 1 )
            v683 = 25;
          if ( (char)v682 >= 4 )
            v683 = 10;
          if ( v1->char_c.meta.viz.get_elaps_frames >= v683 )
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
        }
        v684 = 0.0;
        if ( v1->char_c.meta.viz.get_elaps_frames )
          goto LABEL_1800;
        if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
        {
          if ( v1->char_c.meta.enemy->meta.playing_seq <= 599 )
          {
            *(float *)&v1201 = 0.0;
            v1202 = 0.0;
            v1203 = 1.0;
            v685 = v1->char_c.meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v685, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1201, 3);
            v1202 = 1.0;
            v686 = v1->char_c.meta.enemy;
            v687 = v686->meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v686->meta.cEffectSprite.x, v687, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1201, 3);
            v1202 = 0.0;
            v1203 = 2.0;
            v688 = v1->char_c.meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v688, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1201, 3);
            v1202 = 1.0;
            v689 = v1->char_c.meta.enemy;
            v690 = v689->meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 820, v689->meta.cEffectSprite.x, v690, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1201, 3);
            if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) )
            {
              v691 = 0;
              v1174 = 0;
              do
              {
                *(float *)&v1201 = (double)(unsigned int)get_MT_range(40) + (double)v1174 + 30.0;
                v1202 = 13.0;
                v1203 = 2.0;
                v692 = *(float *)&v1201;
                if ( *(float *)&v1201 < 0.0 || v692 > 180.0 )
                  addbullet(&v1->char_c, 817, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1201, 3);
                else
                  addbullet(&v1->char_c, 817, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1201, 3);
                v691 += 45;
                v1174 = v691;
              }
              while ( v691 < 360 );
            }
            if ( (unsigned __int8)char_c::char_on_ground_flag(v1->char_c.meta.enemy) )
            {
              v693 = 0;
              v1175 = 0;
              do
              {
                *(float *)&v1201 = (double)(unsigned int)get_MT_range(40) + (double)v1175 + 30.0;
                v1202 = 13.0;
                v1203 = 2.0;
                v694 = *(float *)&v1201;
                if ( *(float *)&v1201 < 0.0 || v694 > 180.0 )
                  addbullet(&v1->char_c, 817, v1->char_c.meta.enemy->meta.cEffectSprite.x, v1->char_c.meta.enemy->meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1201, 3);
                else
                  addbullet(&v1->char_c, 817, v1->char_c.meta.enemy->meta.cEffectSprite.x, v1->char_c.meta.enemy->meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1201, 3);
                v693 += 45;
                v1175 = v693;
              }
              while ( v693 < 360 );
            }
            v695 = v1->char_c.meta.enemy;
            v1->char_c.field_7DC = v1->char_c.meta.cEffectSprite.x;
            v1->char_c.dash_angle = v1->char_c.meta.cEffectSprite.y;
            v1->char_c.meta.cEffectSprite.x = v695->meta.cEffectSprite.x;
            v1->char_c.meta.cEffectSprite.y = v695->meta.cEffectSprite.y;
            v695->meta.cEffectSprite.x = v1->char_c.field_7DC;
            v1->char_c.meta.enemy->meta.cEffectSprite.y = v1->char_c.dash_angle;
            char_c::flip_with_force(&v1->char_c);
          }
          char_c::play_sfx(&v1->char_c, 13);
          char_c::spell_energy_spend(&v1->char_c, 200, 120);
          char_c::add_card_energy(&v1->char_c, 50);
          v684 = 0.0;
          v1->char_c.field_7D8 = 1;
        }
        if ( v1->char_c.meta.viz.get_elaps_frames )
          goto LABEL_1800;
        if ( v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 3 )
          goto LABEL_1795;
        if ( !(unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) )
        {
LABEL_1793:
          v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 4);
          return;
        }
        v684 = 0.0;
LABEL_1795:
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
        {
LABEL_1799:
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          return;
        }
LABEL_1800:
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
        {
          *(float *)&v1298 = v684;
          v1299 = v684;
          v1300 = v684;
          v696 = v1->char_c.meta.cEffectSprite.y + 100.0;
          addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v696, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1298, 3);
          v1299 = 1.0;
          v697 = v1->char_c.meta.cEffectSprite.y + 100.0;
          addbullet(&v1->char_c, 820, v1->char_c.meta.cEffectSprite.x, v697, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1298, 3);
        }
        if ( v1->char_c.meta.viz.get_subseq != 4 || v1->char_c.meta.viz.get_frame_time )
          return;
        v681 = v1->char_c.meta.viz.get_frame == 1;
        goto LABEL_1754;
      case 545:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 6;
        if ( !v1->char_c.down_B )
          v1->char_c.not_charge_attack = 0;
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
          goto LABEL_1825;
        if ( v1->char_c.meta.viz.get_frame == 7 && v1->char_c.not_charge_attack )
        {
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
          v698 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v699 = v1->char_c.meta.cEffectSprite.y + 164.0;
          v700 = v699;
          v701 = v1->char_c.meta.cEffectSprite.x - (double)(100 * (char)v698);
          scene_add_effect(&v1->char_c, 62, v701, v700, v698, 1);
          return;
        }
        if ( v1->char_c.meta.viz.get_frame == 10 )
        {
          *(float *)&v1274 = 1.2;
          if ( v1->char_c.skills_1[6] >= 3 )
            *(float *)&v1274 = 1.5;
          v1275 = 10.0;
          v1276 = 0.0;
          v702 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v703 = (double)(200 * (char)v702) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 821, v703, v1->char_c.meta.cEffectSprite.y, v702, 1, (int)&v1274, 3);
          v1276 = 4.0;
          v704 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v705 = (double)(200 * (char)v704) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 821, v705, v1->char_c.meta.cEffectSprite.y, v704, -1, (int)&v1274, 3);
          char_c::spell_energy_spend(&v1->char_c, 200, 120);
          char_c::add_card_energy(&v1->char_c, 50);
          char_c::play_sfx(&v1->char_c, 19);
        }
LABEL_1825:
        if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 4 )
          return;
        *(float *)&v1268 = 2.0;
        if ( v1->char_c.skills_1[6] >= 3 )
          *(float *)&v1268 = 2.25;
        v1269 = 10.0;
        v1270 = 0.0;
        v706 = (double)(200 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
        addbullet(&v1->char_c, 821, v706, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1268, 3);
        v1270 = 4.0;
        v1153 = &v1268;
        xj = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
        a1j = v1->char_c.meta.cEffectSprite.y;
        v707 = (double)(200 * (char)xj) + v1->char_c.meta.cEffectSprite.x;
        v708 = v707;
        goto LABEL_1855;
      case 546:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 6;
        if ( !v1->char_c.down_C )
          v1->char_c.not_charge_attack = 0;
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
          goto LABEL_1849;
        if ( v1->char_c.meta.viz.get_frame == 7 && v1->char_c.not_charge_attack )
        {
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
          v709 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v710 = v1->char_c.meta.cEffectSprite.y + 164.0;
          v711 = v710;
          v712 = v1->char_c.meta.cEffectSprite.x - (double)(100 * (char)v709);
          scene_add_effect(&v1->char_c, 62, v712, v711, v709, 1);
        }
        else
        {
          if ( v1->char_c.meta.viz.get_frame == 10 )
          {
            *(float *)&v1271 = 1.2;
            if ( v1->char_c.skills_1[6] >= 3 )
              *(float *)&v1271 = 1.5;
            v1272 = 10.0;
            v1273 = 0.0;
            v713 = v1->char_c.meta.enemy->meta.cEffectSprite.x;
            addbullet(&v1->char_c, 821, v713, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1271, 3);
            v1273 = 4.0;
            addbullet(&v1->char_c, 821, v713, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1271, 3);
            char_c::spell_energy_spend(&v1->char_c, 200, 120);
            char_c::add_card_energy(&v1->char_c, 50);
            char_c::play_sfx(&v1->char_c, 19);
          }
LABEL_1849:
          if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
          {
            *(float *)&v1277 = 2.0;
            if ( v1->char_c.skills_1[6] >= 3 )
              *(float *)&v1277 = 2.25;
            v1278 = 10.0;
            v1279 = 0.0;
            v714 = (double)(200 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 821, v714, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1277, 3);
            v1279 = 4.0;
            v1153 = &v1277;
            xj = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            a1j = v1->char_c.meta.cEffectSprite.y;
            v715 = (double)(200 * (char)xj) + v1->char_c.meta.cEffectSprite.x;
            v708 = v715;
LABEL_1855:
            v716 = v708;
            addbullet(&v1->char_c, 821, v716, a1j, xj, -1, (int)v1153, 3);
            char_c::spell_energy_spend(&v1->char_c, 200, 120);
            char_c::add_card_energy(&v1->char_c, 50);
            char_c::play_sfx(&v1->char_c, 19);
          }
        }
        return;
      case 550:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 10;
        if ( !v1->char_c.down_B )
          v1->char_c.not_charge_attack = 0;
        if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.meta.viz.get_frame >= 4 )
        {
          v717 = v1->char_c.field_7DC + 0.2000000029802322;
          v1->char_c.field_7DC = v717;
          v718 = (double)(char)v1->char_c.skills_1[10] * 1.5 + 4.0;
          if ( v718 < v717 )
            v1->char_c.field_7DC = v718;
          v719 = v1->char_c.meta.enemy;
          v1->char_c.field_74C = v1->char_c.field_7DC;
          if ( v1->char_c.meta.cEffectSprite.x < (double)v719->meta.cEffectSprite.x && v719->meta.cEffectSprite.dir == 1 || v1->char_c.meta.cEffectSprite.x > (double)v719->meta.cEffectSprite.x && v719->meta.cEffectSprite.dir == -1 )
            v1->char_c.field_74C = -v1->char_c.field_7DC;
        }
        if ( v1->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1883;
        v720 = v1->char_c.field_7DC + 0.2000000029802322;
        v1->char_c.field_7DC = v720;
        v721 = 1.5 * (double)(char)v1->char_c.skills_1[10] + 4.0;
        if ( v721 < v720 )
          v1->char_c.field_7DC = v721;
        if ( !(v1->char_c.meta.viz.get_elaps_frames % 3) )
        {
          *(float *)&v1358 = (double)(unsigned int)get_MT_range(360);
          v1359 = (double)(unsigned int)get_MT_range(150) + 250.0;
          v1360 = 0.0;
          addbullet(&v1->char_c, 822, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1358, 3);
        }
        v722 = v1->char_c.meta.enemy;
        v1->char_c.field_74C = v1->char_c.field_7DC;
        if ( v1->char_c.meta.cEffectSprite.x < (double)v722->meta.cEffectSprite.x && v722->meta.cEffectSprite.dir == 1 || v1->char_c.meta.cEffectSprite.x > (double)v722->meta.cEffectSprite.x && v722->meta.cEffectSprite.dir == -1 )
          v1->char_c.field_74C = -v1->char_c.field_7DC;
        v723 = v1->char_c.meta.viz.get_elaps_frames;
        if ( v723 < 4 )
          goto LABEL_1883;
        if ( v1->char_c.not_charge_attack && v723 < 90 )
        {
          if ( v1->char_c.down_C > 0u )
            goto LABEL_1949;
LABEL_1883:
          if ( v1->char_c.meta.viz.get_subseq == 2 )
          {
            v724 = v1->char_c.field_7DC - 0.4000000059604645;
            v1->char_c.field_7DC = v724;
            if ( v724 < 0.0 )
              v1->char_c.field_7DC = 0.0;
            v725 = v1->char_c.meta.enemy;
            v1->char_c.field_74C = v1->char_c.field_7DC;
            if ( v1->char_c.meta.cEffectSprite.dir == v725->meta.cEffectSprite.dir )
              v1->char_c.field_74C = -v1->char_c.field_7DC;
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames )
          {
            if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames )
            {
              if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
              if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 5 )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            }
          }
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
          {
            char_c::spell_energy_spend(&v1->char_c, 200, 120);
            char_c::add_card_energy(&v1->char_c, 50);
          }
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          {
            char_c::play_sfx(&v1->char_c, 20);
            v1->char_c.meta.field_190 = 1;
          }
          if ( v1->char_c.meta.viz.get_subseq == 2 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
          {
            char_c::play_sfx(&v1->char_c, 16);
            v726 = 0;
            v1176 = 0;
            do
            {
              *(float *)&v1304 = (double)(unsigned int)get_MT_range(30) + (double)v1176 + 30.0;
              v1305 = 10.0;
              v1306 = 2.0;
              v727 = *(float *)&v1304;
              if ( *(float *)&v1304 < 0.0 || v727 > 180.0 )
              {
                yh = -1;
                xk = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                a1k = v1->char_c.meta.cEffectSprite.y;
                v730 = (double)(120 * (char)xk) + v1->char_c.meta.cEffectSprite.x;
                v729 = v730;
              }
              else
              {
                yh = 1;
                xk = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                a1k = v1->char_c.meta.cEffectSprite.y;
                v728 = (double)(120 * (char)xk) + v1->char_c.meta.cEffectSprite.x;
                v729 = v728;
              }
              v731 = v729;
              addbullet(&v1->char_c, 817, v731, a1k, xk, yh, (int)&v1304, 3);
              v726 += 60;
              v1176 = v726;
            }
            while ( v726 < 360 );
          }
        }
        else
        {
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
          v1->char_c.meta.field_190 = 0;
        }
        return;
      case 551:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 10;
        if ( !v1->char_c.down_C )
          v1->char_c.not_charge_attack = 0;
        if ( !v1->char_c.meta.viz.get_subseq && v1->char_c.meta.viz.get_frame >= 4 )
        {
          v732 = v1->char_c.field_7DC + 0.2000000029802322;
          v1->char_c.field_7DC = v732;
          v733 = (double)(char)v1->char_c.skills_1[10] * 1.5 + 4.0;
          if ( v733 < v732 )
            v1->char_c.field_7DC = v733;
          v734 = v1->char_c.meta.enemy;
          v1->char_c.field_74C = v1->char_c.field_7DC;
          if ( v1->char_c.meta.cEffectSprite.x < (double)v734->meta.cEffectSprite.x && v734->meta.cEffectSprite.dir == 1 || v1->char_c.meta.cEffectSprite.x > (double)v734->meta.cEffectSprite.x && v734->meta.cEffectSprite.dir == -1 )
            v1->char_c.field_74C = -v1->char_c.field_7DC;
        }
        if ( v1->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1955;
        v735 = v1->char_c.field_7DC + 0.2000000029802322;
        v1->char_c.field_7DC = v735;
        v736 = 1.5 * (double)(char)v1->char_c.skills_1[10] + 4.0;
        if ( v736 < v735 )
          v1->char_c.field_7DC = v736;
        if ( !(v1->char_c.meta.viz.get_elaps_frames % 3) )
        {
          *(float *)&v1364 = (double)(unsigned int)get_MT_range(360);
          v1365 = (double)(unsigned int)get_MT_range(150) + 250.0;
          v1366 = 0.0;
          addbullet(&v1->char_c, 822, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1364, 3);
        }
        v737 = v1->char_c.meta.enemy;
        v1->char_c.field_74C = v1->char_c.field_7DC;
        if ( v1->char_c.meta.cEffectSprite.x < (double)v737->meta.cEffectSprite.x && v737->meta.cEffectSprite.dir == 1 || v1->char_c.meta.cEffectSprite.x > (double)v737->meta.cEffectSprite.x && v737->meta.cEffectSprite.dir == -1 )
          v1->char_c.field_74C = -v1->char_c.field_7DC;
        v738 = v1->char_c.meta.viz.get_elaps_frames;
        if ( v738 < 4 )
          goto LABEL_1955;
        if ( v1->char_c.not_charge_attack && v738 < 90 )
        {
          if ( v1->char_c.down_C <= 0u )
          {
LABEL_1955:
            if ( v1->char_c.meta.viz.get_subseq == 2 )
            {
              v741 = v1->char_c.field_7DC - 0.4000000059604645;
              v1->char_c.field_7DC = v741;
              if ( v741 < 0.0 )
                v1->char_c.field_7DC = 0.0;
              v742 = v1->char_c.meta.enemy;
              v1->char_c.field_74C = v1->char_c.field_7DC;
              if ( v1->char_c.meta.cEffectSprite.dir == v742->meta.cEffectSprite.dir )
                v1->char_c.field_74C = -v1->char_c.field_7DC;
            }
            if ( viz_process(&v1->char_c) )
              v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
            if ( !v1->char_c.meta.viz.get_elaps_frames )
            {
              if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
                v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
              if ( !v1->char_c.meta.viz.get_elaps_frames )
              {
                if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 4 )
                  v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
                if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 5 )
                  v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
              }
            }
            if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
            {
              char_c::spell_energy_spend(&v1->char_c, 200, 120);
              char_c::add_card_energy(&v1->char_c, 50);
            }
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::play_sfx(&v1->char_c, 20);
              v1->char_c.meta.field_190 = 1;
            }
            if ( v1->char_c.meta.viz.get_subseq == 2 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
            {
              char_c::play_sfx(&v1->char_c, 16);
              v743 = 0;
              v1177 = 0;
              do
              {
                *(float *)&v1310 = (double)(unsigned int)get_MT_range(30) + (double)v1177 + 30.0;
                v1311 = 10.0;
                v1312 = 2.0;
                v744 = *(float *)&v1310;
                if ( *(float *)&v1310 < 0.0 || v744 > 180.0 )
                {
                  yi = -1;
                  xl = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a1l = v1->char_c.meta.cEffectSprite.y;
                  v747 = (double)(120 * (char)xl) + v1->char_c.meta.cEffectSprite.x;
                  v746 = v747;
                }
                else
                {
                  yi = 1;
                  xl = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a1l = v1->char_c.meta.cEffectSprite.y;
                  v745 = (double)(120 * (char)xl) + v1->char_c.meta.cEffectSprite.x;
                  v746 = v745;
                }
                v748 = v746;
                addbullet(&v1->char_c, 817, v748, a1l, xl, yi, (int)&v1310, 3);
                v743 += 60;
                v1177 = v743;
              }
              while ( v743 < 360 );
            }
          }
          else
          {
LABEL_1949:
            v739 = v1->char_c.skills_1[10];
            v740 = 3;
            if ( (char)v739 >= 2 )
              v740 = 4;
            if ( (char)v739 >= 3 )
              v740 = 5;
            v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, v740);
            v1->char_c.meta.field_190 = 0;
          }
        }
        else
        {
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
          v1->char_c.meta.field_190 = 0;
        }
        return;
      case 560:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 3;
        if ( v1->char_c.meta.viz.get_subseq < 2 && !v1->char_c.down_B )
          v1->char_c.not_charge_attack = 0;
        if ( v1->char_c.field_7D0 != 1 )
          goto LABEL_2011;
        v749 = v1->char_c.field_7D2 % 6;
        if ( v1->char_c.meta.viz.get_subseq )
        {
          if ( v749 )
            goto LABEL_2010;
          v1->char_c.meta.field_190 = 1;
          v753 = v1->char_c.skills_1[3] >= 4;
          if ( v1->char_c.field_7D4 < v753 + 3 )
          {
            char_c::play_sfx(&v1->char_c, 14);
            v1154 = &v1376;
            *(float *)&v1376 = v1->char_c.field_7E4 - (double)v1->char_c.field_7D4 * 25.0 + 25.0;
            v1377 = 7.0;
            v1378 = 0.0;
            xm = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v754 = v1->char_c.meta.cEffectSprite.y + 180.0;
            a1m = v754;
            v755 = (double)(90 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
            v752 = v755;
            goto LABEL_2007;
          }
          if ( v1->char_c.field_7D6 < v753 + 2 )
          {
            char_c::play_sfx(&v1->char_c, 14);
            *(float *)&v1382 = v1->char_c.field_7E4 - (double)v1->char_c.field_7D6 * 25.0 + 12.5;
            v1383 = 7.0;
            v1384 = 0.0;
            v757 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v758 = v1->char_c.meta.cEffectSprite.y + 180.0;
            v759 = v758;
            v760 = (double)(90 * (char)v757) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 825, v760, v759, v757, 1, (int)&v1382, 3);
            ++v1->char_c.field_7D6;
          }
        }
        else if ( !v749 )
        {
          v1->char_c.meta.field_190 = 1;
          if ( v1->char_c.field_7D4 < (v1->char_c.skills_1[3] >= 4) + 3 )
          {
            char_c::play_sfx(&v1->char_c, 14);
            v1154 = (int *)&v1370;
            v1370 = v1->char_c.field_7E4 - (double)v1->char_c.field_7D4 * 25.0 + 25.0;
            v1371 = 7.0;
            v1372 = 0.0;
            xm = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v750 = v1->char_c.meta.cEffectSprite.y + 180.0;
            a1m = v750;
            v751 = (double)(90 * (char)xm) + v1->char_c.meta.cEffectSprite.x;
            v752 = v751;
LABEL_2007:
            v756 = v752;
            addbullet(&v1->char_c, 825, v756, a1m, xm, 1, (int)v1154, 3);
            ++v1->char_c.field_7D4;
            goto LABEL_2010;
          }
        }
LABEL_2010:
        ++v1->char_c.field_7D2;
LABEL_2011:
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          goto LABEL_1064;
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
        {
          if ( v1->char_c.meta.viz.get_frame == 3 && v1->char_c.not_charge_attack )
          {
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v761 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v762 = v1->char_c.meta.cEffectSprite.y + 135.0;
            v763 = v762;
            v764 = (double)(10 * (char)v761) + v1->char_c.meta.cEffectSprite.x;
            scene_add_effect(&v1->char_c, 62, v764, v763, v761, 1);
            return;
          }
          if ( v1->char_c.meta.viz.get_frame == 5 )
          {
            v1->char_c.field_7D0 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 120);
            char_c::add_card_energy(&v1->char_c, 50);
            v765 = v1->char_c.meta.enemy;
            v766 = (v765->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
            v767 = v766;
            v768 = v765->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
            v769 = -atan2_deg(v768, v767);
            v1->char_c.field_7E4 = v769;
            if ( v769 < -20.0 )
              v1->char_c.field_7E4 = -20.0;
            if ( v1->char_c.field_7E4 > 10.0 )
              v1->char_c.field_7E4 = 10.0;
          }
        }
        if ( v1->char_c.meta.viz.get_subseq != 1 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame != 2 )
          return;
        v1->char_c.field_7D0 = 1;
        char_c::spell_energy_spend(&v1->char_c, 200, 120);
        char_c::add_card_energy(&v1->char_c, 50);
        v770 = v1->char_c.meta.enemy;
        v771 = (v770->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
        v772 = v771;
        v773 = v770->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
        v774 = -atan2_deg(v773, v772);
        v775 = v774;
        goto LABEL_2066;
      case 561:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 3;
        if ( v1->char_c.meta.viz.get_subseq < 2 && !v1->char_c.down_C )
          v1->char_c.not_charge_attack = 0;
        if ( v1->char_c.field_7D0 != 1 )
          goto LABEL_2046;
        v776 = v1->char_c.field_7D2 % 6;
        if ( v1->char_c.meta.viz.get_subseq )
        {
          if ( v776 )
            goto LABEL_2045;
          v1->char_c.meta.field_190 = 1;
          v780 = v1->char_c.skills_1[3] >= 4;
          if ( v1->char_c.field_7D4 < v780 + 3 )
          {
            char_c::play_sfx(&v1->char_c, 14);
            v1155 = &v1394;
            *(float *)&v1394 = v1->char_c.field_7E4 - (double)v1->char_c.field_7D4 * 25.0 - 25.0;
            v1395 = 7.0;
            v1396 = 0.0;
            xn = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v781 = v1->char_c.meta.cEffectSprite.y + 180.0;
            a1n = v781;
            v782 = (double)(90 * v1->char_c.meta.cEffectSprite.dir) + v1->char_c.meta.cEffectSprite.x;
            v779 = v782;
            goto LABEL_2042;
          }
          if ( v1->char_c.field_7D6 < v780 + 2 )
          {
            char_c::play_sfx(&v1->char_c, 14);
            *(float *)&v1400 = v1->char_c.field_7E4 - (double)v1->char_c.field_7D6 * 25.0 - 37.5;
            v1401 = 7.0;
            v1402 = 0.0;
            v784 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v785 = v1->char_c.meta.cEffectSprite.y + 180.0;
            v786 = v785;
            v787 = (double)(90 * (char)v784) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 825, v787, v786, v784, 1, (int)&v1400, 3);
            ++v1->char_c.field_7D6;
          }
        }
        else if ( !v776 )
        {
          v1->char_c.meta.field_190 = 1;
          if ( v1->char_c.field_7D4 < (v1->char_c.skills_1[3] >= 4) + 3 )
          {
            char_c::play_sfx(&v1->char_c, 14);
            v1155 = (int *)&v1388;
            v1388 = v1->char_c.field_7E4 - (double)v1->char_c.field_7D4 * 25.0 - 25.0;
            v1389 = 7.0;
            v1390 = 0.0;
            xn = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v777 = v1->char_c.meta.cEffectSprite.y + 180.0;
            a1n = v777;
            v778 = (double)(90 * (char)xn) + v1->char_c.meta.cEffectSprite.x;
            v779 = v778;
LABEL_2042:
            v783 = v779;
            addbullet(&v1->char_c, 825, v783, a1n, xn, 1, (int)v1155, 3);
            ++v1->char_c.field_7D4;
            goto LABEL_2045;
          }
        }
LABEL_2045:
        ++v1->char_c.field_7D2;
LABEL_2046:
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
LABEL_1064:
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          return;
        }
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
        {
          if ( v1->char_c.meta.viz.get_frame == 3 && v1->char_c.not_charge_attack )
          {
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            v788 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v789 = v1->char_c.meta.cEffectSprite.y + 135.0;
            v790 = v789;
            v791 = (double)(10 * (char)v788) + v1->char_c.meta.cEffectSprite.x;
            scene_add_effect(&v1->char_c, 62, v791, v790, v788, 1);
            return;
          }
          if ( v1->char_c.meta.viz.get_frame == 5 )
          {
            v1->char_c.field_7D0 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 120);
            char_c::add_card_energy(&v1->char_c, 50);
            v792 = v1->char_c.meta.enemy;
            v793 = (v792->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
            v794 = v793;
            v795 = v792->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
            v796 = -atan2_deg(v795, v794);
            v1->char_c.field_7E4 = v796;
            if ( v796 < -20.0 )
              v1->char_c.field_7E4 = -20.0;
            if ( v1->char_c.field_7E4 > 10.0 )
              v1->char_c.field_7E4 = 10.0;
          }
        }
        if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
        {
          v1->char_c.field_7D0 = 1;
          char_c::spell_energy_spend(&v1->char_c, 200, 120);
          char_c::add_card_energy(&v1->char_c, 50);
          v797 = v1->char_c.meta.enemy;
          v798 = (v797->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
          v799 = v798;
          v800 = v797->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
          v801 = -atan2_deg(v800, v799);
          v775 = v801;
LABEL_2066:
          v1->char_c.field_7E4 = v775;
          if ( v775 < -20.0 )
            v1->char_c.field_7E4 = -20.0;
          if ( v1->char_c.field_7E4 > 10.0 )
            v1->char_c.field_7E4 = 10.0;
          return;
        }
        break;
      case 562:
        if ( v1->char_c.meta.viz.get_subseq == 5 )
          char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 3;
        v802 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
        v1->char_c.meta.cEffectSprite.v_inerc = v802;
        v803 = v802 + v1->char_c.meta.cEffectSprite.y;
        if ( c_meta::getlvl_height(&v1->char_c) >= v803 && v1->char_c.meta.cEffectSprite.v_inerc < 0.0 && v1->char_c.meta.viz.get_subseq < 5 )
        {
          v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
          goto LABEL_2182;
        }
        if ( v1->char_c.meta.viz.get_subseq < 2 && !v1->char_c.down_C )
          v1->char_c.not_charge_attack = 0;
        v804 = v1->char_c.field_7D0;
        if ( v804 > 0 )
        {
          v805 = v1->char_c.meta.viz.get_subseq;
          if ( v805 == 2 || v805 == 3 )
          {
            if ( v804 % 4 == 1 )
            {
              char_c::add_card_energy(&v1->char_c, 10);
              v1->char_c.meta.field_190 = 1;
              v806 = v1->char_c.meta.enemy;
              v807 = (v806->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
              v808 = v807;
              v809 = v806->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
              v810 = -(signed __int16)(signed int)atan2_deg(v809, v808);
              v1->char_c.field_7D4 = v810;
              if ( v810 < -10 )
                v1->char_c.field_7D4 = -10;
              if ( v1->char_c.field_7D4 > 10 )
                v1->char_c.field_7D4 = 10;
              char_c::play_sfx(&v1->char_c, 9);
              if ( v1->char_c.field_7D8 == 1 )
              {
                v811 = (double)v1->char_c.field_7D4 + 30.0;
                v1406 = v811 - (double)(MT_getnext() % 0x3Cu);
                v1407 = 15.0;
                v1408 = (double)(unsigned int)get_MT_range(4);
                v1156 = (int *)&v1406;
              }
              else
              {
                v816 = (double)v1->char_c.field_7D4 + 30.0;
                *(float *)&v1412 = v816 - (double)(MT_getnext() % 0x3Cu);
                v1413 = 15.0;
                v1414 = (double)(unsigned int)get_MT_range(4);
                v1156 = &v1412;
              }
              v812 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v813 = v1->char_c.meta.cEffectSprite.y + 85.0;
              v814 = v813;
              v815 = (double)(44 * (char)v812) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 808, v815, v814, v812, 1, (int)v1156, 3);
            }
            ++v1->char_c.field_7D0;
          }
        }
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        v817 = v1->char_c.meta.viz.get_elaps_frames;
        if ( !v817 && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 5 )
        {
LABEL_995:
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
          return;
        }
        if ( v1->char_c.meta.viz.get_subseq == 1 && v817 > 4 && (!v1->char_c.not_charge_attack || v817 > 25) )
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          if ( v1->char_c.not_charge_attack == 1 )
          {
            v818 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v819 = v1->char_c.meta.cEffectSprite.y + 107.0;
            v820 = v819;
            v821 = v1->char_c.meta.cEffectSprite.x - (double)(23 * (char)v818);
            scene_add_effect(&v1->char_c, 62, v821, v820, v818, 1);
          }
          *(float *)&v1418 = 0.0;
          v1419 = 0.0;
          v1420 = 4.0;
          v822 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v823 = v1->char_c.meta.cEffectSprite.y + 107.0;
          v824 = v823;
          v825 = v1->char_c.meta.cEffectSprite.x - (double)(23 * (char)v822);
          addbullet(&v1->char_c, 808, v825, v824, v822, 1, (int)&v1418, 3);
        }
        if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_frame == 2 && !v1->char_c.meta.viz.get_frame_time )
        {
          v1->char_c.field_7D0 = 1;
          char_c::spell_energy_spend(&v1->char_c, 200, 120);
        }
        if ( v1->char_c.meta.viz.get_subseq == 3 )
        {
          v826 = v1->char_c.meta.viz.get_elaps_frames;
          if ( v826 > 10 && !v1->char_c.not_charge_attack || v826 > 25 )
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
        }
        goto LABEL_2215;
      case 565:
        char_c::sub10func(&v1->char_c);
        if ( !v1->char_c.down_B )
          v1->char_c.not_charge_attack = 0;
        if ( v1->char_c.field_7D0 == 1 )
        {
          if ( !v1->char_c.meta.viz.get_subseq )
          {
            if ( !(v1->char_c.field_7D2 % 5) && v1->char_c.field_7D4 < 1 )
            {
              char_c::play_sfx(&v1->char_c, 14);
              *(float *)&v1424 = (double)v1->char_c.field_7D4 * -60.0;
              v1425 = 7.0;
              v1426 = 0.0;
              v827 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v828 = v1->char_c.meta.cEffectSprite.y + 180.0;
              v829 = v828;
              v830 = (double)(90 * (char)v827) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 827, v830, v829, v827, 1, (int)&v1424, 3);
              ++v1->char_c.field_7D4;
            }
            ++v1->char_c.field_7D2;
          }
          if ( v1->char_c.meta.viz.get_subseq == 1 )
          {
            if ( !(v1->char_c.field_7D2 % 5) && v1->char_c.field_7D4 < 2 )
            {
              char_c::play_sfx(&v1->char_c, 14);
              *(float *)&v1430 = 45.0 - (double)v1->char_c.field_7D4 * 90.0;
              v1431 = 7.0;
              v1432 = 0.0;
              v831 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v832 = v1->char_c.meta.cEffectSprite.y + 180.0;
              v833 = v832;
              v834 = (double)(90 * (char)v831) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 827, v834, v833, v831, 1, (int)&v1430, 3);
              ++v1->char_c.field_7D4;
            }
            ++v1->char_c.field_7D2;
          }
        }
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
          goto LABEL_2171;
        if ( v1->char_c.meta.viz.get_frame != 3 || !v1->char_c.not_charge_attack )
          goto LABEL_2169;
        ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
        v835 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
        v836 = v1->char_c.meta.cEffectSprite.y + 135.0;
        v837 = v836;
        v838 = (double)(10 * (char)v835) + v1->char_c.meta.cEffectSprite.x;
        scene_add_effect(&v1->char_c, 62, v838, v837, v835, 1);
        return;
      case 566:
        char_c::sub10func(&v1->char_c);
        if ( !v1->char_c.down_C )
          v1->char_c.not_charge_attack = 0;
        if ( v1->char_c.field_7D0 == 1 )
        {
          if ( !v1->char_c.meta.viz.get_subseq )
          {
            if ( !(v1->char_c.field_7D2 % 5) && v1->char_c.field_7D4 < 1 )
            {
              char_c::play_sfx(&v1->char_c, 14);
              *(float *)&v1436 = (double)v1->char_c.field_7D4 * -60.0;
              v1437 = 7.0;
              v1438 = 0.0;
              v839 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v840 = v1->char_c.meta.cEffectSprite.y + 180.0;
              v841 = v840;
              v842 = (double)(90 * (char)v839) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 827, v842, v841, v839, 1, (int)&v1436, 3);
              ++v1->char_c.field_7D4;
            }
            ++v1->char_c.field_7D2;
          }
          if ( v1->char_c.meta.viz.get_subseq == 1 )
          {
            if ( !(v1->char_c.field_7D2 % 5) && v1->char_c.field_7D4 < 2 )
            {
              char_c::play_sfx(&v1->char_c, 14);
              *(float *)&v1442 = 45.0 - (double)v1->char_c.field_7D4 * 90.0;
              v1443 = 7.0;
              v1444 = 0.0;
              v843 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v844 = v1->char_c.meta.cEffectSprite.y + 180.0;
              v845 = v844;
              v846 = (double)(90 * (char)v843) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 827, v846, v845, v843, 1, (int)&v1442, 3);
              ++v1->char_c.field_7D4;
            }
            ++v1->char_c.field_7D2;
          }
        }
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.viz.get_frame_time )
          goto LABEL_2171;
        if ( v1->char_c.meta.viz.get_frame == 3 && v1->char_c.not_charge_attack )
        {
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
          v847 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v848 = v1->char_c.meta.cEffectSprite.y + 135.0;
          v849 = v848;
          v850 = (double)(10 * (char)v847) + v1->char_c.meta.cEffectSprite.x;
          scene_add_effect(&v1->char_c, 62, v850, v849, v847, 1);
        }
        else
        {
LABEL_2169:
          if ( v1->char_c.meta.viz.get_frame == 4 )
          {
            v1->char_c.field_7D0 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 120);
            char_c::add_card_energy(&v1->char_c, 50);
          }
LABEL_2171:
          if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
          {
            v1->char_c.field_7D0 = 1;
LABEL_2175:
            char_c::spell_energy_spend(&v1->char_c, 200, 120);
            char_c::add_card_energy(&v1->char_c, 50);
          }
        }
        return;
      case 567:
        if ( v1->char_c.meta.viz.get_subseq == 5 )
          char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 7;
        v851 = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
        v1->char_c.meta.cEffectSprite.v_inerc = v851;
        v852 = v851 + v1->char_c.meta.cEffectSprite.y;
        if ( c_meta::getlvl_height(&v1->char_c) < v852 || v1->char_c.meta.cEffectSprite.v_inerc >= 0.0 || v1->char_c.meta.viz.get_subseq >= 5 )
        {
          if ( v1->char_c.meta.viz.get_subseq < 2 && !v1->char_c.down_C )
            v1->char_c.not_charge_attack = 0;
          if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_frame == 2 && !v1->char_c.meta.viz.get_frame_time )
          {
            v853 = v1->char_c.meta.enemy;
            v854 = (v853->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
            v855 = v854;
            v856 = v853->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
            v857 = -(signed __int16)(signed int)atan2_deg(v856, v855);
            v1->char_c.field_7D4 = v857;
            if ( v857 < -10 )
              v1->char_c.field_7D4 = -10;
            if ( v1->char_c.field_7D4 > 10 )
              v1->char_c.field_7D4 = 10;
            char_c::play_sfx(&v1->char_c, 29);
            v1->char_c.meta.field_190 = 1;
            char_c::spell_energy_spend(&v1->char_c, 200, 60);
            char_c::add_card_energy(&v1->char_c, 50);
            *(float *)&v1343 = 0.0;
            v1344 = 0.0;
            v1345 = 0.0;
            v858 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v859 = v1->char_c.meta.cEffectSprite.y + 104.0;
            v860 = v859;
            v861 = (double)(48 * (char)v858) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 824, v861, v860, v858, 1, (int)&v1343, 3);
          }
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          {
            *(float *)&v1448 = 0.0;
            v1449 = 0.0;
            v1450 = 4.0;
            v862 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v863 = v1->char_c.meta.cEffectSprite.y + 104.0;
            v864 = v863;
            v865 = v1->char_c.meta.cEffectSprite.x - (double)(48 * (char)v862);
            addbullet(&v1->char_c, 824, v865, v864, v862, 1, (int)&v1448, 3);
          }
          v866 = v1->char_c.meta.viz.get_elaps_frames;
          if ( v866 || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 5 )
          {
            if ( v1->char_c.meta.viz.get_subseq == 1 && v866 > 10 && (!v1->char_c.not_charge_attack || v866 > 25) )
              ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            if ( v1->char_c.meta.viz.get_subseq == 3 && v1->char_c.meta.viz.get_elaps_frames > 40 )
              ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
LABEL_2215:
            if ( v1->char_c.meta.viz.get_subseq == 4 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
              v1->char_c.meta.cEffectSprite.v_force = 0.60000002;
          }
          else
          {
LABEL_1607:
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 9);
          }
        }
        else
        {
          v1->char_c.meta.vtbl->set_subseq_func3(&v1->char_c.meta, 5);
LABEL_2182:
          v1->char_c.meta.cEffectSprite.v_force = 0.0;
LABEL_2183:
          v1->char_c.air_dash_cnt = 0;
LABEL_2184:
          v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
          char_c::reset_forces(&v1->char_c);
        }
        return;
      case 570:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 11;
        if ( !v1->char_c.down_B )
          v1->char_c.not_charge_attack = 0;
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
        {
          char_c::spell_energy_spend(&v1->char_c, 200, 120);
          char_c::add_card_energy(&v1->char_c, 50);
          v1->char_c.meta.field_190 = 1;
          char_c::play_sfx(&v1->char_c, 21);
          v867 = 0;
          v1178 = 0;
          do
          {
            *(float *)&v1219 = (double)(unsigned int)get_MT_range(30) + (double)v1178 + 30.0;
            v1220 = 10.0;
            v1221 = 2.0;
            v868 = *(float *)&v1219;
            if ( *(float *)&v1219 < 0.0 || v868 > 180.0 )
            {
              yj = -1;
              xo = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              a1o = v1->char_c.meta.cEffectSprite.y;
              v871 = (double)(180 * (char)xo) + v1->char_c.meta.cEffectSprite.x;
              v870 = v871;
            }
            else
            {
              yj = 1;
              xo = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              a1o = v1->char_c.meta.cEffectSprite.y;
              v869 = (double)(180 * (char)xo) + v1->char_c.meta.cEffectSprite.x;
              v870 = v869;
            }
            v872 = v870;
            addbullet(&v1->char_c, 817, v872, a1o, xo, yj, (int)&v1219, 3);
            v867 += 60;
            v1178 = v867;
          }
          while ( v867 < 360 );
          *(float *)&v1219 = 0.0;
          v1220 = 0.0;
          v1221 = 0.0;
          addbullet(&v1->char_c, 830, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1219, 3);
          v1->field_894 = 2;
          *(float *)&v1219 = 0.0;
          v1220 = 88.0;
          v1221 = 4.0;
          v873 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v874 = (double)(84 * (char)v873) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 801, v874, v1->char_c.meta.cEffectSprite.y, v873, -1, (int)&v1219, 3);
          *(float *)&v1219 = (double)(unsigned int)get_MT_range(80) - 40.0;
          v1220 = (double)(unsigned int)get_MT_range(80) - 40.0;
          v875 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v876 = (double)(84 * (char)v875) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 801, v876, v1->char_c.meta.cEffectSprite.y, v875, 1, (int)&v1219, 3);
          *(float *)&v1219 = (double)(unsigned int)get_MT_range(80) - 40.0;
          v1220 = (double)(unsigned int)get_MT_range(80) - 40.0;
          v877 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v878 = (double)(84 * (char)v877) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 801, v878, v1->char_c.meta.cEffectSprite.y, v877, 1, (int)&v1219, 3);
        }
        return;
      case 571:
        char_c::sub10func(&v1->char_c);
        v1->char_c.meta.field_18C = 11;
        if ( !v1->char_c.down_B )
          v1->char_c.not_charge_attack = 0;
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 11 )
        {
          char_c::spell_energy_spend(&v1->char_c, 200, 120);
          char_c::add_card_energy(&v1->char_c, 50);
          v1->char_c.meta.field_190 = 1;
          char_c::play_sfx(&v1->char_c, 21);
          v879 = 0;
          v1179 = 0;
          do
          {
            *(float *)&v1225 = (double)(unsigned int)get_MT_range(30) + (double)v1179 + 30.0;
            v1226 = 10.0;
            v1227 = 2.0;
            v880 = *(float *)&v1225;
            if ( *(float *)&v1225 < 0.0 || v880 > 180.0 )
            {
              yk = -1;
              xp = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              a1p = v1->char_c.meta.cEffectSprite.y;
              v883 = (double)(180 * (char)xp) + v1->char_c.meta.cEffectSprite.x;
              v882 = v883;
            }
            else
            {
              yk = 1;
              xp = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              a1p = v1->char_c.meta.cEffectSprite.y;
              v881 = (double)(180 * (char)xp) + v1->char_c.meta.cEffectSprite.x;
              v882 = v881;
            }
            v884 = v882;
            addbullet(&v1->char_c, 817, v884, a1p, xp, yk, (int)&v1225, 3);
            v879 += 60;
            v1179 = v879;
          }
          while ( v879 < 360 );
          *(float *)&v1225 = 0.0;
          v1226 = 0.0;
          v1227 = 5.0;
          addbullet(&v1->char_c, 830, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1225, 3);
          v1->field_894 = 2;
          *(float *)&v1225 = 0.0;
          v1226 = 88.0;
          v1227 = 4.0;
          v885 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v886 = (double)(84 * (char)v885) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 801, v886, v1->char_c.meta.cEffectSprite.y, v885, -1, (int)&v1225, 3);
          *(float *)&v1225 = (double)(unsigned int)get_MT_range(80) - 40.0;
          v1226 = (double)(unsigned int)get_MT_range(80) - 40.0;
          v887 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v888 = (double)(84 * (char)v887) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 801, v888, v1->char_c.meta.cEffectSprite.y, v887, 1, (int)&v1225, 3);
          *(float *)&v1225 = (double)(unsigned int)get_MT_range(80) - 40.0;
          v1226 = (double)(unsigned int)get_MT_range(80) - 40.0;
          v889 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v890 = (double)(84 * (char)v889) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 801, v890, v1->char_c.meta.cEffectSprite.y, v889, 1, (int)&v1225, 3);
        }
        return;
      case 600:
        v891 = v1->char_c.meta.viz.get_subseq;
        if ( !v891 && v1->char_c.meta.viz.get_frame >= 10 || v891 == 1 || v891 == 4 )
          char_c::sub10func(&v1->char_c);
        char_c::sub_46AB50(&v1->char_c, 4, 2);
        if ( v1->char_c.meta.viz.get_subseq == 1 )
        {
          v892 = v1->char_c.meta.cEffectSprite.field_F8 + v1->char_c.meta.cEffectSprite.h_inerc;
          v1->char_c.meta.cEffectSprite.h_inerc = v892;
          if ( v892 > 25.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 17.5;
          v97 = 0;
          if ( v1->char_c.meta.field_190 )
          {
            if ( ++v1->char_c.field_7D0 >= 10 )
            {
              v1->char_c.field_7D0 = 0;
              v1->char_c.meta.field_194 = 1;
              v1->char_c.meta.field_190 = 0;
            }
          }
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) )
          {
            *(float *)&v1454 = -45.0 - (double)(unsigned int)get_MT_range(90);
            v1455 = (double)(unsigned int)get_MT_range(5) + 5.0;
            v1456 = 1.0;
            v893 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v894 = (double)(80 * (char)v893) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 850, v894, v1->char_c.meta.cEffectSprite.y, v893, 1, (int)&v1454, 3);
          }
          if ( v1->char_c.meta.viz.get_elaps_frames >= 50 )
          {
            v1->char_c.meta.field_194 = 1;
            v1->char_c.meta.field_190 = 0;
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            return;
          }
        }
        else
        {
          v97 = 0;
        }
        if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_frame <= 1 )
        {
          v895 = v1->char_c.meta.cEffectSprite.h_inerc - 1.0;
          v1->char_c.meta.cEffectSprite.h_inerc = v895;
          if ( v895 < 0.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          *(float *)&v1460 = -10.0 - (double)(unsigned int)get_MT_range(60);
          v1461 = (double)(unsigned int)get_MT_range(5) + 10.0;
          v1462 = 1.0;
          v896 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v897 = (double)(80 * (char)v896) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 850, v897, v1->char_c.meta.cEffectSprite.y, v896, 1, (int)&v1460, 3);
        }
        if ( v1->char_c.meta.viz.get_subseq == 3 && (v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force, (unsigned __int8)char_c::char_on_ground_down(&v1->char_c)) )
        {
LABEL_2370:
          char_c::reset_forces(&v1->char_c);
          v1->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v1->char_c);
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
        }
        else if ( viz_process(&v1->char_c) )
        {
LABEL_2271:
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, v97);
          char_c::reset_forces(&v1->char_c);
        }
        else
        {
          if ( v1->char_c.meta.viz.get_subseq == (_WORD)v97 && v1->char_c.meta.viz.get_frame_time == (_WORD)v97 )
          {
            if ( v1->char_c.meta.viz.get_frame == 2 )
            {
              v1->char_c.field_4A6 = 40;
              scene_play_sfx(23);
              v898 = v1->char_c.meta.cEffectSprite.y + 100.0;
              scene_add_effect(&v1->char_c, 115, v1->char_c.meta.cEffectSprite.x, v898, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              char_c::sub_469450(&v1->char_c, 0, 0, 60);
              char_c::sub_483570(&v1->char_c);
              weather_forecast_next();
            }
            if ( v1->char_c.meta.viz.get_frame_time == (_WORD)v97 && v1->char_c.meta.viz.get_frame == 11 )
            {
              v1->char_c.meta.cEffectSprite.h_inerc = 5.0;
              v1->char_c.meta.cEffectSprite.field_F8 = 1.0;
              char_c::play_sfx(&v1->char_c, 50);
            }
          }
          if ( !v1->char_c.meta.viz.get_elaps_frames && v1->char_c.meta.viz.get_frame_time == (_WORD)v97 && v1->char_c.meta.viz.get_frame == (_WORD)v97 && v1->char_c.meta.viz.get_subseq == 3 )
          {
            v899 = -10.0;
LABEL_2382:
            v1->char_c.meta.cEffectSprite.h_inerc = v899;
            v1->char_c.meta.cEffectSprite.v_inerc = 8.0;
            v1->char_c.meta.cEffectSprite.v_force = 0.75;
          }
        }
        return;
      case 601:
        char_c::sub_46AB50(&v1->char_c, 4, 2);
        char_c::sub10func(&v1->char_c);
        if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.field_190 != 1 )
        {
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 2 )
            {
              v1->char_c.field_4A6 = 40;
              scene_play_sfx(23);
              v902 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v903 = v1->char_c.meta.cEffectSprite.y + 73.0;
              v904 = v903;
              v905 = (double)(71 * (char)v902) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 115, v905, v904, v902, 1);
              char_c::sub_469450(&v1->char_c, 0, 0, 60);
              char_c::sub_483570(&v1->char_c);
              weather_forecast_next();
            }
            if ( !v1->char_c.meta.viz.get_frame_time )
            {
              if ( v1->char_c.meta.viz.get_frame == 4 )
                v1->char_c.meta.cEffectSprite.h_inerc = 20.0;
              if ( !v1->char_c.meta.viz.get_frame_time )
              {
                if ( v1->char_c.meta.viz.get_frame == 7 )
                {
                  v906 = 0;
                  v1180 = 0;
                  do
                  {
                    *(float *)&v1316 = (double)(unsigned int)get_MT_range(40) + (double)v1180 + 30.0;
                    v1317 = 13.0;
                    v1318 = 2.0;
                    v907 = *(float *)&v1316;
                    if ( *(float *)&v1316 < 0.0 || v907 > 180.0 )
                    {
                      yl = -1;
                      xq = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                      a1q = v1->char_c.meta.cEffectSprite.y;
                      v910 = (double)(120 * (char)xq) + v1->char_c.meta.cEffectSprite.x;
                      v909 = v910;
                    }
                    else
                    {
                      yl = 1;
                      xq = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                      a1q = v1->char_c.meta.cEffectSprite.y;
                      v908 = (double)(120 * (char)xq) + v1->char_c.meta.cEffectSprite.x;
                      v909 = v908;
                    }
                    v911 = v909;
                    addbullet(&v1->char_c, 817, v911, a1q, xq, yl, (int)&v1316, 3);
                    v906 += 45;
                    v1180 = v906;
                  }
                  while ( v906 < 360 );
                }
                if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 8 )
                  v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
              }
            }
          }
          if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 3 )
              char_c::play_sfx(&v1->char_c, 51);
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 14 )
            {
              v912 = (double)v1->char_c.meta.enemy->meta.health * 0.5;
              v1->char_c.field_7DC = v912;
              if ( v912 <= 1.0 )
                v1->char_c.field_7DC = 0.0;
              sub_464110(&v1->char_c, (signed int)v1->char_c.field_7DC, 850, 1, 0);
              v1->char_c.meta.enemy->meta.field_1A4 = 35.0;
              v1->char_c.meta.enemy->meta.field_1A8 = 15.0;
              v1->char_c.meta.enemy->damage_limit = 100;
              ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(74);
              char_c::play_sfx(&v1->char_c, 52);
              shake_camera(20.0);
              v913 = v1->char_c.meta.enemy;
              v914 = v913->meta.cEffectSprite.y + 100.0;
              scene_add_effect(&v1->char_c, 12, v913->meta.cEffectSprite.x, v914, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
              v915 = 0;
              v1181 = 0;
              do
              {
                *(float *)&v1322 = (double)(unsigned int)get_MT_range(40) + (double)v1181 + 30.0;
                v1323 = 13.0;
                v1324 = 2.0;
                v916 = *(float *)&v1322;
                if ( *(float *)&v1322 < 0.0 || v916 > 180.0 )
                {
                  ym = -1;
                  xr = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a1r = v1->char_c.meta.cEffectSprite.y;
                  v919 = (double)(120 * (char)xr) + v1->char_c.meta.cEffectSprite.x;
                  v918 = v919;
                }
                else
                {
                  ym = 1;
                  xr = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a1r = v1->char_c.meta.cEffectSprite.y;
                  v917 = (double)(120 * (char)xr) + v1->char_c.meta.cEffectSprite.x;
                  v918 = v917;
                }
                v920 = v918;
                addbullet(&v1->char_c, 817, v920, a1r, xr, ym, (int)&v1322, 3);
                v915 += 45;
                v1181 = v915;
              }
              while ( v915 < 360 );
            }
          }
        }
        else
        {
          *(float *)&v1466 = 0.0;
          v1467 = 0.0;
          v1468 = 1.0;
          v900 = v1->char_c.meta.enemy;
          v901 = v900->meta.cEffectSprite.y + 100.0;
          addbullet(&v1->char_c, 851, v900->meta.cEffectSprite.x, v901, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1466, 3);
          ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(102);
          char_c::reset_forces(v1->char_c.meta.enemy);
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
        }
        return;
      case 602:
        char_c::sub_46AB50(&v1->char_c, 4, 2);
        char_c::sub10func(&v1->char_c);
        if ( v1->char_c.field_7D0 == 1 && !v1->char_c.meta.viz.get_subseq )
        {
          if ( !(v1->char_c.field_7D2 % 5) )
          {
            v1->char_c.meta.field_190 = 1;
            v921 = v1->char_c.meta.enemy;
            v922 = (v921->meta.cEffectSprite.x - v1->char_c.meta.cEffectSprite.x) * (double)v1->char_c.meta.cEffectSprite.dir;
            v923 = v922;
            v924 = v921->meta.cEffectSprite.y - v1->char_c.meta.cEffectSprite.y;
            v925 = -atan2_deg(v924, v923);
            v1->char_c.field_7E4 = v925;
            if ( v925 < -10.0 )
              v1->char_c.field_7E4 = -10.0;
            if ( v1->char_c.field_7E4 > 10.0 )
              v1->char_c.field_7E4 = 10.0;
            char_c::play_sfx(&v1->char_c, 14);
            v926 = v1->char_c.field_7D4;
            if ( v926 < 5 )
            {
              *(float *)&v1472 = v1->char_c.field_7E4 - (double)v926 * 18.0 + 25.0;
              v1473 = 7.0;
              v1474 = 0.0;
              v927 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v928 = v1->char_c.meta.cEffectSprite.y + 180.0;
              v929 = v928;
              v930 = (double)(90 * (char)v927) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 852, v930, v929, v927, 1, (int)&v1472, 3);
              ++v1->char_c.field_7D4;
            }
          }
          ++v1->char_c.field_7D2;
        }
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
        {
          if ( v1->char_c.meta.viz.get_frame == 2 )
          {
            v1->char_c.field_4A6 = 40;
            scene_play_sfx(23);
            v931 = v1->char_c.meta.cEffectSprite.y + 140.0;
            scene_add_effect(&v1->char_c, 115, v1->char_c.meta.cEffectSprite.x, v931, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
            char_c::sub_469450(&v1->char_c, 0, 0, 60);
            char_c::sub_483570(&v1->char_c);
            weather_forecast_next();
          }
          if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
            v1->char_c.field_7D0 = 1;
        }
        return;
      case 603:
        v932 = v1->char_c.meta.viz.get_subseq;
        if ( !v932 && v1->char_c.meta.viz.get_frame >= 10 || v932 == 1 || v932 == 4 )
          char_c::sub10func(&v1->char_c);
        char_c::sub_46AB50(&v1->char_c, 4, 2);
        if ( v1->char_c.meta.viz.get_subseq == 1 )
        {
          v933 = v1->char_c.meta.cEffectSprite.h_inerc + 0.1000000014901161;
          v1->char_c.meta.cEffectSprite.h_inerc = v933;
          if ( v933 > 4.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 3.0;
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 2) )
          {
            *(float *)&v1478 = -45.0 - (double)(unsigned int)get_MT_range(90);
            v1479 = (double)(unsigned int)get_MT_range(5) + 5.0;
            v1480 = 3.0;
            v934 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v935 = (double)(80 * (char)v934) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 853, v935, v1->char_c.meta.cEffectSprite.y, v934, 1, (int)&v1478, 3);
          }
          if ( !(v1->char_c.meta.viz.get_elaps_frames % 4) && v1->char_c.meta.viz.get_elaps_frames <= 120 )
          {
            *(float *)&v1346 = (double)(unsigned int)get_MT_range(12) + 6.0;
            v936 = get_MT_range(8);
            v1347 = (double)(unsigned int)v936 + 2.0;
            v1348 = 0.0;
            LOBYTE(v936) = v1->char_c.meta.cEffectSprite.dir;
            if ( (_BYTE)v936 == 1 )
            {
              xs = 1;
              v937 = (double)(unsigned int)get_MT_range(300) + v1->char_c.meta.cEffectSprite.y + 20.0;
              a1s = v937;
              v1182 = flt_88563C - 50.0;
            }
            else
            {
              xs = v936;
              v938 = (double)(unsigned int)get_MT_range(300) + v1->char_c.meta.cEffectSprite.y + 20.0;
              a1s = v938;
              v1182 = flt_885644 + 50.0;
            }
            addbullet(&v1->char_c, 853, v1182, a1s, xs, 1, (int)&v1346, 3);
          }
          if ( v1->char_c.meta.viz.get_elaps_frames >= 150 )
            goto LABEL_2433;
        }
        if ( v1->char_c.meta.viz.get_subseq == 2 && v1->char_c.meta.viz.get_frame <= 1 )
        {
          v939 = v1->char_c.meta.cEffectSprite.h_inerc - 0.1000000014901161;
          v1->char_c.meta.cEffectSprite.h_inerc = v939;
          if ( v939 < 0.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
          *(float *)&v1484 = -10.0 - (double)(unsigned int)get_MT_range(60);
          v1485 = (double)(unsigned int)get_MT_range(5) + 10.0;
          v1486 = 3.0;
          v940 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v941 = (double)(80 * (char)v940) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 853, v941, v1->char_c.meta.cEffectSprite.y, v940, 1, (int)&v1484, 3);
        }
        if ( v1->char_c.meta.viz.get_subseq == 3 )
        {
          v1->char_c.meta.cEffectSprite.v_inerc = v1->char_c.meta.cEffectSprite.v_inerc - v1->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v1->char_c) )
            goto LABEL_2370;
        }
        if ( viz_process(&v1->char_c) )
        {
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          char_c::reset_forces(&v1->char_c);
        }
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
        {
          v1->char_c.field_4A6 = 40;
          scene_play_sfx(23);
          v942 = v1->char_c.meta.cEffectSprite.y + 100.0;
          scene_add_effect(&v1->char_c, 115, v1->char_c.meta.cEffectSprite.x, v942, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
          char_c::sub_469450(&v1->char_c, 0, 0, 60);
          char_c::sub_483570(&v1->char_c);
          weather_forecast_next();
        }
        if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame || v1->char_c.meta.viz.get_subseq != 3 )
          return;
        v899 = -3.0;
        goto LABEL_2382;
      case 604:
        char_c::sub_46AB50(&v1->char_c, 4, 2);
        char_c::sub10func(&v1->char_c);
        if ( v1->char_c.meta.viz.get_subseq || v1->char_c.meta.field_190 != 1 )
        {
          if ( viz_process(&v1->char_c) )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
            v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
          if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 2 )
            {
              v1->char_c.field_4A6 = 40;
              scene_play_sfx(23);
              v943 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v944 = v1->char_c.meta.cEffectSprite.y + 73.0;
              v945 = v944;
              v946 = (double)(71 * (char)v943) + v1->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v1->char_c, 115, v946, v945, v943, 1);
              char_c::sub_469450(&v1->char_c, 0, 0, 60);
              char_c::sub_483570(&v1->char_c);
              weather_forecast_next();
            }
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 6 )
            {
              v947 = 0;
              v1183 = 0;
              do
              {
                *(float *)&v1328 = (double)(unsigned int)get_MT_range(40) + (double)v1183 + 30.0;
                v1329 = 13.0;
                v1330 = 2.0;
                v948 = *(float *)&v1328;
                if ( *(float *)&v1328 < 0.0 || v948 > 180.0 )
                {
                  yn = -1;
                  xt = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a1t = v1->char_c.meta.cEffectSprite.y;
                  v951 = (double)(120 * (char)xt) + v1->char_c.meta.cEffectSprite.x;
                  v950 = v951;
                }
                else
                {
                  yn = 1;
                  xt = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a1t = v1->char_c.meta.cEffectSprite.y;
                  v949 = (double)(120 * (char)xt) + v1->char_c.meta.cEffectSprite.x;
                  v950 = v949;
                }
                v952 = v950;
                addbullet(&v1->char_c, 817, v952, a1t, xt, yn, (int)&v1328, 3);
                v947 += 45;
                v1183 = v947;
              }
              while ( v947 < 360 );
            }
          }
          if ( v1->char_c.meta.viz.get_subseq == 1 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
            char_c::play_sfx(&v1->char_c, 51);
          if ( v1->char_c.meta.viz.get_subseq == 2 )
          {
            if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame )
            {
              v1195 = 0.0;
              v953 = (float)0.0;
              do
              {
                *(float *)&v1262 = v953 * 45.0;
                v1263 = 0.0;
                v1264 = 0.0;
                v954 = v1->char_c.meta.cEffectSprite.y + 100.0;
                addbullet(&v1->char_c, 854, v1->char_c.meta.cEffectSprite.x, v954, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1262, 3);
                v1195 = v1195 + 1.0;
                v953 = v1195;
              }
              while ( v1195 < 8.0 );
              v1196 = 0.0;
              v955 = (float)0.0;
              do
              {
                *(float *)&v1262 = v955 * 45.0;
                v1263 = 0.0;
                v1264 = 1.0;
                v956 = v1->char_c.meta.enemy;
                v957 = v956->meta.cEffectSprite.y + 100.0;
                addbullet(&v1->char_c, 854, v956->meta.cEffectSprite.x, v957, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1262, 3);
                v1196 = v1196 + 1.0;
                v955 = v1196;
              }
              while ( v1196 < 8.0 );
              char_c::play_sfx(&v1->char_c, 55);
            }
            if ( v1->char_c.field_7D0 == 1 )
            {
              v958 = v1->char_c.meta.enemy;
              v1->char_c.field_7DC = (double)v958->meta.health;
              v959 = (double)v1->char_c.meta.health;
              v1->char_c.dash_angle = v959;
              v958->meta.health = (signed int)v959;
              v1->char_c.meta.health = (signed int)v1->char_c.field_7DC;
              shake_camera(3.0);
              v960 = 0;
              v1184 = 0;
              do
              {
                *(float *)&v1213 = (double)(unsigned int)get_MT_range(40) + (double)v1184 + 30.0;
                v1214 = 13.0;
                v1215 = 2.0;
                v961 = *(float *)&v1213;
                if ( *(float *)&v1213 < 0.0 || v961 > 180.0 )
                {
                  yo = -1;
                  xu = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a1u = v1->char_c.meta.cEffectSprite.y;
                  v964 = (double)(120 * (char)xu) + v1->char_c.meta.cEffectSprite.x;
                  v963 = v964;
                }
                else
                {
                  yo = 1;
                  xu = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                  a1u = v1->char_c.meta.cEffectSprite.y;
                  v962 = (double)(120 * (char)xu) + v1->char_c.meta.cEffectSprite.x;
                  v963 = v962;
                }
                v965 = v963;
                addbullet(&v1->char_c, 817, v965, a1u, xu, yo, (int)&v1213, 3);
                v960 += 45;
                v1184 = v960;
              }
              while ( v960 < 360 );
              *(float *)&v1213 = 0.0;
              v1214 = 0.0;
              v1215 = 5.0;
              v966 = v1->char_c.meta.enemy;
              v967 = v966->meta.cEffectSprite.y + 100.0;
              addbullet(&v1->char_c, 854, v966->meta.cEffectSprite.x, v967, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1213, 3);
              v968 = 6;
              do
              {
                *(float *)&v1213 = (double)(unsigned int)get_MT_range(360);
                v1214 = (double)(unsigned int)get_MT_range(75) * 0.1000000014901161 + 10.0;
                v1215 = 4.0;
                v969 = v1->char_c.meta.enemy;
                v970 = v969->meta.cEffectSprite.y + 100.0;
                addbullet(&v1->char_c, 854, v969->meta.cEffectSprite.x, v970, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1213, 3);
                --v968;
              }
              while ( v968 );
              *(float *)&v1213 = 0.0;
              v1214 = 0.0;
              v1215 = 5.0;
              v971 = v1->char_c.meta.cEffectSprite.y + 100.0;
              addbullet(&v1->char_c, 854, v1->char_c.meta.cEffectSprite.x, v971, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1213, 3);
              v972 = 6;
              do
              {
                *(float *)&v1213 = (double)(unsigned int)get_MT_range(360);
                v1214 = (double)(unsigned int)get_MT_range(75) * 0.1000000014901161 + 10.0;
                v1215 = 4.0;
                v973 = v1->char_c.meta.cEffectSprite.y + 100.0;
                addbullet(&v1->char_c, 854, v1->char_c.meta.cEffectSprite.x, v973, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1213, 3);
                --v972;
              }
              while ( v972 );
              char_c::play_sfx(&v1->char_c, 56);
              v1->char_c.field_7D0 = 2;
              v1->char_c.field_7D2 = 0;
            }
            if ( v1->char_c.field_7D0 == 2 && ++v1->char_c.field_7D2 >= 30 )
            {
              v1->char_c.meta.enemy->meta.field_1A4 = 5.0;
              v1->char_c.meta.enemy->meta.field_1A8 = 10.0;
              ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(71);
LABEL_2433:
              ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
            }
          }
        }
        else
        {
          ((void (__stdcall *)(signed int))v1->char_c.meta.enemy->meta.vtbl->set_seq_func2)(102);
          char_c::reset_forces(v1->char_c.meta.enemy);
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
        }
        return;
      case 605:
        char_c::sub_46AB50(&v1->char_c, 4, 2);
        char_c::sub10func(&v1->char_c);
        if ( v1->char_c.field_7D0 == 1 && !v1->char_c.meta.viz.get_subseq )
        {
          if ( !(v1->char_c.field_7D2 % 5) )
          {
            char_c::play_sfx(&v1->char_c, 14);
            v974 = v1->char_c.field_7D4;
            if ( v974 < 6 )
            {
              *(float *)&v1490 = 15.0 - (double)v974 * 60.0;
              v1491 = 7.0;
              v1492 = 0.0;
              v975 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              v976 = v1->char_c.meta.cEffectSprite.y + 180.0;
              v977 = v976;
              v978 = (double)(90 * (char)v975) + v1->char_c.meta.cEffectSprite.x;
              addbullet(&v1->char_c, 855, v978, v977, v975, 1, (int)&v1490, 3);
              ++v1->char_c.field_7D4;
            }
          }
          ++v1->char_c.field_7D2;
        }
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
        {
          if ( v1->char_c.meta.viz.get_frame == 2 )
          {
            v1->char_c.field_4A6 = 40;
            scene_play_sfx(23);
            v979 = v1->char_c.meta.cEffectSprite.y + 140.0;
            scene_add_effect(&v1->char_c, 115, v1->char_c.meta.cEffectSprite.x, v979, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
            char_c::sub_469450(&v1->char_c, 0, 0, 60);
            char_c::sub_483570(&v1->char_c);
            weather_forecast_next();
          }
          if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 4 )
            v1->char_c.field_7D0 = 1;
        }
        return;
      case 606:
        char_c::sub_46AB50(&v1->char_c, 4, 2);
        char_c::sub10func(&v1->char_c);
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
        {
          if ( v1->char_c.meta.viz.get_frame == 7 )
          {
            v1->char_c.field_4A6 = 40;
            scene_play_sfx(23);
            v980 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v981 = v1->char_c.meta.cEffectSprite.y + 164.0;
            v982 = v981;
            v983 = v1->char_c.meta.cEffectSprite.x - (double)(102 * (char)v980);
            scene_add_effect(&v1->char_c, 115, v983, v982, v980, 1);
            char_c::sub_469450(&v1->char_c, 0, 0, 60);
            char_c::sub_483570(&v1->char_c);
            weather_forecast_next();
          }
          if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 10 )
          {
            *(float *)&v1496 = 0.0;
            v1497 = -80.0;
            v1498 = 0.0;
            addbullet(&v1->char_c, 856, v1->char_c.meta.enemy->meta.cEffectSprite.x, 1000.0, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1496, 3);
            char_c::play_sfx(&v1->char_c, 53);
          }
        }
        return;
      case 607:
        char_c::sub_46AB50(&v1->char_c, 4, 2);
        char_c::sub10func(&v1->char_c);
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          v1->char_c.field_4A6 = 40;
          scene_play_sfx(23);
          v984 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v985 = v1->char_c.meta.cEffectSprite.y + 162.0;
          v986 = v985;
          v987 = v1->char_c.meta.cEffectSprite.x - (double)(117 * (char)v984);
          scene_add_effect(&v1->char_c, 115, v987, v986, v984, 1);
          char_c::sub_469450(&v1->char_c, 0, 0, 60);
          char_c::sub_483570(&v1->char_c);
          weather_forecast_next();
        }
        if ( v1->char_c.meta.viz.get_subseq == 2 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
        {
          shake_camera(7.0);
          char_c::play_sfx(&v1->char_c, 20);
          v988 = 0;
          v1185 = 0;
          do
          {
            *(float *)&v1259 = (double)(unsigned int)get_MT_range(30) + (double)v1185 + 30.0;
            v1260 = 10.0;
            v1261 = 2.0;
            v989 = *(float *)&v1259;
            if ( *(float *)&v1259 < 0.0 || v989 > 180.0 )
            {
              yp = -1;
              xv = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              a1v = v1->char_c.meta.cEffectSprite.y;
              v992 = (double)(180 * (char)xv) + v1->char_c.meta.cEffectSprite.x;
              v991 = v992;
            }
            else
            {
              yp = 1;
              xv = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              a1v = v1->char_c.meta.cEffectSprite.y;
              v990 = (double)(180 * (char)xv) + v1->char_c.meta.cEffectSprite.x;
              v991 = v990;
            }
            v993 = v991;
            addbullet(&v1->char_c, 817, v993, a1v, xv, yp, (int)&v1259, 3);
            v988 += 30;
            v1185 = v988;
          }
          while ( v988 < 360 );
          *(float *)&v1259 = 0.0;
          v1260 = 0.0;
          v1261 = 0.0;
          addbullet(&v1->char_c, 857, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1259, 3);
        }
        return;
      case 611:
        char_c::sub_46AB50(&v1->char_c, 4, 2);
        char_c::sub10func(&v1->char_c);
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time )
        {
          if ( v1->char_c.meta.viz.get_frame == 5 )
          {
            v1->char_c.field_4A6 = 40;
            scene_play_sfx(23);
            v994 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v995 = v1->char_c.meta.cEffectSprite.y + 122.0;
            v996 = v995;
            v997 = v1->char_c.meta.cEffectSprite.x - (double)(97 * (char)v994);
            scene_add_effect(&v1->char_c, 115, v997, v996, v994, 1);
            char_c::sub_469450(&v1->char_c, 0, 0, 60);
            char_c::sub_483570(&v1->char_c);
            weather_forecast_next();
          }
          if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 10 )
          {
            *(float *)&v1334 = 0.0;
            v1335 = 10.0;
            v1336 = 0.0;
            v998 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v999 = (double)(200 * (char)v998) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 861, v999, v1->char_c.meta.cEffectSprite.y, v998, 1, (int)&v1334, 3);
            v1336 = 4.0;
            v1000 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
            v1001 = (double)(200 * (char)v1000) + v1->char_c.meta.cEffectSprite.x;
            addbullet(&v1->char_c, 861, v1001, v1->char_c.meta.cEffectSprite.y, v1000, -1, (int)&v1334, 3);
            char_c::play_sfx(&v1->char_c, 10);
          }
        }
        return;
      case 695:
        char_c::sub10func(&v1->char_c);
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 5 )
        {
          scene_play_sfx(55);
          v1002 = v1->char_c.meta.cEffectSprite.y + 100.0;
          scene_add_effect(&v1->char_c, 140, v1->char_c.meta.cEffectSprite.x, v1002, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
          v1003 = v1->char_c.meta.cEffectSprite.y + 100.0;
          scene_add_effect(&v1->char_c, 140, v1->char_c.meta.cEffectSprite.x, v1003, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
          v1004 = v1->char_c.meta.cEffectSprite.y + 100.0;
          scene_add_effect(&v1->char_c, 140, v1->char_c.meta.cEffectSprite.x, v1004, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1);
          v1005 = v1->char_c.meta.cEffectSprite.y + 100.0;
          scene_add_effect(&v1->char_c, 141, v1->char_c.meta.cEffectSprite.x, v1005, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1);
          scene_add_effect(&v1->char_c, 142, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1);
        }
        return;
      case 696:
        char_c::sub10func(&v1->char_c);
LABEL_2496:
        if ( v1->char_c.field_49A )
        {
          v1006 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v1->char_c.meta.cEffectSprite.h_inerc = v1006;
          if ( v1006 < 0.0 )
          {
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
            v1->char_c.field_49A = 0;
          }
        }
        if ( v1->char_c.meta.cEffectSprite.h_inerc > 0.0 && v1->char_c.meta.viz.get_frame >= 7 )
        {
          v1007 = v1->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v1->char_c.meta.cEffectSprite.h_inerc = v1007;
          if ( v1007 < 0.0 )
            v1->char_c.meta.cEffectSprite.h_inerc = 0.0;
        }
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 0);
        if ( !v1->char_c.meta.viz.get_frame_time )
        {
          if ( v1->char_c.meta.viz.get_frame == 4 )
          {
            scene_play_sfx(29);
            v1->char_c.field_49A = 0;
          }
          if ( !v1->char_c.meta.viz.get_frame_time )
          {
            if ( v1->char_c.meta.viz.get_frame == 3 )
              v1->char_c.meta.cEffectSprite.h_inerc = 10.0;
LABEL_2511:
            if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 7 )
              v1->char_c.meta.cEffectSprite.h_inerc = v1->char_c.meta.cEffectSprite.h_inerc * 0.25;
          }
        }
        return;
      case 710:
        if ( v1->char_c.meta.viz.get_subseq == 1 )
        {
          if ( v1->char_c.meta.viz.get_elaps_frames >= 120 )
            ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
          if ( !(v1->char_c.meta.viz.get_elaps_frames % v1->char_c.field_7D6) )
          {
            char_c::play_sfx(&v1->char_c, 1);
            *(float *)&v1502 = 0.0;
            v1503 = (double)v1->char_c.field_7D0 + (double)v1->char_c.field_7D0;
            v1504 = 0.0;
            v1->char_c.field_7E4 = (double)(unsigned int)get_MT_range(150) + 50.0;
            v1008 = (double)(unsigned int)get_MT_range(360);
            v1009 = cosinus(v1008) * v1->char_c.field_7E4 + v1->char_c.meta.enemy->meta.cEffectSprite.x;
            v1->char_c.field_7DC = v1009;
            if ( v1009 < -50.0 )
              v1->char_c.field_7DC = -50.0;
            if ( v1->char_c.dash_angle < -150.0 )
              v1->char_c.dash_angle = -150.0;
            v1010 = (double)(unsigned int)get_MT_range(360);
            v1011 = sinus(v1010) * v1->char_c.field_7E4 + v1->char_c.meta.enemy->meta.cEffectSprite.y;
            v1->char_c.dash_angle = v1011;
            addbullet(&v1->char_c, 900, v1->char_c.field_7DC, v1011, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1502, 3);
            ++v1->char_c.field_7D0;
          }
        }
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          switch ( GAME_HARDNESS )
          {
            case 0:
              v1->char_c.field_7D6 = 20;
              break;
            case 1:
              v1->char_c.field_7D6 = 15;
              break;
            case 2:
            case 3:
              v1->char_c.field_7D6 = 10;
              break;
            default:
              return;
          }
        }
        return;
      case 711:
        if ( v1->char_c.field_7D0 > 0 )
          ++v1->char_c.field_7D2;
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
        if ( !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 10 )
        {
          char_c::play_sfx(&v1->char_c, 18);
          v1->char_c.field_7D0 = 1;
          v1012 = 0;
          v1186 = 0;
          do
          {
            *(float *)&v1265 = (double)(unsigned int)get_MT_range(40) + (double)v1186 + 30.0;
            v1266 = 13.0;
            v1267 = 2.0;
            v1013 = *(float *)&v1265;
            if ( *(float *)&v1265 < 0.0 || v1013 > 180.0 )
            {
              yq = -1;
              xw = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              a1w = v1->char_c.meta.cEffectSprite.y;
              v1016 = (double)(112 * (char)xw) + v1->char_c.meta.cEffectSprite.x;
              v1015 = v1016;
            }
            else
            {
              yq = 1;
              xw = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
              a1w = v1->char_c.meta.cEffectSprite.y;
              v1014 = (double)(112 * (char)xw) + v1->char_c.meta.cEffectSprite.x;
              v1015 = v1014;
            }
            v1017 = v1015;
            addbullet(&v1->char_c, 817, v1017, a1w, xw, yq, (int)&v1265, 3);
            v1012 += 45;
            v1186 = v1012;
          }
          while ( v1012 < 360 );
          v1267 = 6.0;
          v1018 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
          v1019 = (double)(112 * (char)v1018) + v1->char_c.meta.cEffectSprite.x;
          addbullet(&v1->char_c, 900, v1019, v1->char_c.meta.cEffectSprite.y, v1018, 1, (int)&v1265, 3);
        }
        return;
      case 720:
        if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.viz.get_elaps_frames >= 120 )
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
        v1020 = 0.0;
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          char_c::play_sfx(&v1->char_c, 19);
          v1021 = 0;
          v1187 = 0;
          do
          {
            *(float *)&v1244 = (double)(unsigned int)get_MT_range(40) + (double)v1187 + 30.0;
            v1245 = 13.0;
            v1246 = 2.0;
            v1022 = *(float *)&v1244;
            if ( *(float *)&v1244 < 0.0 || v1022 > 180.0 )
              addbullet(&v1->char_c, 817, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1244, 3);
            else
              addbullet(&v1->char_c, 817, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1244, 3);
            v1021 += 45;
            v1187 = v1021;
          }
          while ( v1021 < 360 );
          *(float *)&v1244 = 0.0;
          v1245 = 10.0;
          v1246 = 0.0;
          addbullet(&v1->char_c, 901, v1->char_c.meta.enemy->meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1244, 3);
          v1246 = 4.0;
          addbullet(&v1->char_c, 901, v1->char_c.meta.enemy->meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1244, 3);
          v1020 = 0.0;
        }
        if ( v1->char_c.meta.viz.get_subseq == 2 && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 3 )
        {
          switch ( GAME_HARDNESS )
          {
            case 0:
              *(float *)&v1235 = v1020;
              v1236 = -50.0;
              v1023 = 10.0;
              goto LABEL_2567;
            case 1:
              *(float *)&v1235 = v1020;
              v1236 = -60.0;
              v1023 = 11.0;
              goto LABEL_2567;
            case 2:
              *(float *)&v1235 = v1020;
              v1236 = -70.0;
              v1023 = 12.0;
              goto LABEL_2567;
            case 3:
              *(float *)&v1235 = v1020;
              v1236 = -80.0;
              v1023 = 13.0;
LABEL_2567:
              v1237 = v1023;
              addbullet(&v1->char_c, 901, v1->char_c.meta.enemy->meta.cEffectSprite.x, 1000.0, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1235, 3);
              char_c::play_sfx(&v1->char_c, 53);
              break;
            default:
              char_c::play_sfx(&v1->char_c, 53);
              break;
          }
        }
        return;
      case 730:
        if ( v1->char_c.meta.viz.get_subseq == 1 && v1->char_c.meta.viz.get_elaps_frames >= 120 )
          ((void (__thiscall *)(char_komachi *))v1->char_c.meta.vtbl->next_subseq_func5)(v1);
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 1 )
        {
          char_c::play_sfx(&v1->char_c, 12);
          v1234 = (double)(unsigned int)get_MT_range(360);
          v1197 = (double)(unsigned int)get_MT_range(20) - 10.0;
          switch ( GAME_HARDNESS )
          {
            case 0:
              v1192 = 0.0;
              v1056 = (float)0.0;
              do
              {
                v1057 = v1056 * 60.0 + v1234;
                v1058 = v1057 + 180.0;
                a4 = v1057 + v1197;
                v1232 = 5.0;
                v1233 = 0.0;
                v1059 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1060 = -v1058;
                v1061 = sinus(v1060) * 500.0 + v1->char_c.meta.enemy->meta.cEffectSprite.y + 100.0;
                v1062 = v1061;
                v1063 = cosinus(v1060) * 500.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.enemy->meta.cEffectSprite.x;
                addbullet(&v1->char_c, 902, v1063, v1062, v1059, 1, (int)&a4, 3);
                v1192 = v1192 + 1.0;
                v1056 = v1192;
              }
              while ( v1192 < 6.0 );
              break;
            case 1:
              v1191 = 0.0;
              v1048 = (float)0.0;
              do
              {
                v1049 = v1048 * 45.0 + v1234;
                v1050 = v1049 + 180.0;
                a4 = v1049 + v1197;
                v1232 = 5.0;
                v1233 = 0.0;
                v1051 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1052 = -v1050;
                v1053 = sinus(v1052) * 500.0 + v1->char_c.meta.enemy->meta.cEffectSprite.y + 100.0;
                v1054 = v1053;
                v1055 = cosinus(v1052) * 500.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.enemy->meta.cEffectSprite.x;
                addbullet(&v1->char_c, 902, v1055, v1054, v1051, 1, (int)&a4, 3);
                v1191 = v1191 + 1.0;
                v1048 = v1191;
              }
              while ( v1191 < 8.0 );
              break;
            case 2:
              v1190 = 0.0;
              v1040 = (float)0.0;
              do
              {
                v1041 = v1040 * 30.0 + v1234;
                v1042 = v1041 + 180.0;
                a4 = v1041 + v1197;
                v1232 = 5.0;
                v1233 = 0.0;
                v1043 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1044 = -v1042;
                v1045 = sinus(v1044) * 500.0 + v1->char_c.meta.enemy->meta.cEffectSprite.y + 100.0;
                v1046 = v1045;
                v1047 = cosinus(v1044) * 500.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.enemy->meta.cEffectSprite.x;
                addbullet(&v1->char_c, 902, v1047, v1046, v1043, 1, (int)&a4, 3);
                v1190 = v1190 + 1.0;
                v1040 = v1190;
              }
              while ( v1190 < 12.0 );
              break;
            case 3:
              v1188 = 0.0;
              v1024 = (float)0.0;
              do
              {
                v1025 = v1024 * 45.0 + v1234;
                v1026 = v1025;
                a4 = v1025 + v1197 + 180.0;
                v1232 = 6.0;
                v1233 = 0.0;
                v1027 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1028 = -v1026;
                v1029 = sinus(v1028) * 500.0 + v1->char_c.meta.enemy->meta.cEffectSprite.y + 100.0;
                v1030 = v1029;
                v1031 = cosinus(v1028) * 500.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.enemy->meta.cEffectSprite.x;
                addbullet(&v1->char_c, 902, v1031, v1030, v1027, 1, (int)&a4, 3);
                v1188 = v1188 + 1.0;
                v1024 = v1188;
              }
              while ( v1188 < 8.0 );
              v1189 = 0.0;
              v1032 = (float)0.0;
              do
              {
                v1033 = v1032 * 45.0 + v1234 + 22.5;
                v1034 = v1033 + 180.0;
                a4 = v1033 + v1197;
                v1232 = 4.0;
                v1233 = 0.0;
                v1035 = (unsigned __int8)v1->char_c.meta.cEffectSprite.dir;
                v1036 = -v1034;
                v1037 = sinus(v1036) * 500.0 + v1->char_c.meta.enemy->meta.cEffectSprite.y + 100.0;
                v1038 = v1037;
                v1039 = cosinus(v1036) * 500.0 * (double)v1->char_c.meta.cEffectSprite.dir + v1->char_c.meta.enemy->meta.cEffectSprite.x;
                addbullet(&v1->char_c, 902, v1039, v1038, v1035, 1, (int)&a4, 3);
                v1189 = v1189 + 1.0;
                v1032 = v1189;
              }
              while ( v1189 < 8.0 );
              break;
            default:
              return;
          }
        }
        return;
      case 732:
        if ( v1->char_c.meta.viz.get_subseq == 3 )
          char_c::sub10func(&v1->char_c);
        if ( viz_process(&v1->char_c) )
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 704);
        v1064 = 0.0;
        if ( !v1->char_c.meta.viz.get_subseq && !v1->char_c.meta.viz.get_frame_time && v1->char_c.meta.viz.get_frame == 2 )
        {
          *(float *)&v1340 = 0.0;
          v1341 = 0.0;
          v1342 = 0.0;
          v1065 = v1->char_c.meta.cEffectSprite.y + 100.0;
          addbullet(&v1->char_c, 930, v1->char_c.meta.cEffectSprite.x, v1065, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1340, 3);
          v1341 = 1.0;
          v1066 = v1->char_c.meta.cEffectSprite.y + 100.0;
          addbullet(&v1->char_c, 930, v1->char_c.meta.cEffectSprite.x, v1066, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1340, 3);
          v1064 = 0.0;
        }
        if ( !v1->char_c.meta.viz.get_elaps_frames && !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 2 )
        {
          if ( v1->char_c.meta.enemy->meta.playing_seq <= 599 )
          {
            *(float *)&v1207 = v1064;
            v1208 = v1064;
            v1209 = 1.0;
            v1067 = v1->char_c.meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 930, v1->char_c.meta.cEffectSprite.x, v1067, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1207, 3);
            v1208 = 1.0;
            v1068 = v1->char_c.meta.enemy;
            v1069 = v1068->meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 930, v1068->meta.cEffectSprite.x, v1069, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1207, 3);
            v1208 = 0.0;
            v1209 = 2.0;
            v1070 = v1->char_c.meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 930, v1->char_c.meta.cEffectSprite.x, v1070, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1207, 3);
            v1208 = 1.0;
            v1071 = v1->char_c.meta.enemy;
            v1072 = v1071->meta.cEffectSprite.y + 100.0;
            addbullet(&v1->char_c, 930, v1071->meta.cEffectSprite.x, v1072, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1207, 3);
            if ( (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) )
            {
              v1073 = 0;
              v1193 = 0;
              do
              {
                *(float *)&v1207 = (double)(unsigned int)get_MT_range(40) + (double)v1193 + 30.0;
                v1208 = 13.0;
                v1209 = 2.0;
                v1074 = *(float *)&v1207;
                if ( *(float *)&v1207 < 0.0 || v1074 > 180.0 )
                  addbullet(&v1->char_c, 817, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1207, 3);
                else
                  addbullet(&v1->char_c, 817, v1->char_c.meta.cEffectSprite.x, v1->char_c.meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1207, 3);
                v1073 += 45;
                v1193 = v1073;
              }
              while ( v1073 < 360 );
            }
            if ( (unsigned __int8)char_c::char_on_ground_flag(v1->char_c.meta.enemy) )
            {
              v1075 = 0;
              v1194 = 0;
              do
              {
                *(float *)&v1207 = (double)(unsigned int)get_MT_range(40) + (double)v1194 + 30.0;
                v1208 = 13.0;
                v1209 = 2.0;
                v1076 = *(float *)&v1207;
                if ( *(float *)&v1207 < 0.0 || v1076 > 180.0 )
                  addbullet(&v1->char_c, 817, v1->char_c.meta.enemy->meta.cEffectSprite.x, v1->char_c.meta.enemy->meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, -1, (int)&v1207, 3);
                else
                  addbullet(&v1->char_c, 817, v1->char_c.meta.enemy->meta.cEffectSprite.x, v1->char_c.meta.enemy->meta.cEffectSprite.y, (unsigned __int8)v1->char_c.meta.cEffectSprite.dir, 1, (int)&v1207, 3);
                v1075 += 45;
                v1194 = v1075;
              }
              while ( v1075 < 360 );
            }
            v1077 = v1->char_c.meta.enemy;
            v1->char_c.field_7DC = v1->char_c.meta.cEffectSprite.x;
            v1->char_c.dash_angle = v1->char_c.meta.cEffectSprite.y;
            v1->char_c.meta.cEffectSprite.x = v1077->meta.cEffectSprite.x;
            v1->char_c.meta.cEffectSprite.y = v1077->meta.cEffectSprite.y;
            v1077->meta.cEffectSprite.x = v1->char_c.field_7DC;
            v1->char_c.meta.enemy->meta.cEffectSprite.y = v1->char_c.dash_angle;
          }
          char_c::play_sfx(&v1->char_c, 13);
          v1->char_c.field_7D8 = 1;
        }
        if ( v1->char_c.meta.viz.get_elaps_frames )
          goto LABEL_1751;
        if ( !v1->char_c.meta.viz.get_frame_time && !v1->char_c.meta.viz.get_frame && v1->char_c.meta.viz.get_subseq == 3 )
        {
          v22 = (unsigned __int8)char_c::char_on_ground_flag(&v1->char_c) == 0;
          v1078 = v1->char_c.meta.vtbl->set_seq_func2;
          if ( v22 )
            v1078(&v1->char_c.meta, 704);
          else
            v1078(&v1->char_c.meta, 700);
        }
        if ( v1->char_c.meta.viz.get_elaps_frames || v1->char_c.meta.viz.get_frame_time || v1->char_c.meta.viz.get_frame )
        {
LABEL_1751:
          if ( v1->char_c.meta.viz.get_subseq == 4 && !v1->char_c.meta.viz.get_frame_time )
          {
            v681 = v1->char_c.meta.viz.get_frame == 1;
LABEL_1754:
            if ( v681 )
              v1->char_c.meta.cEffectSprite.v_force = 0.5;
          }
        }
        else if ( v1->char_c.meta.viz.get_subseq == 4 )
        {
          v1->char_c.meta.vtbl->set_seq_func2(&v1->char_c.meta, 700);
        }
        return;
      default:
        goto LABEL_2646;
    }
  }
}