void __thiscall char_marisa::func10(char_marisa *a1)
{
  double v1; // st7
  double v2; // st6
  char_marisa *v3; // esi
  unsigned int v4; // eax
  float v5; // ST34_4
  unsigned int v6; // eax
  int v7; // edx
  __int16 v8; // ax
  double v9; // st5
  double v10; // st4
  double v11; // st3
  __int16 v12; // ax
  __int16 v13; // ax
  float v14; // ST34_4
  float v15; // ST34_4
  __int16 v16; // ax
  float v17; // ST34_4
  float v18; // ST34_4
  _BOOL1 v19; // c0
  _BOOL1 v20; // c3
  double v21; // st6
  __int16 v22; // cx
  double v23; // st6
  double v24; // rtt
  double v25; // st4
  double v26; // st6
  float v27; // ST34_4
  float v28; // ST34_4
  double v29; // rt1
  double v30; // st5
  double v31; // st6
  float v32; // ST34_4
  float v33; // ST34_4
  double v34; // rt2
  __int16 v35; // ax
  __int16 v36; // ax
  int v37; // eax
  float v38; // ST34_4
  float v39; // ST10_4
  float v40; // ST34_4
  __int16 v41; // ax
  int v42; // eax
  float v43; // ST34_4
  float v44; // ST10_4
  float v45; // ST34_4
  int v46; // eax
  float v47; // ST34_4
  float v48; // ST10_4
  float v49; // ST34_4
  signed int v50; // eax
  double v51; // st7
  float v52; // ST34_4
  float v53; // ST34_4
  double v54; // st7
  float v55; // ST34_4
  float v56; // ST34_4
  double v57; // st7
  float v58; // ST34_4
  float v59; // ST34_4
  _BOOL1 v60; // zf
  _BOOL1 v61; // sf
  double v62; // st7
  float v63; // ST20_4
  _BOOL1 v64; // zf
  _BOOL1 v65; // sf
  _BOOL1 v66; // zf
  _BOOL1 v67; // sf
  void (__thiscall *v68)(c_meta *, int); // edx
  char_marisa *v69; // ecx
  __int16 v70; // ax
  void (__thiscall *v71)(c_meta *, int); // edx
  char_marisa *v72; // ecx
  double v73; // st7
  __int16 v74; // ax
  void (__thiscall *v75)(c_meta *, int); // eax
  float v76; // ST34_4
  int v77; // ST1C_4
  double v78; // ST3C_8
  float v79; // ST34_4
  float v80; // ST18_4
  float v81; // ST34_4
  int v82; // edx
  void (__thiscall *v83)(c_meta *, int); // edx
  __int16 v84; // ax
  int v85; // eax
  float v86; // ST34_4
  float v87; // ST18_4
  float v88; // ST34_4
  float v89; // ST34_4
  __int16 v90; // ax
  float v91; // ST34_4
  double v92; // ST3C_8
  int v93; // ST1C_4
  float v94; // ST34_4
  float v95; // ST18_4
  float v96; // ST34_4
  float v97; // ST34_4
  float v98; // ST34_4
  __int16 v99; // ax
  int v100; // ST1C_4
  double v101; // ST3C_8
  float v102; // ST34_4
  float v103; // ST18_4
  float v104; // ST34_4
  int v105; // ST1C_4
  float v106; // ST34_4
  float v107; // ST18_4
  float v108; // ST34_4
  float v109; // ST34_4
  double v110; // ST3C_8
  int v111; // ST1C_4
  float v112; // ST34_4
  float v113; // ST18_4
  float v114; // ST34_4
  float v115; // ST34_4
  float v116; // ST34_4
  float v117; // ST34_4
  _BOOL1 v118; // al
  char_marisa *v119; // ecx
  float v120; // ST34_4
  double v121; // st7
  float v122; // ST20_4
  double v123; // st7
  double v124; // st7
  _BOOL1 v125; // al
  float v126; // ST34_4
  double v127; // st7
  float v128; // ST20_4
  _BOOL1 v129; // al
  float v130; // ST34_4
  _BOOL1 v131; // al
  float v132; // ST34_4
  _BOOL1 v133; // al
  float v134; // ST34_4
  int v135; // eax
  int v136; // ecx
  _BOOL1 v137; // sf
  int v138; // eax
  int v139; // eax
  int v140; // eax
  int v141; // eax
  __int16 v142; // ax
  __int16 v143; // ax
  __int16 v144; // cx
  __int16 v145; // ax
  _BOOL1 v146; // sf
  double v147; // st5
  double v148; // st5
  double v149; // st7
  float v150; // ST34_4
  double v151; // st7
  int v152; // ST1C_4
  float v153; // ST34_4
  float v154; // ST18_4
  float v155; // ST34_4
  int v156; // eax
  __int16 v157; // ax
  _BOOL1 v158; // zf
  char v159; // cl
  double v160; // st7
  void (__thiscall *v161)(c_meta *, int); // eax
  __int16 v162; // ax
  char v163; // cl
  double v164; // st7
  void (__thiscall *v165)(c_meta *, int); // eax
  void (__thiscall *v166)(c_meta *, int); // edx
  float v167; // ST34_4
  float v168; // ST34_4
  char_c *v169; // eax
  float v170; // ST34_4
  float v171; // ST20_4
  float v172; // ST34_4
  __int16 v173; // ax
  __int16 v174; // ax
  __int16 v175; // cx
  __int16 v176; // ax
  _BOOL1 v177; // sf
  double v178; // st5
  double v179; // st5
  double v180; // st7
  float v181; // ST34_4
  double v182; // st7
  int v183; // ST1C_4
  float v184; // ST34_4
  float v185; // ST18_4
  float v186; // ST34_4
  int v187; // eax
  _BOOL1 v188; // al
  char_marisa *v189; // ecx
  float v190; // ST34_4
  int v191; // eax
  float v192; // ST34_4
  float v193; // ST18_4
  float v194; // ST34_4
  float v195; // ST34_4
  int v196; // ST1C_4
  double v197; // ST3C_8
  float v198; // ST34_4
  float v199; // ST18_4
  float v200; // ST34_4
  __int16 v201; // ax
  __int16 v202; // ax
  float v203; // ST34_4
  double v204; // ST3C_8
  int v205; // ST1C_4
  float v206; // ST34_4
  float v207; // ST18_4
  float v208; // ST34_4
  float v209; // ST34_4
  float v210; // ST34_4
  double v211; // ST3C_8
  int v212; // ST1C_4
  float v213; // ST34_4
  float v214; // ST18_4
  float v215; // ST34_4
  float v216; // ST34_4
  float v217; // ST34_4
  int v218; // ST1C_4
  double v219; // ST3C_8
  float v220; // ST34_4
  float v221; // ST18_4
  float v222; // ST34_4
  int v223; // ST1C_4
  float v224; // ST34_4
  float v225; // ST18_4
  float v226; // ST34_4
  float v227; // ST34_4
  float v228; // ST34_4
  float v229; // ST34_4
  double v230; // st7
  float v231; // ST34_4
  float v232; // ST34_4
  __int16 v233; // ax
  int v234; // eax
  float v235; // ST34_4
  __int16 v236; // ax
  void (__thiscall *v237)(c_meta *, int); // eax
  __int16 v238; // ax
  float v239; // ST34_4
  float v240; // ST34_4
  int v241; // eax
  float v242; // ST34_4
  float v243; // ST18_4
  float v244; // ST34_4
  float v245; // ST34_4
  _BOOL1 v246; // al
  int v247; // eax
  float v248; // ST34_4
  float v249; // ST10_4
  float v250; // ST34_4
  _BOOL1 v251; // zf
  int v252; // eax
  float v253; // ST34_4
  float v254; // ST18_4
  float v255; // ST34_4
  float v256; // ST34_4
  float v257; // ST34_4
  double v258; // st7
  float a3; // ST0C_4
  _BOOL1 v260; // al
  int v261; // ST14_4
  float v262; // ST34_4
  float v263; // ST10_4
  float v264; // ST34_4
  _BOOL1 v265; // zf
  int v266; // eax
  float v267; // ST34_4
  float v268; // ST18_4
  float v269; // ST34_4
  float v270; // ST34_4
  float v271; // ST34_4
  float v272; // ST34_4
  _BOOL1 v273; // al
  float v274; // ST34_4
  float v275; // ST34_4
  float v276; // ST34_4
  float v277; // ST34_4
  __int16 v278; // ax
  __int16 v279; // ax
  __int16 v280; // ax
  int v281; // edx
  float v282; // ST34_4
  float v283; // ST34_4
  double v284; // st7
  float v285; // ST34_4
  float v286; // ST34_4
  float v287; // ST0C_4
  int v288; // eax
  int v289; // eax
  int v290; // eax
  float v291; // ST34_4
  float v292; // ST18_4
  float v293; // ST34_4
  double v294; // st7
  float v295; // ST1C_4
  __int16 v296; // ax
  __int16 v297; // ax
  __int16 v298; // ax
  int v299; // edx
  float v300; // ST34_4
  float v301; // ST34_4
  double v302; // st7
  float v303; // ST34_4
  float v304; // ST34_4
  float v305; // ST0C_4
  int v306; // eax
  int v307; // eax
  int v308; // eax
  float v309; // ST34_4
  float v310; // ST18_4
  float v311; // ST34_4
  char_c *v312; // eax
  float v313; // ST34_4
  float v314; // ST20_4
  float v315; // ST34_4
  __int16 v316; // ax
  __int16 v317; // ax
  __int16 v318; // ax
  int v319; // eax
  float v320; // ST34_4
  float v321; // ST10_4
  float v322; // ST34_4
  __int16 v323; // ax
  int v324; // eax
  float v325; // ST34_4
  float v326; // ST18_4
  float v327; // ST34_4
  __int16 v328; // ax
  __int16 v329; // ax
  int v330; // edx
  float v331; // ST34_4
  float v332; // ST34_4
  double v333; // st7
  float v334; // ST34_4
  float v335; // ST34_4
  float v336; // ST0C_4
  __int16 v337; // ax
  int v338; // eax
  int v339; // eax
  int v340; // eax
  float v341; // ST34_4
  float v342; // ST18_4
  float v343; // ST34_4
  char_c *v344; // eax
  float v345; // ST34_4
  float v346; // ST20_4
  float v347; // ST34_4
  __int16 v348; // ax
  _BOOL1 v349; // zf
  __int16 v350; // ax
  __int16 v351; // ax
  int v352; // edx
  float v353; // ST34_4
  float v354; // ST34_4
  double v355; // st7
  float v356; // ST34_4
  float v357; // ST34_4
  float v358; // ST0C_4
  __int16 v359; // ax
  char v360; // cl
  int v361; // eax
  int v362; // eax
  int v363; // eax
  float v364; // ST34_4
  float v365; // ST18_4
  float v366; // ST34_4
  char_c *v367; // eax
  float v368; // ST34_4
  float v369; // ST20_4
  float v370; // ST34_4
  __int16 v371; // ax
  float v372; // ST34_4
  int v373; // eax
  float v374; // ST34_4
  float v375; // ST10_4
  float v376; // ST34_4
  char_c *v377; // eax
  float v378; // ST34_4
  float v379; // ST20_4
  float v380; // ST34_4
  __int16 v381; // ax
  int v382; // eax
  float v383; // ST34_4
  float v384; // ST10_4
  float v385; // ST34_4
  int v386; // eax
  float v387; // ST34_4
  float v388; // ST10_4
  float v389; // ST34_4
  int v390; // eax
  int v391; // eax
  float v392; // ST34_4
  float v393; // ST18_4
  float v394; // ST34_4
  _BOOL1 v395; // zf
  _BOOL1 v396; // zf
  _BOOL1 v397; // sf
  unsigned __int8 v398; // of
  _BOOL1 v399; // zf
  char_c *v400; // eax
  float v401; // ST34_4
  float v402; // ST20_4
  float v403; // ST34_4
  __int16 v404; // ax
  int v405; // eax
  float v406; // ST34_4
  float v407; // ST10_4
  float v408; // ST34_4
  __int16 v409; // cx
  int v410; // eax
  _BOOL1 v411; // zf
  int v412; // eax
  float v413; // ST34_4
  float v414; // ST10_4
  float v415; // ST34_4
  char_c *v416; // eax
  float v417; // ST34_4
  float v418; // ST20_4
  float v419; // ST34_4
  __int16 v420; // ax
  int v421; // ST14_4
  float v422; // ST34_4
  float v423; // ST10_4
  float v424; // ST34_4
  int v425; // eax
  int v426; // eax
  float v427; // ST34_4
  float v428; // ST18_4
  float v429; // ST34_4
  __int16 v430; // ax
  int v431; // edi
  _BOOL1 v432; // zf
  int v433; // ST14_4
  float v434; // ST34_4
  float v435; // ST10_4
  float v436; // ST34_4
  int v437; // ecx
  __int16 v438; // ax
  int v439; // eax
  float v440; // ST34_4
  float v441; // ST10_4
  float v442; // ST34_4
  float v443; // ST34_4
  __int16 v444; // ax
  __int16 v445; // ax
  _BOOL1 v446; // zf
  __int16 v447; // ax
  int v448; // ecx
  __int16 v449; // ax
  double v450; // st7
  int v451; // eax
  int v452; // eax
  float v453; // ST34_4
  float v454; // ST10_4
  float v455; // ST34_4
  int v456; // eax
  __int16 v457; // ax
  float v458; // ST34_4
  int v459; // eax
  float v460; // ST34_4
  float v461; // ST10_4
  float v462; // ST34_4
  double v463; // ST3C_8
  int v464; // eax
  float v465; // ST34_4
  _BOOL1 v466; // zf
  __int16 v467; // ax
  __int16 v468; // ax
  int v469; // eax
  float v470; // ST34_4
  float v471; // ST10_4
  float v472; // ST34_4
  float v473; // ST34_4
  double v474; // st7
  float v475; // ST14_4
  __int16 v476; // ax
  double v477; // ST3C_8
  int v478; // eax
  float v479; // ST34_4
  float v480; // ST10_4
  float v481; // ST34_4
  float v482; // ST34_4
  __int16 v483; // ax
  float v484; // ST34_4
  float v485; // ST34_4
  float v486; // ST34_4
  float v487; // ST10_4
  float v488; // ST34_4
  __int16 v489; // ax
  float v490; // ST34_4
  float v491; // ST34_4
  float v492; // ST34_4
  float v493; // ST10_4
  float v494; // ST34_4
  __int16 v495; // ax
  float v496; // ST34_4
  int v497; // eax
  float v498; // ST34_4
  float v499; // ST10_4
  float v500; // ST34_4
  __int16 v501; // ax
  float v502; // ST34_4
  int v503; // eax
  float v504; // ST34_4
  float v505; // ST10_4
  float v506; // ST34_4
  __int16 v507; // ax
  float v508; // ST34_4
  int v509; // eax
  float v510; // ST34_4
  float v511; // ST10_4
  float v512; // ST34_4
  __int16 v513; // ax
  float v514; // ST34_4
  int v515; // eax
  float v516; // ST34_4
  float v517; // ST10_4
  float v518; // ST34_4
  __int16 v519; // ax
  float v520; // ST34_4
  int v521; // ST14_4
  float v522; // ST34_4
  float v523; // ST10_4
  float v524; // ST34_4
  __int16 v525; // ax
  float v526; // ST34_4
  int v527; // eax
  float v528; // ST34_4
  float v529; // ST10_4
  float v530; // ST34_4
  double v531; // st7
  __int16 v532; // ax
  float v533; // ST34_4
  int v534; // ST14_4
  float v535; // ST34_4
  float v536; // ST10_4
  float v537; // ST34_4
  __int16 v538; // ax
  float v539; // ST34_4
  int v540; // eax
  float v541; // ST34_4
  float v542; // ST10_4
  float v543; // ST34_4
  float v544; // ST34_4
  float v545; // ST34_4
  double v546; // st7
  float v547; // ST0C_4
  float v548; // ST34_4
  float v549; // ST34_4
  int v550; // eax
  float v551; // ST34_4
  float v552; // ST10_4
  float v553; // ST34_4
  _BOOL1 v554; // zf
  int v555; // eax
  float v556; // ST34_4
  float v557; // ST10_4
  float v558; // ST34_4
  int v559; // eax
  float v560; // ST34_4
  float v561; // ST10_4
  float v562; // ST34_4
  int v563; // eax
  float v564; // ST34_4
  float v565; // ST10_4
  float v566; // ST34_4
  float v567; // ST34_4
  float v568; // ST34_4
  double v569; // st7
  float v570; // ST0C_4
  float v571; // ST34_4
  float v572; // ST34_4
  float v573; // ST34_4
  float v574; // ST34_4
  double v575; // st7
  float v576; // ST0C_4
  float v577; // ST34_4
  float v578; // ST34_4
  int v579; // eax
  frame_head *v580; // ecx
  float v581; // ST34_4
  float v582; // ST10_4
  float v583; // ST34_4
  int v584; // eax
  frame_head *v585; // ecx
  float v586; // ST34_4
  float v587; // ST10_4
  float v588; // ST34_4
  int v589; // eax
  frame_head *v590; // ecx
  float v591; // ST34_4
  float v592; // ST10_4
  float v593; // ST34_4
  int v594; // eax
  frame_head *v595; // ecx
  float v596; // ST34_4
  float v597; // ST10_4
  float v598; // ST34_4
  __int16 v599; // ax
  __int16 v600; // cx
  __int16 v601; // ax
  float v602; // ST34_4
  float v603; // ST34_4
  double v604; // st7
  float v605; // ST34_4
  float v606; // ST34_4
  float v607; // ST0C_4
  float v608; // ST34_4
  signed int v609; // ecx
  int v610; // eax
  int v611; // eax
  float v612; // ST34_4
  float v613; // ST18_4
  float v614; // ST34_4
  int v615; // ST14_4
  float v616; // ST34_4
  float v617; // ST10_4
  float v618; // ST34_4
  byte v619; // cl
  signed int v620; // eax
  int v621; // ecx
  __int16 v622; // ax
  __int16 v623; // cx
  __int16 v624; // ax
  float v625; // ST34_4
  float v626; // ST34_4
  double v627; // st7
  float v628; // ST34_4
  float v629; // ST34_4
  float v630; // ST0C_4
  float v631; // ST34_4
  int v632; // eax
  int v633; // eax
  float v634; // ST34_4
  float v635; // ST18_4
  float v636; // ST34_4
  int v637; // ST14_4
  float v638; // ST34_4
  float v639; // ST10_4
  float v640; // ST34_4
  byte v641; // cl
  signed int v642; // eax
  int v643; // ecx
  __int16 v644; // ax
  __int16 v645; // cx
  __int16 v646; // ax
  float v647; // ST34_4
  float v648; // ST34_4
  double v649; // st7
  float v650; // ST34_4
  float v651; // ST34_4
  float v652; // ST0C_4
  float v653; // ST34_4
  int v654; // eax
  int v655; // eax
  float v656; // ST34_4
  float v657; // ST18_4
  float v658; // ST34_4
  float v659; // ST34_4
  float v660; // ST34_4
  double v661; // st7
  float v662; // ST0C_4
  __int16 v663; // dx
  byte v664; // cl
  signed int v665; // eax
  int v666; // ecx
  __int16 v667; // ax
  __int16 v668; // cx
  __int16 v669; // ax
  float v670; // ST34_4
  float v671; // ST34_4
  double v672; // st7
  float v673; // ST34_4
  float v674; // ST34_4
  float v675; // ST0C_4
  float v676; // ST34_4
  int v677; // eax
  int v678; // eax
  float v679; // ST34_4
  float v680; // ST18_4
  float v681; // ST34_4
  float v682; // ST34_4
  float v683; // ST34_4
  _BOOL1 v684; // zf
  char_c *v685; // eax
  float v686; // ST34_4
  float v687; // ST20_4
  float v688; // ST34_4
  __int16 v689; // ax
  int v690; // ST14_4
  float v691; // ST34_4
  float v692; // ST10_4
  float v693; // ST34_4
  float v694; // ST34_4
  float v695; // ST34_4
  double v696; // st7
  float v697; // ST0C_4
  int v698; // eax
  _BOOL1 v699; // zf
  _BOOL1 v700; // sf
  unsigned __int8 v701; // of
  _BOOL1 v702; // zf
  char_c *v703; // eax
  float v704; // ST34_4
  float v705; // ST20_4
  float v706; // ST34_4
  __int16 v707; // ax
  int v708; // ST14_4
  float v709; // ST34_4
  float v710; // ST10_4
  float v711; // ST34_4
  float v712; // ST34_4
  float v713; // ST34_4
  _BOOL1 v714; // zf
  char_c *v715; // eax
  float v716; // ST34_4
  float v717; // ST20_4
  float v718; // ST34_4
  __int16 v719; // ax
  int v720; // ST14_4
  float v721; // ST34_4
  float v722; // ST10_4
  float v723; // ST34_4
  float v724; // ST34_4
  float v725; // ST34_4
  double v726; // st7
  float v727; // ST0C_4
  int v728; // eax
  _BOOL1 v729; // zf
  _BOOL1 v730; // zf
  char_c *v731; // eax
  float v732; // ST34_4
  float v733; // ST20_4
  float v734; // ST34_4
  __int16 v735; // ax
  int v736; // ST14_4
  float v737; // ST34_4
  float v738; // ST10_4
  float v739; // ST34_4
  float v740; // ST34_4
  float v741; // ST34_4
  _BOOL1 v742; // zf
  double v743; // st7
  int v744; // edx
  float v745; // ST34_4
  float v746; // ST10_4
  float v747; // ST34_4
  double v748; // st7
  double v749; // st7
  int v750; // eax
  float v751; // ST38_4
  float v752; // ST10_4
  float v753; // ST38_4
  double v754; // st7
  double v755; // st7
  int v756; // eax
  float v757; // ST38_4
  float v758; // ST10_4
  float v759; // ST38_4
  float v760; // ST38_4
  float v761; // ST10_4
  float v762; // ST38_4
  double v763; // st7
  double v764; // st7
  int v765; // eax
  float v766; // ST38_4
  float v767; // ST10_4
  float v768; // ST38_4
  double v769; // st7
  double v770; // st7
  int v771; // eax
  float v772; // ST38_4
  float v773; // ST10_4
  float v774; // ST38_4
  _BOOL1 v775; // zf
  double v776; // st7
  int v777; // edx
  float v778; // ST38_4
  float v779; // ST10_4
  float v780; // ST38_4
  double v781; // st7
  double v782; // st7
  int v783; // eax
  float v784; // ST38_4
  float v785; // ST10_4
  float v786; // ST38_4
  double v787; // st7
  double v788; // st7
  int v789; // eax
  float v790; // ST38_4
  float v791; // ST10_4
  float v792; // ST38_4
  float v793; // ST38_4
  float v794; // ST10_4
  float v795; // ST38_4
  double v796; // st7
  double v797; // st7
  int v798; // eax
  float v799; // ST38_4
  float v800; // ST10_4
  float v801; // ST38_4
  double v802; // st7
  double v803; // st7
  int v804; // eax
  float v805; // ST38_4
  float v806; // ST10_4
  float v807; // ST38_4
  _BOOL1 v808; // zf
  double v809; // st7
  int v810; // edx
  float v811; // ST38_4
  float v812; // ST10_4
  float v813; // ST38_4
  double v814; // st7
  double v815; // st7
  int v816; // eax
  float v817; // ST38_4
  float v818; // ST10_4
  float v819; // ST38_4
  double v820; // st7
  double v821; // st7
  int v822; // eax
  float v823; // ST38_4
  float v824; // ST10_4
  float v825; // ST38_4
  float v826; // ST38_4
  float v827; // ST10_4
  float v828; // ST38_4
  double v829; // st7
  double v830; // st7
  int v831; // eax
  float v832; // ST38_4
  float v833; // ST10_4
  float v834; // ST38_4
  double v835; // st7
  double v836; // st7
  int v837; // eax
  float v838; // ST38_4
  float v839; // ST10_4
  float v840; // ST38_4
  int v841; // eax
  _BOOL1 v842; // zf
  _BOOL1 v843; // sf
  unsigned __int8 v844; // of
  _BOOL1 v845; // zf
  double v846; // st7
  int v847; // edx
  float v848; // ST38_4
  float v849; // ST10_4
  float v850; // ST38_4
  double v851; // st7
  double v852; // st7
  int v853; // eax
  float v854; // ST38_4
  float v855; // ST10_4
  float v856; // ST38_4
  double v857; // st7
  double v858; // st7
  int v859; // eax
  float v860; // ST38_4
  float v861; // ST10_4
  float v862; // ST38_4
  float v863; // ST38_4
  float v864; // ST10_4
  float v865; // ST38_4
  double v866; // st7
  double v867; // st7
  int v868; // eax
  float v869; // ST38_4
  float v870; // ST10_4
  float v871; // ST38_4
  double v872; // st7
  double v873; // st7
  int v874; // eax
  float v875; // ST38_4
  float v876; // ST10_4
  float v877; // ST38_4
  int v878; // eax
  __int16 v879; // ax
  __int16 v880; // dx
  int v881; // ST14_4
  float v882; // ST38_4
  int v883; // ST14_4
  float v884; // ST38_4
  int v885; // eax
  int v886; // eax
  float v887; // ST38_4
  int v888; // eax
  float v889; // ST38_4
  float v890; // ST18_4
  float v891; // ST38_4
  int v892; // eax
  float v893; // ST38_4
  float v894; // ST10_4
  float v895; // ST38_4
  int v896; // eax
  float v897; // ST38_4
  float v898; // ST10_4
  float v899; // ST38_4
  int v900; // eax
  float v901; // ST38_4
  float v902; // ST10_4
  float v903; // ST38_4
  int v904; // eax
  float v905; // ST38_4
  float v906; // ST10_4
  float v907; // ST38_4
  int v908; // eax
  int v909; // eax
  float v910; // ST38_4
  int v911; // eax
  float v912; // ST38_4
  float v913; // ST18_4
  float v914; // ST38_4
  int v915; // eax
  float v916; // ST38_4
  float v917; // ST10_4
  float v918; // ST38_4
  int v919; // ST14_4
  float v920; // ST38_4
  float v921; // ST10_4
  float v922; // ST38_4
  int v923; // eax
  float v924; // ST38_4
  float v925; // ST10_4
  float v926; // ST38_4
  int v927; // eax
  float v928; // ST38_4
  float v929; // ST10_4
  float v930; // ST38_4
  int v931; // eax
  float v932; // ST38_4
  float v933; // ST10_4
  float v934; // ST38_4
  int v935; // eax
  float v936; // ST38_4
  int v937; // eax
  float v938; // ST38_4
  float v939; // ST18_4
  float v940; // ST38_4
  int v941; // eax
  float v942; // ST38_4
  float v943; // ST10_4
  float v944; // ST38_4
  int v945; // eax
  float v946; // ST38_4
  float v947; // ST10_4
  float v948; // ST38_4
  int v949; // eax
  float v950; // ST38_4
  float v951; // ST10_4
  float v952; // ST38_4
  int v953; // eax
  float v954; // ST38_4
  float v955; // ST10_4
  float v956; // ST38_4
  int v957; // ST14_4
  float v958; // ST38_4
  float v959; // ST10_4
  float v960; // ST38_4
  float v961; // ST38_4
  float v962; // ST38_4
  __int16 v963; // ax
  int v964; // eax
  float v965; // ST38_4
  float v966; // ST18_4
  float v967; // ST38_4
  int v968; // ST14_4
  float v969; // ST38_4
  float v970; // ST10_4
  float v971; // ST38_4
  int v972; // eax
  float v973; // ST38_4
  float v974; // ST10_4
  float v975; // ST38_4
  int v976; // eax
  float v977; // ST38_4
  float v978; // ST10_4
  float v979; // ST38_4
  int v980; // eax
  frame_head *v981; // ecx
  float v982; // ST38_4
  float v983; // ST18_4
  float v984; // ST38_4
  double v985; // st7
  _BOOL1 v986; // sf
  unsigned __int8 v987; // of
  double v988; // st7
  float v989; // ST20_4
  _BOOL1 v990; // al
  int v991; // ecx
  frame_head *v992; // edi
  float v993; // ST38_4
  float v994; // ST10_4
  float v995; // ST38_4
  double v996; // st6
  double v997; // st6
  float v998; // ST34_4
  double v999; // rt1
  double v1000; // st6
  double v1001; // st7
  float v1002; // ST34_4
  char v1003; // cl
  char v1004; // al
  float v1005; // ST38_4
  float v1006; // ST10_4
  float v1007; // ST38_4
  __int16 v1008; // ax
  float v1009; // ST38_4
  float v1010; // ST18_4
  float v1011; // ST38_4
  __int16 v1012; // ax
  int v1013; // eax
  float v1014; // ST38_4
  float v1015; // ST10_4
  float v1016; // ST38_4
  __int16 v1017; // ax
  float v1018; // ST38_4
  int v1019; // eax
  float v1020; // ST38_4
  float v1021; // ST18_4
  float v1022; // ST38_4
  int v1023; // ST14_4
  float v1024; // ST38_4
  float v1025; // ST10_4
  float v1026; // ST38_4
  int v1027; // eax
  float v1028; // ST38_4
  float v1029; // ST10_4
  float v1030; // ST38_4
  int v1031; // eax
  float v1032; // ST38_4
  float v1033; // ST10_4
  float v1034; // ST38_4
  int v1035; // eax
  float v1036; // ST38_4
  float v1037; // ST18_4
  float v1038; // ST38_4
  __int16 v1039; // ax
  __int16 v1040; // cx
  int v1041; // eax
  float v1042; // ST38_4
  float v1043; // ST10_4
  float v1044; // ST38_4
  float v1045; // ST38_4
  __int16 v1046; // ax
  __int16 v1047; // di
  int v1048; // eax
  float v1049; // ST38_4
  float v1050; // ST18_4
  float v1051; // ST38_4
  int v1052; // eax
  float v1053; // ST38_4
  float v1054; // ST18_4
  float v1055; // ST38_4
  __int16 v1056; // ax
  int v1057; // eax
  float v1058; // ST38_4
  float v1059; // ST10_4
  float v1060; // ST38_4
  float v1061; // ST38_4
  __int16 v1062; // ax
  int v1063; // eax
  float v1064; // ST38_4
  float v1065; // ST18_4
  float v1066; // ST38_4
  int v1067; // eax
  frame_head *v1068; // ecx
  float v1069; // ST38_4
  float v1070; // ST18_4
  float v1071; // ST38_4
  int v1072; // eax
  frame_head *v1073; // ecx
  float v1074; // ST38_4
  float v1075; // ST10_4
  float v1076; // ST38_4
  int v1077; // eax
  float v1078; // ST38_4
  char v1079; // al
  float v1080; // ST38_4
  float v1081; // ST20_4
  _BOOL1 v1082; // al
  int v1083; // ecx
  float v1084; // ST38_4
  int v1085; // ST14_4
  float v1086; // ST38_4
  float v1087; // ST10_4
  float v1088; // ST38_4
  int v1089; // eax
  float v1090; // ST38_4
  float v1091; // ST18_4
  float v1092; // ST38_4
  int v1093; // eax
  float v1094; // ST38_4
  float v1095; // ST18_4
  float v1096; // ST38_4
  int v1097; // ST14_4
  float v1098; // ST38_4
  float v1099; // ST10_4
  float v1100; // ST38_4
  int v1101; // eax
  float v1102; // ST38_4
  float v1103; // ST10_4
  float v1104; // ST38_4
  __int16 v1105; // ax
  float v1106; // ST34_4
  int v1107; // eax
  float v1108; // ST38_4
  float v1109; // ST18_4
  float v1110; // ST38_4
  int v1111; // eax
  float v1112; // ST38_4
  float v1113; // ST10_4
  float v1114; // ST38_4
  int v1115; // eax
  float v1116; // ST38_4
  int v1117; // eax
  frame_head *v1118; // ecx
  float v1119; // ST38_4
  float v1120; // ST10_4
  float v1121; // ST38_4
  int v1122; // eax
  frame_head *v1123; // ecx
  float v1124; // ST38_4
  float v1125; // ST18_4
  float v1126; // ST38_4
  _BOOL1 v1127; // sf
  unsigned __int8 v1128; // of
  int v1129; // eax
  float v1130; // ST38_4
  float v1131; // ST18_4
  float v1132; // ST38_4
  int v1133; // ST14_4
  float v1134; // ST38_4
  float v1135; // ST10_4
  float v1136; // ST38_4
  int v1137; // eax
  frame_head *v1138; // ecx
  float v1139; // ST38_4
  float v1140; // ST18_4
  float v1141; // ST38_4
  int v1142; // eax
  frame_head *v1143; // ecx
  float v1144; // ST38_4
  float v1145; // ST10_4
  float v1146; // ST38_4
  int v1147; // eax
  float v1148; // ST38_4
  float v1149; // ST18_4
  float v1150; // ST38_4
  double v1151; // st7
  float v1152; // ST38_4
  signed int v1153; // edi
  int v1154; // eax
  float v1155; // ST38_4
  float v1156; // ST18_4
  float v1157; // ST38_4
  float v1158; // ST38_4
  __int16 v1159; // ax
  int v1160; // eax
  float v1161; // ST38_4
  float v1162; // ST10_4
  float v1163; // ST38_4
  int v1164; // eax
  float v1165; // ST38_4
  float v1166; // ST18_4
  float v1167; // ST38_4
  int v1168; // eax
  float v1169; // ST38_4
  float v1170; // ST10_4
  float v1171; // ST38_4
  float v1172; // ST38_4
  float v1173; // ST38_4
  float v1174; // ST38_4
  float v1175; // ST38_4
  float v1176; // ST34_4
  float v1177; // ST34_4
  int v1178; // ST1C_4
  float v1179; // ST38_4
  float v1180; // ST18_4
  float v1181; // ST38_4
  float v1182; // ST38_4
  int v1183; // ST1C_4
  double v1184; // ST3C_8
  float v1185; // ST38_4
  float v1186; // ST18_4
  float v1187; // ST38_4
  __int16 v1188; // ax
  float v1189; // ST34_4
  double v1190; // ST3C_8
  int v1191; // ST1C_4
  float v1192; // ST38_4
  float v1193; // ST18_4
  float v1194; // ST38_4
  float v1195; // ST38_4
  double v1196; // ST3C_8
  float v1197; // ST38_4
  float v1198; // ST38_4
  int v1199; // ST14_4
  float v1200; // ST10_4
  double v1201; // st7
  float v1202; // ST38_4
  float v1203; // ST10_4
  float v1204; // ST0C_4
  double v1205; // st7
  float v1206; // ST38_4
  int v1207; // ST14_4
  float v1208; // ST10_4
  double v1209; // st7
  float v1210; // ST38_4
  float v1211; // ST10_4
  float v1212; // ST0C_4
  double v1213; // st7
  float v1214; // ST38_4
  int v1215; // ST14_4
  float v1216; // ST10_4
  double v1217; // st7
  float v1218; // ST38_4
  float v1219; // ST10_4
  float v1220; // ST0C_4
  double v1221; // st7
  float v1222; // ST38_4
  double v1223; // st7
  int v1224; // ST14_4
  float v1225; // ST10_4
  double v1226; // st7
  float v1227; // ST38_4
  float v1228; // ST10_4
  float v1229; // ST0C_4
  double v1230; // st7
  float v1231; // ST38_4
  int v1232; // ST14_4
  float v1233; // ST10_4
  double v1234; // st7
  float v1235; // ST38_4
  float v1236; // ST10_4
  float v1237; // ST0C_4
  double v1238; // st7
  float v1239; // ST38_4
  double v1240; // st7
  double v1241; // st7
  double v1242; // st6
  int v1243; // ST14_4
  float v1244; // ST10_4
  float v1245; // ST38_4
  float v1246; // ST10_4
  float v1247; // ST0C_4
  float v1248; // ST38_4
  __int16 v1249; // ax
  int v1250; // ST14_4
  float v1251; // ST10_4
  double v1252; // st7
  float v1253; // ST38_4
  float v1254; // ST10_4
  float v1255; // ST0C_4
  double v1256; // st7
  float v1257; // ST38_4
  double v1258; // st7
  double v1259; // st7
  double v1260; // st6
  int v1261; // ST14_4
  float v1262; // ST10_4
  float v1263; // ST38_4
  float v1264; // ST10_4
  float v1265; // ST0C_4
  float v1266; // ST38_4
  __int16 v1267; // ax
  double v1268; // st7
  int v1269; // ST14_4
  float v1270; // ST10_4
  double v1271; // st7
  float v1272; // ST38_4
  float v1273; // ST10_4
  float v1274; // ST0C_4
  double v1275; // st7
  float v1276; // ST38_4
  int v1277; // ST14_4
  float v1278; // ST10_4
  double v1279; // st7
  float v1280; // ST38_4
  float v1281; // ST10_4
  float v1282; // ST0C_4
  double v1283; // st7
  float v1284; // ST38_4
  _BOOL1 v1285; // c0
  double v1286; // st6
  double v1287; // st6
  double v1288; // st7
  double v1289; // st7
  double v1290; // st7
  int v1291; // eax
  frame_head *v1292; // ecx
  float v1293; // ST38_4
  float v1294; // ST10_4
  float v1295; // ST38_4
  int v1296; // eax
  frame_head *v1297; // ecx
  float v1298; // ST38_4
  float v1299; // ST10_4
  float v1300; // ST38_4
  __int16 v1301; // ax
  __int16 v1302; // ax
  int v1303; // ST14_4
  float v1304; // ST10_4
  double v1305; // st7
  float v1306; // ST38_4
  float v1307; // ST10_4
  float v1308; // ST0C_4
  double v1309; // st7
  float v1310; // ST38_4
  int v1311; // ST14_4
  float v1312; // ST10_4
  double v1313; // st7
  float v1314; // ST38_4
  float v1315; // ST10_4
  float v1316; // ST0C_4
  double v1317; // st7
  float v1318; // ST38_4
  __int16 v1319; // ax
  float v1320; // ST38_4
  frame_head *v1321; // eax
  double v1322; // st7
  double v1323; // st7
  double v1324; // st7
  double v1325; // st7
  void (__thiscall *v1326)(char_marisa *); // eax
  __int16 v1327; // ax
  double v1328; // st7
  int v1329; // eax
  frame_head *v1330; // ecx
  float v1331; // ST38_4
  float v1332; // ST10_4
  float v1333; // ST38_4
  float v1334; // ST38_4
  float v1335; // ST34_4
  __int16 v1336; // ax
  float v1337; // ST34_4
  __int16 v1338; // ax
  float v1339; // [esp+10h] [ebp-62Ch]
  float v1340; // [esp+10h] [ebp-62Ch]
  float v1341; // [esp+10h] [ebp-62Ch]
  float v1342; // [esp+10h] [ebp-62Ch]
  float v1343; // [esp+10h] [ebp-62Ch]
  float v1344; // [esp+10h] [ebp-62Ch]
  float v1345; // [esp+10h] [ebp-62Ch]
  float v1346; // [esp+10h] [ebp-62Ch]
  float v1347; // [esp+10h] [ebp-62Ch]
  float v1348; // [esp+10h] [ebp-62Ch]
  float v1349; // [esp+10h] [ebp-62Ch]
  float v1350; // [esp+10h] [ebp-62Ch]
  float v1351; // [esp+10h] [ebp-62Ch]
  float v1352; // [esp+10h] [ebp-62Ch]
  float v1353; // [esp+10h] [ebp-62Ch]
  int x; // [esp+14h] [ebp-628h]
  int xa; // [esp+14h] [ebp-628h]
  int xb; // [esp+14h] [ebp-628h]
  int xc; // [esp+14h] [ebp-628h]
  int xd; // [esp+14h] [ebp-628h]
  int xe; // [esp+14h] [ebp-628h]
  int xf; // [esp+14h] [ebp-628h]
  int xg; // [esp+14h] [ebp-628h]
  int xh; // [esp+14h] [ebp-628h]
  int xi; // [esp+14h] [ebp-628h]
  int xj; // [esp+14h] [ebp-628h]
  int xk; // [esp+14h] [ebp-628h]
  int xl; // [esp+14h] [ebp-628h]
  int xm; // [esp+14h] [ebp-628h]
  int xn; // [esp+14h] [ebp-628h]
  int xo; // [esp+14h] [ebp-628h]
  int xp; // [esp+14h] [ebp-628h]
  int xq; // [esp+14h] [ebp-628h]
  int xr; // [esp+14h] [ebp-628h]
  float y; // [esp+18h] [ebp-624h]
  int *a2; // [esp+1Ch] [ebp-620h]
  int *a2a; // [esp+1Ch] [ebp-620h]
  int *a2b; // [esp+1Ch] [ebp-620h]
  int *a2c; // [esp+1Ch] [ebp-620h]
  int *a2d; // [esp+1Ch] [ebp-620h]
  int *a2e; // [esp+1Ch] [ebp-620h]
  int *a2f; // [esp+1Ch] [ebp-620h]
  int a2g; // [esp+1Ch] [ebp-620h]
  int *a2h; // [esp+1Ch] [ebp-620h]
  int *a2i; // [esp+1Ch] [ebp-620h]
  int *a2j; // [esp+1Ch] [ebp-620h]
  int *a2k; // [esp+1Ch] [ebp-620h]
  int *a2l; // [esp+1Ch] [ebp-620h]
  int *a2m; // [esp+1Ch] [ebp-620h]
  int *a2n; // [esp+1Ch] [ebp-620h]
  int *a2o; // [esp+1Ch] [ebp-620h]
  int *a2p; // [esp+1Ch] [ebp-620h]
  int *a2q; // [esp+1Ch] [ebp-620h]
  float move_val; // [esp+20h] [ebp-61Ch]
  float v1393; // [esp+34h] [ebp-608h]
  float v1394; // [esp+34h] [ebp-608h]
  float v1395; // [esp+34h] [ebp-608h]
  float v1396; // [esp+34h] [ebp-608h]
  float v1397; // [esp+34h] [ebp-608h]
  float v1398; // [esp+34h] [ebp-608h]
  float v1399; // [esp+34h] [ebp-608h]
  float v1400; // [esp+34h] [ebp-608h]
  float v1401; // [esp+34h] [ebp-608h]
  float v1402; // [esp+34h] [ebp-608h]
  float v1403; // [esp+34h] [ebp-608h]
  float v1404; // [esp+34h] [ebp-608h]
  float v1405; // [esp+34h] [ebp-608h]
  float v1406; // [esp+34h] [ebp-608h]
  float v1407; // [esp+34h] [ebp-608h]
  float v1408; // [esp+34h] [ebp-608h]
  float v1409; // [esp+34h] [ebp-608h]
  float v1410; // [esp+34h] [ebp-608h]
  float v1411; // [esp+34h] [ebp-608h]
  float v1412; // [esp+34h] [ebp-608h]
  float v1413; // [esp+34h] [ebp-608h]
  float v1414; // [esp+34h] [ebp-608h]
  float v1415; // [esp+34h] [ebp-608h]
  float v1416; // [esp+34h] [ebp-608h]
  signed int v1417; // [esp+34h] [ebp-608h]
  float v1418; // [esp+34h] [ebp-608h]
  float v1419; // [esp+34h] [ebp-608h]
  int v1420; // [esp+44h] [ebp-5F8h]
  float v1421; // [esp+48h] [ebp-5F4h]
  float v1422; // [esp+4Ch] [ebp-5F0h]
  int v1423; // [esp+50h] [ebp-5ECh]
  float v1424; // [esp+54h] [ebp-5E8h]
  float v1425; // [esp+58h] [ebp-5E4h]
  int v1426; // [esp+5Ch] [ebp-5E0h]
  float v1427; // [esp+60h] [ebp-5DCh]
  float v1428; // [esp+64h] [ebp-5D8h]
  int v1429; // [esp+68h] [ebp-5D4h]
  float v1430; // [esp+6Ch] [ebp-5D0h]
  float v1431; // [esp+70h] [ebp-5CCh]
  int v1432; // [esp+74h] [ebp-5C8h]
  float v1433; // [esp+78h] [ebp-5C4h]
  float v1434; // [esp+7Ch] [ebp-5C0h]
  int v1435; // [esp+80h] [ebp-5BCh]
  float v1436; // [esp+84h] [ebp-5B8h]
  float v1437; // [esp+88h] [ebp-5B4h]
  int v1438; // [esp+8Ch] [ebp-5B0h]
  float v1439; // [esp+90h] [ebp-5ACh]
  float v1440; // [esp+94h] [ebp-5A8h]
  int v1441; // [esp+98h] [ebp-5A4h]
  float v1442; // [esp+9Ch] [ebp-5A0h]
  float v1443; // [esp+A0h] [ebp-59Ch]
  int v1444; // [esp+A4h] [ebp-598h]
  float v1445; // [esp+A8h] [ebp-594h]
  float v1446; // [esp+ACh] [ebp-590h]
  int v1447; // [esp+B0h] [ebp-58Ch]
  float v1448; // [esp+B4h] [ebp-588h]
  float v1449; // [esp+B8h] [ebp-584h]
  int v1450; // [esp+BCh] [ebp-580h]
  float v1451; // [esp+C0h] [ebp-57Ch]
  float v1452; // [esp+C4h] [ebp-578h]
  int v1453; // [esp+C8h] [ebp-574h]
  float v1454; // [esp+CCh] [ebp-570h]
  float v1455; // [esp+D0h] [ebp-56Ch]
  int v1456; // [esp+D4h] [ebp-568h]
  float v1457; // [esp+D8h] [ebp-564h]
  float v1458; // [esp+DCh] [ebp-560h]
  int v1459; // [esp+E0h] [ebp-55Ch]
  float v1460; // [esp+E4h] [ebp-558h]
  float v1461; // [esp+E8h] [ebp-554h]
  int v1462; // [esp+ECh] [ebp-550h]
  float v1463; // [esp+F0h] [ebp-54Ch]
  float v1464; // [esp+F4h] [ebp-548h]
  int v1465; // [esp+F8h] [ebp-544h]
  float v1466; // [esp+FCh] [ebp-540h]
  float v1467; // [esp+100h] [ebp-53Ch]
  int v1468; // [esp+104h] [ebp-538h]
  float v1469; // [esp+108h] [ebp-534h]
  float v1470; // [esp+10Ch] [ebp-530h]
  int v1471; // [esp+110h] [ebp-52Ch]
  float v1472; // [esp+114h] [ebp-528h]
  float v1473; // [esp+118h] [ebp-524h]
  int v1474; // [esp+11Ch] [ebp-520h]
  float v1475; // [esp+120h] [ebp-51Ch]
  float v1476; // [esp+124h] [ebp-518h]
  int v1477; // [esp+128h] [ebp-514h]
  float v1478; // [esp+12Ch] [ebp-510h]
  float v1479; // [esp+130h] [ebp-50Ch]
  int v1480; // [esp+134h] [ebp-508h]
  float v1481; // [esp+138h] [ebp-504h]
  float v1482; // [esp+13Ch] [ebp-500h]
  int v1483; // [esp+140h] [ebp-4FCh]
  float v1484; // [esp+144h] [ebp-4F8h]
  float v1485; // [esp+148h] [ebp-4F4h]
  int v1486; // [esp+14Ch] [ebp-4F0h]
  float v1487; // [esp+150h] [ebp-4ECh]
  float v1488; // [esp+154h] [ebp-4E8h]
  int v1489; // [esp+158h] [ebp-4E4h]
  float v1490; // [esp+15Ch] [ebp-4E0h]
  float v1491; // [esp+160h] [ebp-4DCh]
  float a4; // [esp+164h] [ebp-4D8h]
  float v1493; // [esp+168h] [ebp-4D4h]
  float v1494; // [esp+16Ch] [ebp-4D0h]
  float v1495; // [esp+170h] [ebp-4CCh]
  int v1496; // [esp+174h] [ebp-4C8h]
  float v1497; // [esp+178h] [ebp-4C4h]
  float v1498; // [esp+17Ch] [ebp-4C0h]
  int v1499; // [esp+180h] [ebp-4BCh]
  float v1500; // [esp+184h] [ebp-4B8h]
  float v1501; // [esp+188h] [ebp-4B4h]
  int v1502; // [esp+18Ch] [ebp-4B0h]
  float v1503; // [esp+190h] [ebp-4ACh]
  float v1504; // [esp+194h] [ebp-4A8h]
  int v1505; // [esp+198h] [ebp-4A4h]
  float v1506; // [esp+19Ch] [ebp-4A0h]
  float v1507; // [esp+1A0h] [ebp-49Ch]
  float a1a; // [esp+1A4h] [ebp-498h]
  float v1509; // [esp+1A8h] [ebp-494h]
  float v1510; // [esp+1ACh] [ebp-490h]
  int v1511; // [esp+1B0h] [ebp-48Ch]
  float v1512; // [esp+1B4h] [ebp-488h]
  float v1513; // [esp+1B8h] [ebp-484h]
  float v1514; // [esp+1BCh] [ebp-480h]
  int v1515; // [esp+1C0h] [ebp-47Ch]
  float v1516; // [esp+1C4h] [ebp-478h]
  float v1517; // [esp+1C8h] [ebp-474h]
  float v1518; // [esp+1CCh] [ebp-470h]
  int v1519; // [esp+1D0h] [ebp-46Ch]
  float v1520; // [esp+1D4h] [ebp-468h]
  float v1521; // [esp+1D8h] [ebp-464h]
  int v1522; // [esp+1DCh] [ebp-460h]
  float v1523; // [esp+1E0h] [ebp-45Ch]
  float v1524; // [esp+1E4h] [ebp-458h]
  int v1525; // [esp+1E8h] [ebp-454h]
  float v1526; // [esp+1ECh] [ebp-450h]
  float v1527; // [esp+1F0h] [ebp-44Ch]
  int v1528; // [esp+1F4h] [ebp-448h]
  float v1529; // [esp+1F8h] [ebp-444h]
  float v1530; // [esp+1FCh] [ebp-440h]
  int v1531; // [esp+200h] [ebp-43Ch]
  float v1532; // [esp+204h] [ebp-438h]
  float v1533; // [esp+208h] [ebp-434h]
  int v1534; // [esp+20Ch] [ebp-430h]
  float v1535; // [esp+210h] [ebp-42Ch]
  float v1536; // [esp+214h] [ebp-428h]
  float v1537; // [esp+218h] [ebp-424h]
  float v1538; // [esp+21Ch] [ebp-420h]
  float v1539; // [esp+220h] [ebp-41Ch]
  float v1540; // [esp+224h] [ebp-418h]
  int v1541; // [esp+228h] [ebp-414h]
  float v1542; // [esp+22Ch] [ebp-410h]
  float v1543; // [esp+230h] [ebp-40Ch]
  float v1544; // [esp+234h] [ebp-408h]
  float v1545; // [esp+238h] [ebp-404h]
  float v1546; // [esp+23Ch] [ebp-400h]
  int v1547; // [esp+240h] [ebp-3FCh]
  float v1548; // [esp+244h] [ebp-3F8h]
  float v1549; // [esp+248h] [ebp-3F4h]
  int v1550; // [esp+24Ch] [ebp-3F0h]
  float v1551; // [esp+250h] [ebp-3ECh]
  float v1552; // [esp+254h] [ebp-3E8h]
  int v1553; // [esp+258h] [ebp-3E4h]
  float v1554; // [esp+25Ch] [ebp-3E0h]
  float v1555; // [esp+260h] [ebp-3DCh]
  float v1556; // [esp+264h] [ebp-3D8h]
  float v1557; // [esp+268h] [ebp-3D4h]
  float v1558; // [esp+26Ch] [ebp-3D0h]
  int v1559; // [esp+270h] [ebp-3CCh]
  float v1560; // [esp+274h] [ebp-3C8h]
  float v1561; // [esp+278h] [ebp-3C4h]
  int v1562; // [esp+27Ch] [ebp-3C0h]
  float v1563; // [esp+280h] [ebp-3BCh]
  float v1564; // [esp+284h] [ebp-3B8h]
  int v1565; // [esp+288h] [ebp-3B4h]
  float v1566; // [esp+28Ch] [ebp-3B0h]
  float v1567; // [esp+290h] [ebp-3ACh]
  float v1568; // [esp+294h] [ebp-3A8h]
  float v1569; // [esp+298h] [ebp-3A4h]
  float v1570; // [esp+29Ch] [ebp-3A0h]
  int v1571; // [esp+2A0h] [ebp-39Ch]
  float v1572; // [esp+2A4h] [ebp-398h]
  float v1573; // [esp+2A8h] [ebp-394h]
  int v1574; // [esp+2ACh] [ebp-390h]
  float v1575; // [esp+2B0h] [ebp-38Ch]
  float v1576; // [esp+2B4h] [ebp-388h]
  int v1577; // [esp+2B8h] [ebp-384h]
  float v1578; // [esp+2BCh] [ebp-380h]
  float v1579; // [esp+2C0h] [ebp-37Ch]
  float v1580; // [esp+2C4h] [ebp-378h]
  float v1581; // [esp+2C8h] [ebp-374h]
  float v1582; // [esp+2CCh] [ebp-370h]
  int v1583; // [esp+2D0h] [ebp-36Ch]
  float v1584; // [esp+2D4h] [ebp-368h]
  float v1585; // [esp+2D8h] [ebp-364h]
  int v1586; // [esp+2DCh] [ebp-360h]
  float v1587; // [esp+2E0h] [ebp-35Ch]
  float v1588; // [esp+2E4h] [ebp-358h]
  int v1589; // [esp+2E8h] [ebp-354h]
  float v1590; // [esp+2ECh] [ebp-350h]
  float v1591; // [esp+2F0h] [ebp-34Ch]
  int v1592; // [esp+2F4h] [ebp-348h]
  float v1593; // [esp+2F8h] [ebp-344h]
  float v1594; // [esp+2FCh] [ebp-340h]
  int v1595; // [esp+300h] [ebp-33Ch]
  float v1596; // [esp+304h] [ebp-338h]
  float v1597; // [esp+308h] [ebp-334h]
  int v1598; // [esp+30Ch] [ebp-330h]
  float v1599; // [esp+310h] [ebp-32Ch]
  float v1600; // [esp+314h] [ebp-328h]
  int a7; // [esp+318h] [ebp-324h]
  float v1602; // [esp+31Ch] [ebp-320h]
  float v1603; // [esp+320h] [ebp-31Ch]
  int v1604; // [esp+324h] [ebp-318h]
  float v1605; // [esp+328h] [ebp-314h]
  float v1606; // [esp+32Ch] [ebp-310h]
  int v1607; // [esp+330h] [ebp-30Ch]
  float v1608; // [esp+334h] [ebp-308h]
  float v1609; // [esp+338h] [ebp-304h]
  int v1610; // [esp+33Ch] [ebp-300h]
  float v1611; // [esp+340h] [ebp-2FCh]
  float v1612; // [esp+344h] [ebp-2F8h]
  int v1613; // [esp+348h] [ebp-2F4h]
  float v1614; // [esp+34Ch] [ebp-2F0h]
  float v1615; // [esp+350h] [ebp-2ECh]
  int v1616; // [esp+354h] [ebp-2E8h]
  float v1617; // [esp+358h] [ebp-2E4h]
  float v1618; // [esp+35Ch] [ebp-2E0h]
  float v1619; // [esp+360h] [ebp-2DCh]
  float v1620; // [esp+364h] [ebp-2D8h]
  float v1621; // [esp+368h] [ebp-2D4h]
  int v1622; // [esp+36Ch] [ebp-2D0h]
  float v1623; // [esp+370h] [ebp-2CCh]
  float v1624; // [esp+374h] [ebp-2C8h]
  float v1625; // [esp+378h] [ebp-2C4h]
  float v1626; // [esp+37Ch] [ebp-2C0h]
  float v1627; // [esp+380h] [ebp-2BCh]
  int v1628; // [esp+384h] [ebp-2B8h]
  float v1629; // [esp+388h] [ebp-2B4h]
  float v1630; // [esp+38Ch] [ebp-2B0h]
  int v1631; // [esp+390h] [ebp-2ACh]
  float v1632; // [esp+394h] [ebp-2A8h]
  float v1633; // [esp+398h] [ebp-2A4h]
  int v1634; // [esp+39Ch] [ebp-2A0h]
  float v1635; // [esp+3A0h] [ebp-29Ch]
  float v1636; // [esp+3A4h] [ebp-298h]
  int v1637; // [esp+3A8h] [ebp-294h]
  float v1638; // [esp+3ACh] [ebp-290h]
  float v1639; // [esp+3B0h] [ebp-28Ch]
  int v1640; // [esp+3B4h] [ebp-288h]
  float v1641; // [esp+3B8h] [ebp-284h]
  float v1642; // [esp+3BCh] [ebp-280h]
  int v1643; // [esp+3C0h] [ebp-27Ch]
  float v1644; // [esp+3C4h] [ebp-278h]
  float v1645; // [esp+3C8h] [ebp-274h]
  int v1646; // [esp+3CCh] [ebp-270h]
  float v1647; // [esp+3D0h] [ebp-26Ch]
  float v1648; // [esp+3D4h] [ebp-268h]
  float v1649; // [esp+3D8h] [ebp-264h]
  float v1650; // [esp+3DCh] [ebp-260h]
  float v1651; // [esp+3E0h] [ebp-25Ch]
  float v1652; // [esp+3E4h] [ebp-258h]
  float v1653; // [esp+3E8h] [ebp-254h]
  float v1654; // [esp+3ECh] [ebp-250h]
  int v1655; // [esp+3F0h] [ebp-24Ch]
  float v1656; // [esp+3F4h] [ebp-248h]
  float v1657; // [esp+3F8h] [ebp-244h]
  int v1658; // [esp+3FCh] [ebp-240h]
  float v1659; // [esp+400h] [ebp-23Ch]
  float v1660; // [esp+404h] [ebp-238h]
  int v1661; // [esp+408h] [ebp-234h]
  float v1662; // [esp+40Ch] [ebp-230h]
  float v1663; // [esp+410h] [ebp-22Ch]
  int v1664; // [esp+414h] [ebp-228h]
  float v1665; // [esp+418h] [ebp-224h]
  float v1666; // [esp+41Ch] [ebp-220h]
  int v1667; // [esp+420h] [ebp-21Ch]
  float v1668; // [esp+424h] [ebp-218h]
  float v1669; // [esp+428h] [ebp-214h]
  int v1670; // [esp+42Ch] [ebp-210h]
  float v1671; // [esp+430h] [ebp-20Ch]
  float v1672; // [esp+434h] [ebp-208h]
  int v1673; // [esp+438h] [ebp-204h]
  float v1674; // [esp+43Ch] [ebp-200h]
  float v1675; // [esp+440h] [ebp-1FCh]
  int v1676; // [esp+444h] [ebp-1F8h]
  float v1677; // [esp+448h] [ebp-1F4h]
  float v1678; // [esp+44Ch] [ebp-1F0h]
  int v1679; // [esp+450h] [ebp-1ECh]
  float v1680; // [esp+454h] [ebp-1E8h]
  float v1681; // [esp+458h] [ebp-1E4h]
  int v1682; // [esp+45Ch] [ebp-1E0h]
  float v1683; // [esp+460h] [ebp-1DCh]
  float v1684; // [esp+464h] [ebp-1D8h]
  float v1685; // [esp+468h] [ebp-1D4h]
  float v1686; // [esp+46Ch] [ebp-1D0h]
  float v1687; // [esp+470h] [ebp-1CCh]
  int v1688; // [esp+474h] [ebp-1C8h]
  float v1689; // [esp+478h] [ebp-1C4h]
  float v1690; // [esp+47Ch] [ebp-1C0h]
  int v1691; // [esp+480h] [ebp-1BCh]
  float v1692; // [esp+484h] [ebp-1B8h]
  float v1693; // [esp+488h] [ebp-1B4h]
  int v1694; // [esp+48Ch] [ebp-1B0h]
  float v1695; // [esp+490h] [ebp-1ACh]
  float v1696; // [esp+494h] [ebp-1A8h]
  int v1697; // [esp+498h] [ebp-1A4h]
  float v1698; // [esp+49Ch] [ebp-1A0h]
  float v1699; // [esp+4A0h] [ebp-19Ch]
  int v1700; // [esp+4A4h] [ebp-198h]
  float v1701; // [esp+4A8h] [ebp-194h]
  float v1702; // [esp+4ACh] [ebp-190h]
  float v1703; // [esp+4B0h] [ebp-18Ch]
  float v1704; // [esp+4B4h] [ebp-188h]
  float v1705; // [esp+4B8h] [ebp-184h]
  int v1706; // [esp+4BCh] [ebp-180h]
  float v1707; // [esp+4C0h] [ebp-17Ch]
  float v1708; // [esp+4C4h] [ebp-178h]
  float v1709; // [esp+4C8h] [ebp-174h]
  float v1710; // [esp+4CCh] [ebp-170h]
  float v1711; // [esp+4D0h] [ebp-16Ch]
  int v1712; // [esp+4D4h] [ebp-168h]
  float v1713; // [esp+4D8h] [ebp-164h]
  float v1714; // [esp+4DCh] [ebp-160h]
  int v1715; // [esp+4E0h] [ebp-15Ch]
  float v1716; // [esp+4E4h] [ebp-158h]
  float v1717; // [esp+4E8h] [ebp-154h]
  float v1718; // [esp+4ECh] [ebp-150h]
  float v1719; // [esp+4F0h] [ebp-14Ch]
  float v1720; // [esp+4F4h] [ebp-148h]
  int v1721; // [esp+4F8h] [ebp-144h]
  float v1722; // [esp+4FCh] [ebp-140h]
  float v1723; // [esp+500h] [ebp-13Ch]
  int v1724; // [esp+504h] [ebp-138h]
  float v1725; // [esp+508h] [ebp-134h]
  float v1726; // [esp+50Ch] [ebp-130h]
  int v1727; // [esp+510h] [ebp-12Ch]
  float v1728; // [esp+514h] [ebp-128h]
  float v1729; // [esp+518h] [ebp-124h]
  int v1730; // [esp+51Ch] [ebp-120h]
  float v1731; // [esp+520h] [ebp-11Ch]
  float v1732; // [esp+524h] [ebp-118h]
  int v1733; // [esp+528h] [ebp-114h]
  float v1734; // [esp+52Ch] [ebp-110h]
  float v1735; // [esp+530h] [ebp-10Ch]
  int v1736; // [esp+534h] [ebp-108h]
  float v1737; // [esp+538h] [ebp-104h]
  float v1738; // [esp+53Ch] [ebp-100h]
  float v1739; // [esp+540h] [ebp-FCh]
  float v1740; // [esp+544h] [ebp-F8h]
  float v1741; // [esp+548h] [ebp-F4h]
  float v1742; // [esp+54Ch] [ebp-F0h]
  float v1743; // [esp+550h] [ebp-ECh]
  int v1744; // [esp+554h] [ebp-E8h]
  float v1745; // [esp+558h] [ebp-E4h]
  float v1746; // [esp+55Ch] [ebp-E0h]
  float v1747; // [esp+560h] [ebp-DCh]
  int v1748; // [esp+564h] [ebp-D8h]
  float v1749; // [esp+568h] [ebp-D4h]
  float v1750; // [esp+56Ch] [ebp-D0h]
  float v1751; // [esp+570h] [ebp-CCh]
  int v1752; // [esp+574h] [ebp-C8h]
  float v1753; // [esp+578h] [ebp-C4h]
  float v1754; // [esp+57Ch] [ebp-C0h]
  float v1755; // [esp+580h] [ebp-BCh]
  int v1756; // [esp+584h] [ebp-B8h]
  float v1757; // [esp+588h] [ebp-B4h]
  float v1758; // [esp+58Ch] [ebp-B0h]
  float v1759; // [esp+590h] [ebp-ACh]
  int v1760; // [esp+594h] [ebp-A8h]
  float v1761; // [esp+598h] [ebp-A4h]
  float v1762; // [esp+59Ch] [ebp-A0h]
  float v1763; // [esp+5A0h] [ebp-9Ch]
  int v1764; // [esp+5A4h] [ebp-98h]
  float v1765; // [esp+5A8h] [ebp-94h]
  float v1766; // [esp+5ACh] [ebp-90h]
  float v1767; // [esp+5B0h] [ebp-8Ch]
  int v1768; // [esp+5B4h] [ebp-88h]
  float v1769; // [esp+5B8h] [ebp-84h]
  float v1770; // [esp+5BCh] [ebp-80h]
  float v1771; // [esp+5C0h] [ebp-7Ch]
  float v1772; // [esp+5C4h] [ebp-78h]
  float v1773; // [esp+5C8h] [ebp-74h]
  float v1774; // [esp+5CCh] [ebp-70h]
  float v1775; // [esp+5D0h] [ebp-6Ch]
  int v1776; // [esp+5D4h] [ebp-68h]
  float v1777; // [esp+5D8h] [ebp-64h]
  float v1778; // [esp+5DCh] [ebp-60h]
  float v1779; // [esp+5E0h] [ebp-5Ch]
  float v1780; // [esp+5E4h] [ebp-58h]
  float v1781; // [esp+5E8h] [ebp-54h]
  float v1782; // [esp+5ECh] [ebp-50h]
  float v1783; // [esp+5F0h] [ebp-4Ch]
  int v1784; // [esp+5F4h] [ebp-48h]
  float v1785; // [esp+5F8h] [ebp-44h]
  float v1786; // [esp+5FCh] [ebp-40h]
  float v1787; // [esp+600h] [ebp-3Ch]
  float v1788; // [esp+604h] [ebp-38h]
  float v1789; // [esp+608h] [ebp-34h]
  float v1790; // [esp+60Ch] [ebp-30h]
  float v1791; // [esp+610h] [ebp-2Ch]
  int v1792; // [esp+614h] [ebp-28h]
  float v1793; // [esp+618h] [ebp-24h]
  float v1794; // [esp+61Ch] [ebp-20h]
  float v1795; // [esp+620h] [ebp-1Ch]
  int v1796; // [esp+624h] [ebp-18h]
  float v1797; // [esp+628h] [ebp-14h]
  float v1798; // [esp+630h] [ebp-Ch]
  float v1799; // [esp+634h] [ebp-8h]

  v1 = 0.0;
  v2 = 3.0;
  v3 = a1;
  a1->char_c.x_delta = 0;
  a1->char_c.y_delta = 106;
  if ( LOBYTE(a1->char_c.controlling_type) == 2 )
  {
    if ( a1->char_c.cards_added >= 1 )
    {
      v4 = get_added_card_by_id((def_deque *)&a1->char_c.cards_active, 0)->id;
      if ( v4 > 0xB )
      {
        v1 = 0.0;
      }
      else
      {
        switch ( byte_4CFA60[v4] )
        {
          case 0:
            v3->char_c.field_4AA = 2;
            v3->char_c.field_534 = 0.25;
            v3->char_c.field_55C = 2.0;
            v1 = 0.0;
            v3->char_c.field_538 = 0.0;
            v3->char_c.field_86A = 1;
            if ( *(_WORD *)&v3->char_c.meta.current_frame_params->extra_6byte[4] == 1 )
            {
              v3->char_c.field_86A = 3;
              v3->char_c.field_55C = 3.5;
            }
            if ( *(_WORD *)&v3->char_c.meta.current_frame_params->extra_6byte[4] == 2 )
            {
              v3->char_c.field_86A = 3;
              v3->char_c.field_55C = 5.0;
            }
            break;
          case 1:
            v3->char_c.field_4AA = 2;
            v3->char_c.field_534 = 0.25;
            v3->char_c.field_55C = 1.0;
            v1 = 0.0;
            v3->char_c.field_538 = 0.0;
            v3->char_c.field_86A = 1;
            if ( *(_WORD *)&v3->char_c.meta.current_frame_params->extra_6byte[4] == 1 )
            {
              v3->char_c.field_86A = 3;
              v3->char_c.field_55C = 4.0;
            }
            if ( *(_WORD *)&v3->char_c.meta.current_frame_params->extra_6byte[4] == 2 )
            {
              v3->char_c.field_86A = 3;
              v3->char_c.field_55C = 7.0;
            }
            break;
          case 2:
            v3->char_c.field_4AA = 2;
            v3->char_c.field_534 = 0.25;
            v3->char_c.field_55C = 1.0;
            v1 = 0.0;
            v3->char_c.field_538 = 0.0;
            v3->char_c.field_86A = 1;
            if ( *(_WORD *)&v3->char_c.meta.current_frame_params->extra_6byte[4] == 1 )
            {
              v3->char_c.field_86A = 3;
              v3->char_c.field_55C = 3.0;
            }
            if ( *(_WORD *)&v3->char_c.meta.current_frame_params->extra_6byte[4] == 2 )
            {
              v3->char_c.field_86A = 3;
              v3->char_c.field_55C = 6.0;
            }
            break;
        }
      }
    }
    if ( v3->char_c.field_882 == 1 )
    {
      if ( v3->char_c.meta.field_188 >= v3->char_c.meta.max_health && !v3->char_c.field_574 )
      {
        v3->char_c.field_86A = 2;
        v3->char_c.field_882 = 2;
        char_c::flip_with_force(&v3->char_c);
        v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 149);
        v5 = v3->char_c.meta.cEffectSprite.y + 100.0;
        scene_add_effect(&v3->char_c, 53, v3->char_c.meta.cEffectSprite.x, v5, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
        if ( v3->char_c.cards_added >= 1 )
        {
          v6 = get_added_card_by_id((def_deque *)&v3->char_c.cards_active, 0)->id;
          if ( v6 <= 0xB )
          {
            v7 = (unsigned __int8)byte_4CFA70[v6];
            v3->char_c.field_884 = 300;
            v3->char_c.field_886 = 300;
          }
        }
        v1 = 0.0;
      }
      if ( v3->char_c.meta.health <= 0 )
        v3->char_c.field_882 = 2;
    }
    if ( v3->char_c.field_884 > 0 )
    {
      v8 = v3->char_c.damage_limit;
      if ( v8 > 0 && v8 < 100 )
        v3->char_c.damage_limit = 0;
      if ( v3->char_c.field_884 == 1 || v3->char_c.meta.health <= 0 )
      {
        v3->char_c.field_4AA = 0;
        v3->char_c.field_884 = 0;
        v3->char_c.field_4BA = 0;
        v3->char_c.meta.field_188 = 0;
        *(_DWORD *)&v3->char_c.field_81E = 1;
        v3->char_c.field_81A = 0;
        v3->char_c.field_81C = 0;
        v3->char_c.field_818 = 0;
        v3->char_c.field_882 = 1;
        if ( v3->char_c.meta.health <= 0 )
          goto LABEL_37;
        *(float *)&a7 = v1;
        v1602 = v1;
        v1603 = v1;
        addbullet(&v3->char_c, 1201, 180.0, 130.0, 1, 2, (int)&a7, 3);
        v1 = 0.0;
      }
      else
      {
        v3->char_c.field_86A = 2;
        v3->char_c.field_4AA = 2;
        v3->char_c.field_538 = 1.0;
        v3->char_c.field_534 = 1.0;
        --v3->char_c.field_884;
        v3->char_c.field_4BA = 6000;
      }
    }
    if ( v3->char_c.meta.health > 0 )
    {
LABEL_38:
      v2 = 3.0;
      goto LABEL_39;
    }
LABEL_37:
    v3->char_c.field_86A = 0;
    goto LABEL_38;
  }
LABEL_39:
  v9 = 0.1000000014901161;
  v10 = 12.0;
  v11 = 0.5;
  if ( v3->field_892 <= 0 )
  {
    v3->field_892 = 0;
    v26 = 12.0;
    v3->field_894 = 0;
    v3->field_890 = 0;
    v3->field_898 = v1;
    v3->field_89C = v1;
  }
  else
  {
    v12 = v3->char_c.meta.playing_seq;
    if ( v12 >= 600 && v12 != 615 )
    {
      v3->field_892 = 0;
      v3->field_894 = 0;
      v3->field_890 = 0;
      v3->field_898 = v1;
      v3->field_89C = v1;
    }
    if ( v3->char_c.meta.playing_seq != 615 && v3->field_890 != 50 )
    {
      --v3->field_892;
      --v3->field_894;
    }
    if ( v3->char_c.meta.health <= 0 || v3->char_c.meta.enemy->meta.health <= 0 )
    {
      v3->field_892 = 0;
      v3->field_894 = 0;
      v3->field_890 = 0;
    }
    if ( v3->field_890 != 50 )
    {
      v13 = v3->char_c.meta.playing_seq;
      if ( v13 >= 50 && v13 <= 149 )
      {
        v3->field_894 = 0;
        v3->field_890 = 0;
      }
      if ( v3->field_894 <= 0 )
      {
        v3->field_894 = 0;
        v3->field_890 = 0;
      }
    }
    if ( !v3->field_890 )
    {
      if ( v2 < v3->field_89C )
      {
        v14 = v3->field_89C - 0.1000000014901161;
        v3->field_89C = v14;
        if ( v14 < v2 )
          v3->field_89C = v2;
      }
      if ( v2 > v3->field_89C )
      {
        v15 = v3->field_89C + 0.1000000014901161;
        v3->field_89C = v15;
        if ( v15 > v2 )
          v3->field_89C = v2;
      }
      v11 = 0.5;
    }
    v16 = v3->field_890;
    if ( v16 < 1 || v16 > 7 )
    {
      v23 = v11;
    }
    else
    {
      if ( v3->field_89C > 12.0 )
      {
        v17 = v3->field_89C - 0.1000000014901161;
        v3->field_89C = v17;
        if ( v17 < v2 )
          v3->field_89C = 12.0;
      }
      if ( v3->field_89C >= 12.0 )
      {
        v21 = 12.0;
      }
      else
      {
        v18 = v3->field_89C + 0.1000000014901161;
        v3->field_89C = v18;
        v19 = v18 < v2;
        v20 = v18 == v2;
        v21 = 12.0;
        if ( !((unsigned __int8)v19 | (unsigned __int8)v20) )
          v3->field_89C = 12.0;
      }
      v22 = v3->field_894;
      if ( v22 % 5 || v3->field_890 != 1 || v22 <= 0 )
      {
        v10 = v21;
        v23 = v11;
      }
      else
      {
        v3->field_890 = get_MT_range(4) + 2;
        v1 = 0.0;
        v23 = 0.5;
        v10 = 12.0;
        v9 = 0.1000000014901161;
      }
    }
    if ( v3->field_890 == 8 )
    {
      v24 = v10;
      v25 = v23;
      v26 = v24;
      if ( v25 < v3->field_89C )
      {
        v27 = v3->field_89C - v9;
        v3->field_89C = v27;
        if ( v27 < v25 )
          v3->field_89C = v25;
      }
      if ( v25 > v3->field_89C )
      {
        v28 = v3->field_89C + v9;
        v3->field_89C = v28;
        if ( v28 > v25 )
          v3->field_89C = v25;
      }
    }
    else
    {
      v26 = v10;
    }
    if ( v3->field_890 == 50 )
    {
      v29 = v9;
      v30 = v26;
      v31 = v29;
      if ( v30 < v3->field_89C )
      {
        v32 = v3->field_89C - v31;
        v3->field_89C = v32;
        if ( v32 < 3.0 )
          v3->field_89C = v30;
      }
      if ( v30 > v3->field_89C )
      {
        v33 = v3->field_89C + v31;
        v3->field_89C = v33;
        if ( v33 > 3.0 )
          v3->field_89C = v30;
      }
      v34 = v30;
      v9 = v31;
      v26 = v34;
    }
    v3->field_898 = v3->field_898 - v3->field_89C;
  }
  v35 = v3->char_c.meta.playing_seq;
  if ( v35 > 149 && v35 < 159 && !v3->char_c.bbarrier_show )
  {
    v3->char_c.bbarrier_show = 1;
    v36 = v3->char_c.meta.playing_seq;
    if ( v36 > 149 && v36 < 154 )
    {
      v37 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
      v38 = v3->char_c.meta.cEffectSprite.y + 94.0;
      v39 = v38;
      v40 = (double)(57 * (char)v37) + v3->char_c.meta.cEffectSprite.x;
      addbullet(&v3->char_c, 998, v40, v39, v37, 1, 0, 0);
      v26 = 12.0;
      v9 = 0.1000000014901161;
      v1 = 0.0;
    }
    v41 = v3->char_c.meta.playing_seq;
    if ( v41 > 153 && v41 < 158 )
    {
      v42 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
      v43 = v3->char_c.meta.cEffectSprite.y + 60.0;
      v44 = v43;
      v45 = (double)(57 * (char)v42) + v3->char_c.meta.cEffectSprite.x;
      addbullet(&v3->char_c, 998, v45, v44, v42, 1, 0, 0);
      v26 = 12.0;
      v9 = 0.1000000014901161;
      v1 = 0.0;
    }
    if ( v3->char_c.meta.playing_seq == 158 )
    {
      v46 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
      v47 = v3->char_c.meta.cEffectSprite.y + 100.0;
      v48 = v47;
      v49 = (double)(57 * (char)v46) + v3->char_c.meta.cEffectSprite.x;
      addbullet(&v3->char_c, 998, v49, v48, v46, 1, 0, 0);
      v26 = 12.0;
      v9 = 0.1000000014901161;
      v1 = 0.0;
    }
  }
  if ( v3->char_c.meta.hit_stop || v3->char_c.meta.enemy->time_stop )
    return;
  v50 = v3->char_c.meta.playing_seq;
  if ( v50 <= 300 )
  {
    if ( v50 == 300 )
    {
LABEL_667:
      char_c::sub10func(&v3->char_c);
      if ( !get_true(0) )
      {
        if ( v3->char_c.field_49A )
        {
          v228 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v3->char_c.meta.cEffectSprite.h_inerc = v228;
          if ( v228 < 0.0 )
          {
            v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
            v3->char_c.field_49A = 0;
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 4 )
        {
          scene_play_sfx(27);
          v3->char_c.field_49A = 0;
        }
      }
    }
    else
    {
      switch ( v50 )
      {
        case 0:
          char_c::sub10func(&v3->char_c);
          v51 = 0.0;
          if ( 0.0 == v3->char_c.meta.cEffectSprite.h_inerc )
            v3->char_c.field_49A = 0;
          if ( !v3->char_c.field_49A )
            goto LABEL_115;
          goto LABEL_116;
        case 1:
          char_c::sub10func(&v3->char_c);
          if ( v3->char_c.field_49A )
          {
            v54 = 0.0;
            if ( v3->char_c.meta.cEffectSprite.h_inerc > 0.0 )
            {
              v55 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v3->char_c.meta.cEffectSprite.h_inerc = v55;
              if ( v55 < 0.0 )
              {
                char_c::reset_forces(&v3->char_c);
                v54 = 0.0;
                v3->char_c.field_49A = 0;
              }
            }
            if ( v54 > v3->char_c.meta.cEffectSprite.h_inerc )
            {
              v56 = v3->char_c.meta.cEffectSprite.h_inerc + 0.5;
              v3->char_c.meta.cEffectSprite.h_inerc = v56;
              if ( v56 > v54 )
              {
                char_c::reset_forces(&v3->char_c);
                v3->char_c.field_49A = 0;
              }
            }
          }
          else
          {
            char_c::reset_forces(&v3->char_c);
          }
          if ( viz_process(&v3->char_c) )
          {
            if ( !v3->char_c.meta.viz.get_frame )
              v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 2);
          }
          return;
        case 2:
          char_c::sub10func(&v3->char_c);
          if ( v3->char_c.field_49A )
          {
            v51 = 0.0;
LABEL_116:
            if ( v51 < v3->char_c.meta.cEffectSprite.h_inerc )
            {
              v52 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v3->char_c.meta.cEffectSprite.h_inerc = v52;
              if ( v52 < v51 )
              {
                char_c::reset_forces(&v3->char_c);
                v51 = 0.0;
                v3->char_c.field_49A = 0;
              }
            }
            if ( v51 <= v3->char_c.meta.cEffectSprite.h_inerc || (v53 = v3->char_c.meta.cEffectSprite.h_inerc + 0.5, v3->char_c.meta.cEffectSprite.h_inerc = v53, v53 <= v51) )
            {
LABEL_189:
              viz_process(&v3->char_c);
            }
            else
            {
              char_c::reset_forces(&v3->char_c);
              v3->char_c.field_49A = 0;
              viz_process(&v3->char_c);
            }
          }
          else
          {
LABEL_115:
            char_c::reset_forces(&v3->char_c);
            viz_process(&v3->char_c);
          }
          return;
        case 3:
          char_c::sub10func(&v3->char_c);
          if ( v3->char_c.field_49A )
          {
            v57 = 0.0;
            if ( v3->char_c.meta.cEffectSprite.h_inerc > 0.0 )
            {
              v58 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
              v3->char_c.meta.cEffectSprite.h_inerc = v58;
              if ( v58 < 0.0 )
              {
                char_c::reset_forces(&v3->char_c);
                v57 = 0.0;
                v3->char_c.field_49A = 0;
              }
            }
            if ( v57 > v3->char_c.meta.cEffectSprite.h_inerc )
            {
              v59 = v3->char_c.meta.cEffectSprite.h_inerc + 0.5;
              v3->char_c.meta.cEffectSprite.h_inerc = v59;
              if ( v59 > v57 )
              {
                char_c::reset_forces(&v3->char_c);
                v3->char_c.field_49A = 0;
              }
            }
          }
          else
          {
            char_c::reset_forces(&v3->char_c);
          }
          if ( viz_process(&v3->char_c) && !v3->char_c.meta.viz.get_frame )
            goto LABEL_145;
          return;
        case 4:
          char_c::sub10func(&v3->char_c);
          char_c::char_h_move(&v3->char_c, 6.0);
          viz_process(&v3->char_c);
          return;
        case 5:
          char_c::sub10func(&v3->char_c);
          char_c::char_h_move(&v3->char_c, -5.0);
          viz_process(&v3->char_c);
          return;
        case 6:
          v60 = v3->char_c.meta.viz.get_subseq == 0;
          v61 = v3->char_c.meta.viz.get_subseq < 0;
          if ( !v3->char_c.meta.viz.get_subseq )
          {
            char_c::sub10func(&v3->char_c);
            v60 = v3->char_c.meta.viz.get_subseq == 0;
            v61 = v3->char_c.meta.viz.get_subseq < 0;
            if ( !v3->char_c.meta.viz.get_subseq )
            {
              if ( !v3->char_c.field_49A )
                char_c::reset_forces(&v3->char_c);
              v60 = v3->char_c.meta.viz.get_subseq == 0;
              v61 = v3->char_c.meta.viz.get_subseq < 0;
            }
          }
          if ( !((unsigned __int8)v61 | (unsigned __int8)v60) )
          {
            v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v3->char_c) )
              goto LABEL_188;
          }
          viz_process(&v3->char_c);
          if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame || v3->char_c.meta.viz.get_subseq != 1 )
            return;
          v62 = 0.0;
          goto LABEL_160;
        case 7:
          v64 = v3->char_c.meta.viz.get_subseq == 0;
          v65 = v3->char_c.meta.viz.get_subseq < 0;
          if ( !v3->char_c.meta.viz.get_subseq )
          {
            char_c::sub10func(&v3->char_c);
            v64 = v3->char_c.meta.viz.get_subseq == 0;
            v65 = v3->char_c.meta.viz.get_subseq < 0;
            if ( !v3->char_c.meta.viz.get_subseq )
            {
              if ( !v3->char_c.field_49A )
                char_c::reset_forces(&v3->char_c);
              v64 = v3->char_c.meta.viz.get_subseq == 0;
              v65 = v3->char_c.meta.viz.get_subseq < 0;
            }
          }
          if ( !((unsigned __int8)v65 | (unsigned __int8)v64) )
          {
            v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v3->char_c) )
              goto LABEL_188;
          }
          viz_process(&v3->char_c);
          if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame || v3->char_c.meta.viz.get_subseq != 1 )
            return;
          v62 = 5.0;
          goto LABEL_160;
        case 8:
          v66 = v3->char_c.meta.viz.get_subseq == 0;
          v67 = v3->char_c.meta.viz.get_subseq < 0;
          if ( !v3->char_c.meta.viz.get_subseq )
          {
            char_c::sub10func(&v3->char_c);
            v66 = v3->char_c.meta.viz.get_subseq == 0;
            v67 = v3->char_c.meta.viz.get_subseq < 0;
            if ( !v3->char_c.meta.viz.get_subseq )
            {
              if ( !v3->char_c.field_49A )
                char_c::reset_forces(&v3->char_c);
              v66 = v3->char_c.meta.viz.get_subseq == 0;
              v67 = v3->char_c.meta.viz.get_subseq < 0;
            }
          }
          if ( !((unsigned __int8)v67 | (unsigned __int8)v66) )
          {
            v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v3->char_c) )
              goto LABEL_188;
          }
          viz_process(&v3->char_c);
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          {
            v62 = -4.0;
LABEL_160:
            v63 = v62;
            char_c::char_h_move(&v3->char_c, v63);
            v3->char_c.meta.cEffectSprite.v_inerc = 16.0;
            v3->char_c.meta.cEffectSprite.v_force = 0.75;
            v3->char_c.field_49A = 0;
          }
          return;
        case 9:
          if ( v1 == v3->char_c.meta.cEffectSprite.v_force )
            v3->char_c.meta.cEffectSprite.v_force = 0.60000002;
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( !char_c::char_on_ground_down(&v3->char_c) )
            goto LABEL_189;
LABEL_188:
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 10);
          v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
          char_c::reset_forces(&v3->char_c);
          return;
        case 10:
          char_c::sub10func(&v3->char_c);
          char_c::reset_forces(&v3->char_c);
          if ( !viz_process(&v3->char_c) )
            return;
          v68 = v3->char_c.meta.vtbl->set_seq_func2;
          v69 = v3;
          if ( v3->char_c.down_Y )
            goto LABEL_193;
          v68(&v3->char_c.meta, 0);
          return;
        case 197:
          v70 = v3->char_c.meta.viz.get_subseq;
          if ( !v70 && v3->char_c.meta.viz.get_frame <= 4 || v70 == 2 )
            char_c::sub10func(&v3->char_c);
          if ( v3->char_c.meta.viz.get_subseq < 2 )
            v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 2 )
          {
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
            return;
          }
          if ( !viz_process(&v3->char_c) )
            goto LABEL_209;
          v71 = v3->char_c.meta.vtbl->set_seq_func2;
          v72 = v3;
          if ( LOBYTE(v3->char_c.controlling_type) == 2 )
          {
LABEL_205:
            v71(&v72->char_c.meta, 700);
            goto LABEL_206;
          }
          v71(&v3->char_c.meta, 0);
          if ( v3->char_c.down_Y > 0 )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 1);
LABEL_209:
          if ( v3->char_c.meta.viz.get_subseq == 2 && v3->char_c.meta.viz.get_frame == 3 && !v3->char_c.meta.viz.get_frame_time )
          {
            if ( v3->char_c.meta.enemy->meta.cEffectSprite.x < (double)v3->char_c.meta.cEffectSprite.x )
              v3->char_c.meta.cEffectSprite.dir = -1;
            if ( v3->char_c.meta.enemy->meta.cEffectSprite.x > (double)v3->char_c.meta.cEffectSprite.x )
              v3->char_c.meta.cEffectSprite.dir = 1;
          }
          if ( v3->char_c.meta.viz.get_subseq || v3->char_c.meta.viz.get_frame != 5 || v3->char_c.meta.viz.get_frame_time )
            return;
          v3->char_c.meta.cEffectSprite.v_inerc = 6.0;
          v73 = 14.5;
          goto LABEL_220;
        case 198:
          v74 = v3->char_c.meta.viz.get_subseq;
          if ( !v74 && v3->char_c.meta.viz.get_frame <= 3 || v74 == 2 )
            char_c::sub10func(&v3->char_c);
          if ( v3->char_c.meta.viz.get_subseq < 2 )
            v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 2 )
          {
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
            return;
          }
          if ( !viz_process(&v3->char_c) )
            goto LABEL_235;
          v75 = v3->char_c.meta.vtbl->set_seq_func2;
          if ( LOBYTE(v3->char_c.controlling_type) == 2 )
          {
            v75(&v3->char_c.meta, 700);
LABEL_206:
            v3->char_c.field_51C = 3;
            v3->char_c.field_520 = 3;
          }
          else
          {
            v75(&v3->char_c.meta, 0);
            if ( v3->char_c.down_Y > 0 )
              v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 1);
LABEL_235:
            if ( v3->char_c.meta.viz.get_subseq == 2 && v3->char_c.meta.viz.get_frame == 3 && !v3->char_c.meta.viz.get_frame_time )
            {
              if ( v3->char_c.meta.enemy->meta.cEffectSprite.x < (double)v3->char_c.meta.cEffectSprite.x )
                v3->char_c.meta.cEffectSprite.dir = -1;
              if ( v3->char_c.meta.enemy->meta.cEffectSprite.x > (double)v3->char_c.meta.cEffectSprite.x )
                v3->char_c.meta.cEffectSprite.dir = 1;
            }
            if ( !v3->char_c.meta.viz.get_subseq && v3->char_c.meta.viz.get_frame == 4 && !v3->char_c.meta.viz.get_frame_time )
            {
              v3->char_c.meta.cEffectSprite.v_inerc = 6.0;
              v73 = -14.5;
LABEL_220:
              v3->char_c.meta.cEffectSprite.h_inerc = v73;
              v3->char_c.meta.cEffectSprite.v_force = 0.5;
            }
          }
          return;
        case 199:
          char_c::sub10func(&v3->char_c);
          if ( !viz_process(&v3->char_c) )
            goto LABEL_250;
          v71 = v3->char_c.meta.vtbl->set_seq_func2;
          v72 = v3;
          if ( LOBYTE(v3->char_c.controlling_type) == 2 )
            goto LABEL_205;
          v71(&v3->char_c.meta, 0);
          if ( v3->char_c.down_Y > 0 )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 1);
LABEL_250:
          if ( !v3->char_c.meta.viz.get_subseq && v3->char_c.meta.viz.get_frame == 12 && !v3->char_c.meta.viz.get_frame_time )
          {
            if ( v3->char_c.meta.enemy->meta.cEffectSprite.x < (double)v3->char_c.meta.cEffectSprite.x )
              v3->char_c.meta.cEffectSprite.dir = -1;
            if ( v3->char_c.meta.enemy->meta.cEffectSprite.x > (double)v3->char_c.meta.cEffectSprite.x )
              v3->char_c.meta.cEffectSprite.dir = 1;
          }
          return;
        case 200:
          char_c::sub10func(&v3->char_c);
          v3->char_c.field_49A = 1;
          if ( v3->char_c.meta.cEffectSprite.h_inerc > 12.0 )
          {
            v76 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v3->char_c.meta.cEffectSprite.h_inerc = v76;
            if ( v76 < 12.0 )
              v3->char_c.meta.cEffectSprite.h_inerc = 12.0;
          }
          viz_process(&v3->char_c);
          if ( v3->char_c.meta.viz.get_subseq != 1 )
            goto LABEL_271;
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v77 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v78 = v3->char_c.meta.cEffectSprite.x + 50.0;
            v79 = (double)(MT_getnext() % 0xC8u) + v3->char_c.meta.cEffectSprite.y;
            v80 = v79;
            v81 = v78 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v3->char_c, 124, v81, v80, v77, 1);
          }
          if ( v3->char_c.down_Y >= 0 )
          {
            v84 = ++v3->char_c.field_7D0;
            if ( (v3->char_c.down_X * v3->char_c.meta.cEffectSprite.dir > 0 || v84 <= 5) && v84 <= 45 )
            {
LABEL_271:
              if ( !v3->char_c.meta.viz.get_subseq && v3->char_c.meta.viz.get_frame == 3 && !v3->char_c.meta.viz.get_frame_time )
              {
                char_c::char_h_move(&v3->char_c, 15.0);
                v85 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
                v86 = v3->char_c.meta.cEffectSprite.y + 80.0;
                v87 = v86;
                v88 = (double)(80 * (char)v85) + v3->char_c.meta.cEffectSprite.x;
                scene_add_effect(&v3->char_c, 125, v88, v87, v85, 1);
                v89 = v3->char_c.meta.cEffectSprite.y + 80.0;
                scene_add_effect(&v3->char_c, 126, v3->char_c.meta.cEffectSprite.x, v89, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
                scene_play_sfx(31);
              }
            }
            else
            {
              v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 204);
            }
          }
          else
          {
            v82 = v3->char_c.down_X * v3->char_c.meta.cEffectSprite.dir;
            v60 = v82 == 0;
            v61 = v82 < 0;
            v83 = v3->char_c.meta.vtbl->set_seq_func2;
            if ( (unsigned __int8)v61 | (unsigned __int8)v60 )
              v83(&v3->char_c.meta, 211);
            else
              v83(&v3->char_c.meta, 212);
          }
          return;
        case 201:
          v90 = v3->char_c.meta.viz.get_subseq;
          if ( !v90 || v90 == 3 )
          {
            char_c::sub10func(&v3->char_c);
            v1 = 0.0;
          }
          if ( v3->char_c.meta.viz.get_subseq == 3 )
          {
            v91 = v3->char_c.meta.cEffectSprite.h_inerc + 2.0;
            v3->char_c.meta.cEffectSprite.h_inerc = v91;
            if ( v91 > v1 )
              v3->char_c.meta.cEffectSprite.h_inerc = v1;
          }
          if ( !(unsigned __int8)char_c::char_on_ground_flag(&v3->char_c) && !(v3->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v92 = v3->char_c.meta.cEffectSprite.x + 50.0;
            v93 = (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir;
            v94 = (double)(MT_getnext() % 0xC8u) + v3->char_c.meta.cEffectSprite.y;
            v95 = v94;
            v96 = v92 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v3->char_c, 124, v96, v95, v93, 1);
          }
          if ( v3->char_c.meta.viz.get_subseq < 3 )
          {
            v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v3->char_c) )
              goto LABEL_286;
          }
          if ( viz_process(&v3->char_c) )
          {
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
            char_c::reset_forces(&v3->char_c);
          }
          else if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          {
            char_c::char_h_move(&v3->char_c, -14.0);
            v3->char_c.meta.cEffectSprite.v_inerc = 4.0;
            v3->char_c.meta.cEffectSprite.v_force = 0.5;
            v97 = v3->char_c.meta.cEffectSprite.y + 80.0;
            scene_add_effect(&v3->char_c, 125, v3->char_c.meta.cEffectSprite.x, v97, (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir, 1);
            v98 = v3->char_c.meta.cEffectSprite.y + 80.0;
            scene_add_effect(&v3->char_c, 126, v3->char_c.meta.cEffectSprite.x, v98, (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir, 1);
            scene_play_sfx(31);
          }
          return;
        case 202:
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
            goto LABEL_296;
          v99 = v3->char_c.meta.viz.get_subseq;
          if ( (v99 == 1 || v99 == 2) && !(v3->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v100 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v101 = v3->char_c.meta.cEffectSprite.x + 50.0;
            v102 = (double)(MT_getnext() % 0xC8u) + v3->char_c.meta.cEffectSprite.y;
            v103 = v102;
            v104 = v101 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v3->char_c, 124, v104, v103, v100, 1);
          }
          viz_process(&v3->char_c);
          if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 2 )
          {
            v3->char_c.field_7D0 = 0;
            char_c::char_h_move(&v3->char_c, 11.0);
            v3->char_c.meta.cEffectSprite.v_inerc = 4.0;
            v3->char_c.meta.cEffectSprite.v_force = 0.5;
            v105 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v106 = v3->char_c.meta.cEffectSprite.y + 110.0;
            v107 = v106;
            v108 = (double)(80 * (char)v105) + v3->char_c.meta.cEffectSprite.x;
            scene_add_effect(&v3->char_c, 125, v108, v107, v105, 1);
            v109 = v3->char_c.meta.cEffectSprite.y + 110.0;
            scene_add_effect(&v3->char_c, 126, v3->char_c.meta.cEffectSprite.x, v109, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
            scene_play_sfx(31);
          }
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 2 )
            char_c::flip_with_force(&v3->char_c);
          return;
        case 203:
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            char_c::reset_forces(&v3->char_c);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 10);
          }
          else
          {
            if ( v3->char_c.meta.viz.get_subseq < 3 && !(v3->char_c.meta.viz.get_elaps_frames % 5) )
            {
              v110 = v3->char_c.meta.cEffectSprite.x + 50.0;
              v111 = (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir;
              v112 = (double)(MT_getnext() % 0xC8u) + v3->char_c.meta.cEffectSprite.y;
              v113 = v112;
              v114 = v110 - (double)(MT_getnext() % 0x64u);
              scene_add_effect(&v3->char_c, 124, v114, v113, v111, 1);
            }
            viz_process(&v3->char_c);
            if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 3 )
            {
              char_c::char_h_move(&v3->char_c, -11.0);
              v3->char_c.meta.cEffectSprite.v_inerc = 4.0;
              v3->char_c.meta.cEffectSprite.v_force = 0.5;
              v115 = v3->char_c.meta.cEffectSprite.y + 120.0;
              scene_add_effect(&v3->char_c, 125, v3->char_c.meta.cEffectSprite.x, v115, (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir, 1);
              v116 = v3->char_c.meta.cEffectSprite.y + 120.0;
              scene_add_effect(&v3->char_c, 126, v3->char_c.meta.cEffectSprite.x, v116, (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir, 1);
              scene_play_sfx(31);
            }
            if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 2 )
              char_c::flip_with_force(&v3->char_c);
          }
          return;
        case 204:
          char_c::sub10func(&v3->char_c);
          v117 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v3->char_c.meta.cEffectSprite.h_inerc = v117;
          if ( v117 < 0.0 )
          {
            v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
            v3->char_c.field_49A = 0;
          }
          if ( viz_process(&v3->char_c) )
          {
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
            v3->char_c.field_49A = 0;
          }
          return;
        case 208:
          if ( !v3->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v3->char_c);
          v118 = char_c::char_on_ground_down(&v3->char_c);
          v119 = v3;
          if ( v118 )
            goto LABEL_331;
          if ( (unsigned __int8)char_c::char_on_ground_flag(&v3->char_c) || v3->char_c.meta.cEffectSprite.v_inerc > 0.0 )
            v3->char_c.field_522 = 2;
          if ( v3->char_c.meta.viz.get_subseq > 0 )
          {
            v120 = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
            v3->char_c.meta.cEffectSprite.v_inerc = v120;
            if ( v120 < -20.0 )
              v3->char_c.meta.cEffectSprite.v_inerc = -20.0;
          }
          if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.cEffectSprite.v_inerc < 4.0 )
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
          viz_process(&v3->char_c);
          if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame || v3->char_c.meta.viz.get_subseq != 1 )
            return;
          v121 = 0.0;
          goto LABEL_347;
        case 209:
        case 221:
          if ( !v3->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v3->char_c);
          v125 = char_c::char_on_ground_down(&v3->char_c);
          v119 = v3;
          if ( v125 )
            goto LABEL_331;
          if ( (unsigned __int8)char_c::char_on_ground_flag(&v3->char_c) || v3->char_c.meta.cEffectSprite.v_inerc > 0.0 )
            v3->char_c.field_522 = 2;
          if ( v3->char_c.meta.viz.get_subseq > 0 )
          {
            v126 = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
            v3->char_c.meta.cEffectSprite.v_inerc = v126;
            if ( v126 < -20.0 )
              v3->char_c.meta.cEffectSprite.v_inerc = -20.0;
          }
          if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.cEffectSprite.v_inerc < 4.0 )
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
          viz_process(&v3->char_c);
          if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame || v3->char_c.meta.viz.get_subseq != 1 )
            return;
          v127 = 10.0;
          goto LABEL_368;
        case 210:
        case 222:
          if ( !v3->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v3->char_c);
          v129 = char_c::char_on_ground_down(&v3->char_c);
          v119 = v3;
          if ( v129 )
            goto LABEL_331;
          if ( (unsigned __int8)char_c::char_on_ground_flag(&v3->char_c) || v3->char_c.meta.cEffectSprite.v_inerc > 0.0 )
            v3->char_c.field_522 = 2;
          if ( v3->char_c.meta.viz.get_subseq > 0 )
          {
            v130 = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
            v3->char_c.meta.cEffectSprite.v_inerc = v130;
            if ( v130 < -20.0 )
              v3->char_c.meta.cEffectSprite.v_inerc = -20.0;
          }
          if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.cEffectSprite.v_inerc < 4.0 )
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
          viz_process(&v3->char_c);
          if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame || v3->char_c.meta.viz.get_subseq != 1 )
            return;
          v127 = -10.0;
LABEL_368:
          v128 = v127;
          char_c::char_h_move(&v3->char_c, v128);
          v123 = 18.0;
          goto LABEL_348;
        case 211:
          if ( !v3->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v3->char_c);
          v131 = char_c::char_on_ground_down(&v3->char_c);
          v119 = v3;
          if ( v131 )
            goto LABEL_331;
          if ( (unsigned __int8)char_c::char_on_ground_flag(&v3->char_c) || v3->char_c.meta.cEffectSprite.v_inerc > 0.0 )
            v3->char_c.field_522 = 2;
          if ( v3->char_c.meta.viz.get_subseq > 0 )
          {
            v132 = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
            v3->char_c.meta.cEffectSprite.v_inerc = v132;
            if ( v132 < -20.0 )
              v3->char_c.meta.cEffectSprite.v_inerc = -20.0;
          }
          if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.cEffectSprite.v_inerc < 4.0 )
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
          viz_process(&v3->char_c);
          if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame || v3->char_c.meta.viz.get_subseq != 1 )
            return;
          v121 = 3.0;
LABEL_347:
          v122 = v121;
          char_c::char_h_move(&v3->char_c, v122);
          v123 = 22.5;
LABEL_348:
          v3->char_c.meta.cEffectSprite.v_inerc = v123;
          v124 = 0.85000002;
          goto LABEL_349;
        case 212:
          if ( !v3->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v3->char_c);
          v133 = char_c::char_on_ground_down(&v3->char_c);
          v119 = v3;
          if ( v133 )
            goto LABEL_331;
          if ( (unsigned __int8)char_c::char_on_ground_flag(&v3->char_c) || v3->char_c.meta.cEffectSprite.v_inerc > 0.0 )
            v3->char_c.field_522 = 2;
          if ( v3->char_c.meta.viz.get_subseq > 0 )
          {
            v134 = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
            v3->char_c.meta.cEffectSprite.v_inerc = v134;
            if ( v134 < -20.0 )
              v3->char_c.meta.cEffectSprite.v_inerc = -20.0;
          }
          if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.cEffectSprite.v_inerc < 4.0 )
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
          viz_process(&v3->char_c);
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          {
            char_c::char_h_move(&v3->char_c, 10.0);
            v3->char_c.meta.cEffectSprite.v_inerc = 16.0;
            v124 = 0.69999999;
LABEL_349:
            v3->char_c.meta.cEffectSprite.v_force = v124;
            v3->char_c.field_49A = 0;
            scene_add_effect(&v3->char_c, 63, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
          }
          return;
        case 214:
          if ( viz_process(&v3->char_c) )
            goto LABEL_803;
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
            scene_play_sfx(31);
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 6 )
            goto LABEL_803;
          v135 = v3->char_c.down_Y;
          v136 = v3->char_c.meta.cEffectSprite.dir;
          v60 = v135 == 0;
          v137 = v135 < 0;
          v138 = v3->char_c.down_X;
          if ( (unsigned __int8)v137 | (unsigned __int8)v60 )
          {
            if ( v137 )
            {
              v140 = v136 * v138;
              if ( v140 <= 0 )
                v3->char_c.field_7D2 = v140 >= 0 ? 90 : 135;
              else
                v3->char_c.field_7D2 = 45;
            }
            else
            {
              v141 = v136 * v138;
              if ( v141 <= 0 )
              {
                if ( v141 < 0 )
                  v3->char_c.field_7D2 = 180;
              }
              else
              {
                v3->char_c.field_7D2 = 0;
              }
            }
          }
          else
          {
            v139 = v136 * v138;
            if ( v139 <= 0 )
              v3->char_c.field_7D2 = v139 >= 0 ? -90 : -135;
            else
              v3->char_c.field_7D2 = -45;
          }
          v142 = v3->char_c.meta.viz.get_subseq;
          if ( v142 == 5 || v142 == 6 )
            v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          v143 = v3->char_c.meta.viz.get_subseq;
          if ( v143 > 0 && v143 < 5 )
          {
            ++v3->char_c.field_7D6;
            v144 = v3->char_c.field_7D2 - (signed int)v3->char_c.dash_angle;
            v3->char_c.field_7D4 = v144;
            if ( v144 > 180 )
              v3->char_c.field_7D4 = v144 - 360;
            v145 = v3->char_c.field_7D4;
            if ( v145 < -180 )
              v3->char_c.field_7D4 = v145 + 360;
            v146 = v3->char_c.field_7D4 < 0;
            if ( v3->char_c.field_7D4 > 0 )
            {
              v147 = v3->char_c.dash_angle;
              if ( v3->char_c.weather_id )
                v148 = v147 + 0.5;
              else
                v148 = v147 + 1.5;
              v3->char_c.dash_angle = v148;
              v146 = v3->char_c.field_7D4 < 0;
            }
            if ( v146 )
            {
              if ( v3->char_c.weather_id )
                v149 = v3->char_c.dash_angle - 0.5;
              else
                v149 = v3->char_c.dash_angle - 1.5;
              v3->char_c.dash_angle = v149;
            }
            v3->char_c.meta.cEffectSprite.h_inerc = cosinus(v3->char_c.dash_angle) * v3->char_c.field_7DC;
            v1393 = sinus(v3->char_c.dash_angle) * v3->char_c.field_7DC;
            v3->char_c.meta.cEffectSprite.v_inerc = v1393;
            if ( v3->char_c.meta.cEffectSprite.y > 680.0 && v1393 > 0.0 )
              v3->char_c.meta.cEffectSprite.v_inerc = 0.0;
            v150 = v3->char_c.field_7DC + 0.300000011920929;
            v3->char_c.field_7DC = v150;
            if ( v150 > 12.0 )
              v3->char_c.field_7DC = 12.0;
            if ( v3->char_c.weather_id )
              char_c::spell_energy_spend(&v3->char_c, 10, 1);
            else
              char_c::spell_energy_spend(&v3->char_c, 5, 1);
            v3->char_c.meta.cEffectSprite.angZ = -v3->char_c.dash_angle;
            v151 = 0.0;
            if ( v3->char_c.meta.cEffectSprite.h_inerc < 0.0 )
              v3->char_c.meta.cEffectSprite.angZ = 180.0 - v3->char_c.dash_angle;
            if ( v3->char_c.meta.cEffectSprite.h_inerc < 0.0 && v3->char_c.meta.viz.get_subseq == 1 )
            {
              v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 3);
              v151 = 0.0;
            }
            if ( v151 <= v3->char_c.meta.cEffectSprite.h_inerc && v3->char_c.meta.viz.get_subseq == 3 )
            {
              v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 1);
              v151 = 0.0;
            }
            if ( v151 > v3->char_c.meta.cEffectSprite.h_inerc && v3->char_c.meta.viz.get_subseq == 2 )
            {
              v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 4);
              v151 = 0.0;
            }
            if ( v151 <= v3->char_c.meta.cEffectSprite.h_inerc && v3->char_c.meta.viz.get_subseq == 4 )
              v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
            if ( v3->char_c.meta.viz.get_elaps_frames % 5 == 1 )
            {
              v152 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v153 = sinus(v3->char_c.dash_angle) * 100.0 + v3->char_c.meta.cEffectSprite.y + 100.0;
              v154 = v153;
              v155 = cosinus(v3->char_c.dash_angle) * 100.0 * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v3->char_c, 125, v155, v154, v152, 1);
            }
            if ( (v156 = v3->char_c.down_D) == 0 && v3->char_c.field_7D6 > 10 || v3->char_c.spell_energy <= 0 )
            {
              if ( !v156 && v3->char_c.field_7D6 > 10 || v3->char_c.spell_energy <= 0 )
              {
                CEffectSprite::init(&v3->char_c.meta.cEffectSprite);
                v157 = v3->char_c.meta.viz.get_subseq;
                v158 = v157 == 1;
                goto LABEL_492;
              }
            }
          }
          if ( !char_c::char_on_ground_down(&v3->char_c) )
            return;
          v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
          v3->char_c.meta.cEffectSprite.v_force = 0.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 0.0;
          if ( v3->char_c.meta.viz.get_subseq < 5 )
            goto LABEL_512;
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 10);
          char_c::reset_forces(&v3->char_c);
          return;
        case 215:
          char_c::sub10func(&v3->char_c);
          if ( v3->char_c.meta.cEffectSprite.h_inerc > 0.0 )
          {
            v167 = v3->char_c.meta.cEffectSprite.h_inerc - 0.75;
            v3->char_c.meta.cEffectSprite.h_inerc = v167;
            if ( v167 < 0.0 )
              v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
          if ( v3->char_c.meta.cEffectSprite.h_inerc < 0.0 )
          {
            v168 = v3->char_c.meta.cEffectSprite.h_inerc + 0.75;
            v3->char_c.meta.cEffectSprite.h_inerc = v168;
            if ( v168 > 0.0 )
              v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
          if ( viz_process(&v3->char_c) )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
          return;
        case 217:
          if ( viz_process(&v3->char_c) )
            goto LABEL_831;
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
            scene_play_sfx(31);
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 6 )
            goto LABEL_831;
          v169 = v3->char_c.meta.enemy;
          v170 = (v169->meta.cEffectSprite.x - v3->char_c.meta.cEffectSprite.x) * (double)v3->char_c.meta.cEffectSprite.dir;
          v171 = v170;
          v172 = v169->meta.cEffectSprite.y + 100.0 - v3->char_c.meta.cEffectSprite.y;
          v3->char_c.field_7D2 = (signed int)atan2_deg(v172, v171);
          v173 = v3->char_c.meta.viz.get_subseq;
          if ( v173 == 5 || v173 == 6 )
            v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          v174 = v3->char_c.meta.viz.get_subseq;
          if ( v174 <= 0 )
            goto LABEL_2943;
          if ( v174 >= 5 )
            goto LABEL_2943;
          ++v3->char_c.field_7D6;
          v175 = v3->char_c.field_7D2 - (signed int)v3->char_c.dash_angle;
          v3->char_c.field_7D4 = v175;
          if ( v175 > 180 )
            v3->char_c.field_7D4 = v175 - 360;
          v176 = v3->char_c.field_7D4;
          if ( v176 < -180 )
            v3->char_c.field_7D4 = v176 + 360;
          v177 = v3->char_c.field_7D4 < 0;
          if ( v3->char_c.field_7D4 > 0 )
          {
            v178 = v3->char_c.dash_angle;
            if ( v3->char_c.weather_id )
              v179 = v178 + 0.25;
            else
              v179 = v178 + 0.75;
            v3->char_c.dash_angle = v179;
            v177 = v3->char_c.field_7D4 < 0;
          }
          if ( v177 )
          {
            if ( v3->char_c.weather_id )
              v180 = v3->char_c.dash_angle - 0.25;
            else
              v180 = v3->char_c.dash_angle - 0.75;
            v3->char_c.dash_angle = v180;
          }
          v3->char_c.meta.cEffectSprite.h_inerc = cosinus(v3->char_c.dash_angle) * v3->char_c.field_7DC;
          v1394 = sinus(v3->char_c.dash_angle) * v3->char_c.field_7DC;
          v3->char_c.meta.cEffectSprite.v_inerc = v1394;
          if ( v3->char_c.meta.cEffectSprite.y > 680.0 && v1394 > 0.0 )
            v3->char_c.meta.cEffectSprite.v_inerc = 0.0;
          v181 = v3->char_c.field_7DC + 0.300000011920929;
          v3->char_c.field_7DC = v181;
          if ( v181 > 12.0 )
            v3->char_c.field_7DC = 12.0;
          if ( v3->char_c.weather_id )
            char_c::spell_energy_spend(&v3->char_c, 15, 60);
          else
            char_c::spell_energy_spend(&v3->char_c, 10, 1);
          v3->char_c.meta.cEffectSprite.angZ = -v3->char_c.dash_angle;
          v182 = 0.0;
          if ( v3->char_c.meta.cEffectSprite.h_inerc < 0.0 )
            v3->char_c.meta.cEffectSprite.angZ = 180.0 - v3->char_c.dash_angle;
          if ( v3->char_c.meta.cEffectSprite.h_inerc < 0.0 && v3->char_c.meta.viz.get_subseq == 1 )
          {
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 3);
            v182 = 0.0;
          }
          if ( v182 <= v3->char_c.meta.cEffectSprite.h_inerc && v3->char_c.meta.viz.get_subseq == 3 )
          {
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 1);
            v182 = 0.0;
          }
          if ( v182 > v3->char_c.meta.cEffectSprite.h_inerc && v3->char_c.meta.viz.get_subseq == 2 )
          {
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 4);
            v182 = 0.0;
          }
          if ( v182 <= v3->char_c.meta.cEffectSprite.h_inerc && v3->char_c.meta.viz.get_subseq == 4 )
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
          if ( v3->char_c.meta.viz.get_elaps_frames % 5 == 1 )
          {
            v183 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v184 = sinus(v3->char_c.dash_angle) * 100.0 + v3->char_c.meta.cEffectSprite.y + 100.0;
            v185 = v184;
            v186 = cosinus(v3->char_c.dash_angle) * 100.0 * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
            scene_add_effect(&v3->char_c, 125, v186, v185, v183, 1);
          }
          if ( ((v187 = v3->char_c.down_D) != 0 || v3->char_c.field_7D6 <= 20) && v3->char_c.spell_energy > 0 || (v187 || v3->char_c.field_7D6 <= 20) && v3->char_c.spell_energy > 0 )
          {
LABEL_2943:
            if ( char_c::char_on_ground_down(&v3->char_c) )
            {
              v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
              v3->char_c.meta.cEffectSprite.v_force = 0.0;
              v3->char_c.meta.cEffectSprite.v_inerc = 0.0;
              if ( v3->char_c.meta.viz.get_subseq < 5 )
              {
LABEL_512:
                CEffectSprite::init(&v3->char_c.meta.cEffectSprite);
                v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 215);
              }
              else
              {
                v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 10);
                char_c::reset_forces(&v3->char_c);
              }
            }
          }
          else
          {
            CEffectSprite::init(&v3->char_c.meta.cEffectSprite);
            v157 = v3->char_c.meta.viz.get_subseq;
            v158 = v157 == 1;
LABEL_492:
            if ( v158 || v157 == 2 )
            {
              v159 = v3->char_c.meta.cEffectSprite.dir;
              v160 = v3->char_c.meta.cEffectSprite.x;
              if ( v159 == 1 )
              {
                if ( v3->char_c.meta.enemy->meta.cEffectSprite.x >= v160 )
                {
                  v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 5);
                }
                else
                {
                  v3->char_c.meta.cEffectSprite.dir = -1;
                  v161 = v3->char_c.meta.vtbl->set_subseq_func3;
                  v3->char_c.meta.cEffectSprite.h_inerc = -v3->char_c.meta.cEffectSprite.h_inerc;
                  v161(&v3->char_c.meta, 6);
                }
              }
              else if ( v3->char_c.meta.enemy->meta.cEffectSprite.x <= v160 )
              {
                v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 5);
              }
              else
              {
                v3->char_c.meta.cEffectSprite.dir = -v159;
                v3->char_c.meta.cEffectSprite.h_inerc = -v3->char_c.meta.cEffectSprite.h_inerc;
                v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 6);
              }
            }
            v162 = v3->char_c.meta.viz.get_subseq;
            if ( v162 == 3 || v162 == 4 )
            {
              v163 = v3->char_c.meta.cEffectSprite.dir;
              v164 = v3->char_c.meta.cEffectSprite.x;
              if ( v163 == 1 )
              {
                if ( v3->char_c.meta.enemy->meta.cEffectSprite.x >= v164 )
                {
                  v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 6);
                }
                else
                {
                  v3->char_c.meta.cEffectSprite.dir = -1;
                  v165 = v3->char_c.meta.vtbl->set_subseq_func3;
                  v3->char_c.meta.cEffectSprite.h_inerc = -v3->char_c.meta.cEffectSprite.h_inerc;
                  v165(&v3->char_c.meta, 5);
                }
              }
              else if ( v3->char_c.meta.enemy->meta.cEffectSprite.x <= v164 )
              {
                v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 6);
              }
              else
              {
                v3->char_c.meta.cEffectSprite.dir = -v163;
                v166 = v3->char_c.meta.vtbl->set_subseq_func3;
                v3->char_c.meta.cEffectSprite.h_inerc = -v3->char_c.meta.cEffectSprite.h_inerc;
                v166(&v3->char_c.meta, 5);
              }
            }
          }
          return;
        case 220:
          if ( !v3->char_c.meta.viz.get_subseq )
            char_c::sub10func(&v3->char_c);
          v188 = char_c::char_on_ground_down(&v3->char_c);
          v189 = v3;
          if ( v188 )
            goto LABEL_588;
          if ( (unsigned __int8)char_c::char_on_ground_flag(&v3->char_c) || v3->char_c.meta.cEffectSprite.v_inerc > 0.0 )
            v3->char_c.field_522 = 2;
          if ( v3->char_c.meta.viz.get_subseq > 0 )
          {
            v190 = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
            v3->char_c.meta.cEffectSprite.v_inerc = v190;
            if ( v190 < -20.0 )
              v3->char_c.meta.cEffectSprite.v_inerc = -20.0;
          }
          if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.cEffectSprite.v_inerc < 4.0 )
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
          viz_process(&v3->char_c);
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          {
            char_c::char_h_move(&v3->char_c, 0.0);
            v3->char_c.meta.cEffectSprite.v_inerc = 22.5;
            v3->char_c.meta.cEffectSprite.v_force = 0.85000002;
            v3->char_c.field_49A = 0;
            scene_add_effect(&v3->char_c, 63, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
          }
          return;
        case 223:
          char_c::sub10func(&v3->char_c);
          v3->char_c.field_49A = 1;
          viz_process(&v3->char_c);
          if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame )
            goto LABEL_609;
          if ( v3->char_c.meta.viz.get_subseq == 1 )
          {
            if ( !v3->char_c.field_7D0 )
            {
              char_c::char_h_move(&v3->char_c, 7.5);
              v191 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v192 = v3->char_c.meta.cEffectSprite.y + 80.0;
              v193 = v192;
              v194 = (double)(80 * (char)v191) + v3->char_c.meta.cEffectSprite.x;
              scene_add_effect(&v3->char_c, 125, v194, v193, v191, 1);
              v195 = v3->char_c.meta.cEffectSprite.y + 80.0;
              scene_add_effect(&v3->char_c, 126, v3->char_c.meta.cEffectSprite.x, v195, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
              scene_play_sfx(31);
            }
LABEL_609:
            if ( v3->char_c.meta.viz.get_subseq == 1 )
            {
              if ( !(v3->char_c.meta.viz.get_elaps_frames % 5) )
              {
                v196 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
                v197 = v3->char_c.meta.cEffectSprite.x + 50.0;
                v198 = (double)(MT_getnext() % 0xC8u) + v3->char_c.meta.cEffectSprite.y;
                v199 = v198;
                v200 = v197 - (double)(MT_getnext() % 0x64u);
                scene_add_effect(&v3->char_c, 124, v200, v199, v196, 1);
              }
              v201 = ++v3->char_c.field_7D0;
              if ( v3->char_c.down_X * v3->char_c.meta.cEffectSprite.dir <= 0 && v201 > 15 || v201 > 45 )
                v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 204);
            }
          }
          return;
        case 224:
          v202 = v3->char_c.meta.viz.get_subseq;
          if ( !v202 || v202 == 3 )
          {
            char_c::sub10func(&v3->char_c);
            v1 = 0.0;
          }
          if ( v3->char_c.meta.viz.get_subseq == 3 )
          {
            v203 = v3->char_c.meta.cEffectSprite.h_inerc + 2.0;
            v3->char_c.meta.cEffectSprite.h_inerc = v203;
            if ( v203 > v1 )
              v3->char_c.meta.cEffectSprite.h_inerc = v1;
          }
          if ( !(unsigned __int8)char_c::char_on_ground_flag(&v3->char_c) && !(v3->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v204 = v3->char_c.meta.cEffectSprite.x + 50.0;
            v205 = (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir;
            v206 = (double)(MT_getnext() % 0xC8u) + v3->char_c.meta.cEffectSprite.y;
            v207 = v206;
            v208 = v204 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v3->char_c, 124, v208, v207, v205, 1);
          }
          if ( v3->char_c.meta.viz.get_subseq < 3 )
          {
            v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
            if ( char_c::char_on_ground_down(&v3->char_c) )
            {
LABEL_286:
              v3->char_c.meta.cEffectSprite.v_inerc = 0.0;
              v3->char_c.meta.cEffectSprite.v_force = 0.0;
              v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
              goto LABEL_287;
            }
          }
          if ( viz_process(&v3->char_c) )
          {
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
            v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
            v3->char_c.meta.cEffectSprite.v_force = 0.0;
          }
          else if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 && !v3->char_c.field_7D0 )
          {
            v3->char_c.field_7D0 = 1;
            char_c::char_h_move(&v3->char_c, -14.0);
            v3->char_c.meta.cEffectSprite.v_inerc = 4.0;
            v3->char_c.meta.cEffectSprite.v_force = 0.5;
            v209 = v3->char_c.meta.cEffectSprite.y + 80.0;
            scene_add_effect(&v3->char_c, 125, v3->char_c.meta.cEffectSprite.x, v209, (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir, 1);
            v210 = v3->char_c.meta.cEffectSprite.y + 80.0;
            scene_add_effect(&v3->char_c, 126, v3->char_c.meta.cEffectSprite.x, v210, (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir, 1);
            scene_play_sfx(31);
          }
          break;
        case 225:
          if ( v3->char_c.meta.viz.get_subseq >= 1 )
            v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
            goto LABEL_296;
          if ( v3->char_c.meta.viz.get_subseq >= 2 && !(v3->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v211 = v3->char_c.meta.cEffectSprite.x + 50.0;
            v212 = (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir;
            v213 = (double)(MT_getnext() % 0xC8u) + v3->char_c.meta.cEffectSprite.y;
            v214 = v213;
            v215 = v211 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v3->char_c, 124, v215, v214, v212, 1);
          }
          if ( viz_process(&v3->char_c) )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 9);
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          {
            char_c::char_h_move(&v3->char_c, -11.0);
            v3->char_c.meta.cEffectSprite.v_inerc = 4.0;
            v3->char_c.meta.cEffectSprite.v_force = 0.5;
            v216 = v3->char_c.meta.cEffectSprite.y + 120.0;
            scene_add_effect(&v3->char_c, 125, v3->char_c.meta.cEffectSprite.x, v216, (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir, 1);
            v217 = v3->char_c.meta.cEffectSprite.y + 120.0;
            scene_add_effect(&v3->char_c, 126, v3->char_c.meta.cEffectSprite.x, v217, (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir, 1);
            scene_play_sfx(31);
          }
          return;
        case 226:
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
LABEL_296:
            char_c::reset_forces(&v3->char_c);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 10);
          }
          else
          {
            if ( v3->char_c.meta.viz.get_subseq == 1 && !(v3->char_c.meta.viz.get_elaps_frames % 5) )
            {
              v218 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v219 = v3->char_c.meta.cEffectSprite.x + 50.0;
              v220 = (double)(MT_getnext() % 0xC8u) + v3->char_c.meta.cEffectSprite.y;
              v221 = v220;
              v222 = v219 - (double)(MT_getnext() % 0x64u);
              scene_add_effect(&v3->char_c, 124, v222, v221, v218, 1);
            }
            if ( viz_process(&v3->char_c) )
              v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 9);
            if ( !v3->char_c.meta.viz.get_elaps_frames )
            {
              if ( !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
              {
                v3->char_c.field_7D0 = 0;
                char_c::char_h_move(&v3->char_c, 11.0);
                v3->char_c.meta.cEffectSprite.v_inerc = 4.0;
                v3->char_c.meta.cEffectSprite.v_force = 0.5;
                v223 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
                v224 = v3->char_c.meta.cEffectSprite.y + 110.0;
                v225 = v224;
                v226 = (double)(80 * (char)v223) + v3->char_c.meta.cEffectSprite.x;
                scene_add_effect(&v3->char_c, 125, v226, v225, v223, 1);
                v227 = v3->char_c.meta.cEffectSprite.y + 110.0;
                scene_add_effect(&v3->char_c, 126, v3->char_c.meta.cEffectSprite.x, v227, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
                scene_play_sfx(31);
              }
              if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 2 )
                char_c::flip_with_force(&v3->char_c);
            }
          }
          return;
        default:
          goto LABEL_2940;
      }
    }
    return;
  }
  if ( v50 > 504 )
  {
    if ( v50 > 770 )
    {
      switch ( v50 )
      {
        case 788:
          goto LABEL_2910;
        case 795:
          if ( v3->char_c.meta.viz.get_subseq )
            goto LABEL_2910;
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - 0.300000011920929;
          if ( !char_c::char_on_ground_down(&v3->char_c) )
            goto LABEL_2910;
          v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 1);
LABEL_332:
          v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
          char_c::reset_forces(&v3->char_c);
          return;
        case 797:
          if ( v3->char_c.meta.viz.get_subseq )
            goto LABEL_2919;
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
            goto LABEL_2917;
          v1 = 0.0;
LABEL_2919:
          if ( v3->char_c.meta.viz.get_subseq == 1 )
          {
            v1335 = v3->char_c.meta.cEffectSprite.h_inerc - 0.75;
            v3->char_c.meta.cEffectSprite.h_inerc = v1335;
            if ( v1335 <= v1 )
            {
              v3->char_c.meta.cEffectSprite.h_inerc = v1;
              if ( ++v3->char_c.field_7D0 >= 2 )
              {
                ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
                v3->char_c.meta.cEffectSprite.h_inerc = -5.0;
                v3->char_c.meta.cEffectSprite.v_inerc = 5.0;
              }
            }
          }
          v1336 = v3->char_c.meta.viz.get_subseq;
          if ( (v1336 == 2 || v1336 == 3) && (v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - 0.25, (unsigned __int8)char_c::char_on_ground_down(&v3->char_c)) )
          {
            char_c::reset_forces(&v3->char_c);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 4);
            scene_play_sfx(30);
            v3->char_c.meta.cEffectSprite.x = 480.0;
          }
          else if ( viz_process(&v3->char_c) )
          {
LABEL_2928:
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
          }
          return;
        case 798:
          if ( v3->char_c.meta.viz.get_subseq )
            goto LABEL_2932;
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
LABEL_2917:
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            v3->char_c.meta.cEffectSprite.v_inerc = 0.0;
          }
          else
          {
            v1 = 0.0;
LABEL_2932:
            if ( v3->char_c.meta.viz.get_subseq == 1 )
            {
              v1337 = v3->char_c.meta.cEffectSprite.h_inerc - 0.75;
              v3->char_c.meta.cEffectSprite.h_inerc = v1337;
              if ( v1337 <= v1 )
              {
                v3->char_c.meta.cEffectSprite.h_inerc = v1;
                if ( ++v3->char_c.field_7D0 >= 2 )
                {
                  ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
                  v3->char_c.meta.cEffectSprite.h_inerc = -5.0;
                  v3->char_c.meta.cEffectSprite.v_inerc = 5.0;
                }
              }
            }
            v1338 = v3->char_c.meta.viz.get_subseq;
            if ( (v1338 == 2 || v1338 == 3) && (v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - 0.25, (unsigned __int8)char_c::char_on_ground_down(&v3->char_c)) )
            {
              char_c::reset_forces(&v3->char_c);
              v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
              v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 4);
              scene_play_sfx(30);
              v3->char_c.meta.cEffectSprite.x = 800.0;
            }
            else
            {
LABEL_2910:
              if ( viz_process(&v3->char_c) )
LABEL_2911:
                v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 700);
            }
          }
          break;
        default:
LABEL_2940:
          char_c::func10(&v3->char_c);
          break;
      }
      return;
    }
    if ( v50 == 770 )
    {
      if ( viz_process(&v3->char_c) )
        v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
      if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 5 )
      {
        v3->char_c.field_6F5 = 1;
        sub_4685C0(&v3->char_c, -1);
        char_c::sub_46AB50(&v3->char_c, 2, -1);
        v3->char_c.meta.field_188 = 0;
        char_c::health_to_max(&v3->char_c);
        v3->char_c.field_868 = 1;
        v3->char_c.field_820 = 0;
        v3->char_c.field_81E = 1;
        v3->char_c.field_81A = 0;
        v3->char_c.field_81C = 0;
        v3->char_c.field_818 = 0;
        scene_play_sfx(23);
        v3->char_c.field_882 = 1;
        v3->char_c.field_86A = 1;
        *(float *)&v1505 = 0.0;
        v1506 = 0.0;
        v1507 = 0.0;
        addbullet(&v3->char_c, 1201, 180.0, 130.0, 1, 2, (int)&v1505, 3);
        v1507 = 1.0;
        v1334 = v3->char_c.meta.cEffectSprite.y + 100.0;
        addbullet(&v3->char_c, 1202, v3->char_c.meta.cEffectSprite.x, v1334, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1, (int)&v1505, 3);
      }
      return;
    }
    switch ( v50 )
    {
      case 505:
        if ( v3->char_c.meta.viz.get_subseq == 3 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 4;
        v468 = v3->char_c.meta.viz.get_subseq;
        if ( v468 == 1 || v468 == 2 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 3);
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame || v3->char_c.meta.viz.get_subseq != 1 )
          return;
        char_c::add_card_energy(&v3->char_c, 50);
        *(float *)&v1534 = 0.0;
        v1535 = 27.5;
        if ( v3->char_c.skills_1[4] >= 3 )
          v1535 = 35.0;
        v1536 = 0.0;
        v1537 = 0.0;
        v469 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
        v470 = v3->char_c.meta.cEffectSprite.y + 84.0;
        v471 = v470;
        v472 = (double)(109 * (char)v469) + v3->char_c.meta.cEffectSprite.x;
        addbullet(&v3->char_c, 811, v472, v471, v469, 1, (int)&v1534, 3);
        a2g = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
        y = v3->char_c.meta.cEffectSprite.y;
        v473 = (double)(200 * (char)a2g) + v3->char_c.meta.cEffectSprite.x;
        v474 = v473;
        goto LABEL_1376;
      case 506:
        if ( v3->char_c.meta.viz.get_subseq == 3 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 4;
        v476 = v3->char_c.meta.viz.get_subseq;
        if ( v476 == 1 || v476 == 2 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 3);
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          *(float *)&v1515 = -20.0;
          v477 = v3->char_c.meta.cEffectSprite.y;
          if ( c_meta::getlvl_height(&v3->char_c) < v477 )
            *(float *)&v1515 = 30.0;
          v1516 = 27.5;
          if ( v3->char_c.skills_1[4] >= 3 )
            v1516 = 35.0;
          v1517 = 0.0;
          v1518 = 0.0;
          v478 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v479 = v3->char_c.meta.cEffectSprite.y + 84.0;
          v480 = v479;
          v481 = (double)(109 * (char)v478) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 811, v481, v480, v478, 1, (int)&v1515, 3);
          a2g = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          y = v3->char_c.meta.cEffectSprite.y;
          v482 = (double)(200 * (char)a2g) + v3->char_c.meta.cEffectSprite.x;
          v474 = v482;
LABEL_1376:
          v475 = v474;
          scene_add_effect(&v3->char_c, 127, v475, y, a2g, -1);
          v3->char_c.meta.cEffectSprite.h_inerc = -7.5;
          v3->char_c.meta.cEffectSprite.v_inerc = 10.0;
          v3->char_c.meta.cEffectSprite.v_force = 0.55000001;
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          char_c::play_sfx(&v3->char_c, 26);
        }
        return;
      case 510:
      case 512:
        if ( v3->char_c.meta.viz.get_subseq == 4 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 8;
        v483 = v3->char_c.meta.viz.get_subseq;
        if ( v483 != 1 && v483 != 2 && v483 != 3 )
          goto LABEL_1410;
        v484 = v3->char_c.meta.cEffectSprite.h_inerc - 0.75;
        v3->char_c.meta.cEffectSprite.h_inerc = v484;
        if ( v484 < 2.0 )
          v3->char_c.meta.cEffectSprite.h_inerc = 2.0;
        v1395 = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        v3->char_c.meta.cEffectSprite.v_inerc = v1395;
        if ( v3->char_c.meta.viz.get_subseq == 1 && v1395 <= -1.0 )
          v3->char_c.meta.cEffectSprite.v_inerc = -1.0;
        if ( char_c::char_on_ground_down(&v3->char_c) )
        {
          v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
          char_c::reset_forces(&v3->char_c);
          v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 4);
          v3->char_c.meta.cEffectSprite.angZ = 0.0;
        }
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          v3->char_c.field_7DC = v3->char_c.field_7DC + 2.0;
          v485 = v3->char_c.meta.cEffectSprite.angZ - 25.0;
          v3->char_c.meta.cEffectSprite.angZ = v485;
          if ( v485 < -1080.0 )
            goto LABEL_2843;
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 && v3->char_c.meta.viz.get_elaps_frames >= 24 )
          goto LABEL_803;
LABEL_1410:
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          *(float *)&v1522 = 75.0;
          v1523 = 0.0;
          v1524 = 4.0;
          if ( v3->char_c.skills_1[8] >= 4 )
            v1524 = 6.0;
          v486 = v3->char_c.meta.cEffectSprite.y + 135.0;
          v487 = v486;
          v488 = v3->char_c.meta.cEffectSprite.x + 0.0;
          addbullet(&v3->char_c, 812, v488, v487, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1, (int)&v1522, 3);
          v3->char_c.meta.cEffectSprite.h_inerc = 17.5;
          v3->char_c.meta.cEffectSprite.v_inerc = 11.0;
          v3->char_c.meta.cEffectSprite.v_force = 0.44999999;
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          char_c::add_card_energy(&v3->char_c, 50);
          char_c::play_sfx(&v3->char_c, 6);
          v3->char_c.meta.cEffectSprite.x_off = 0.0;
          v3->char_c.meta.cEffectSprite.y_off = 135.0;
        }
        return;
      case 511:
      case 513:
        v489 = v3->char_c.meta.viz.get_subseq;
        if ( v489 != 1 && v489 != 2 && v489 != 3 )
          goto LABEL_1434;
        v490 = v3->char_c.meta.cEffectSprite.h_inerc - 0.75;
        v3->char_c.meta.cEffectSprite.h_inerc = v490;
        if ( v490 < 2.0 )
          v3->char_c.meta.cEffectSprite.h_inerc = 2.0;
        v1396 = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        v3->char_c.meta.cEffectSprite.v_inerc = v1396;
        if ( v3->char_c.meta.viz.get_subseq == 1 && v1396 <= -1.0 )
          v3->char_c.meta.cEffectSprite.v_inerc = -1.0;
        if ( char_c::char_on_ground_down(&v3->char_c) )
        {
          v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
          char_c::reset_forces(&v3->char_c);
          v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 4);
          v3->char_c.meta.cEffectSprite.angZ = 0.0;
        }
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          v3->char_c.field_7DC = v3->char_c.field_7DC + 2.0;
          v491 = v3->char_c.meta.cEffectSprite.angZ - 25.0;
          v3->char_c.meta.cEffectSprite.angZ = v491;
          if ( v491 < -1080.0 )
          {
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v3->char_c.meta.cEffectSprite.angZ = 0.0;
            return;
          }
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 && v3->char_c.meta.viz.get_elaps_frames >= 24 )
          goto LABEL_831;
LABEL_1434:
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          *(float *)&v1528 = 75.0;
          v1529 = 0.0;
          v1530 = 4.0;
          if ( v3->char_c.skills_1[8] >= 4 )
            v1530 = 6.0;
          v492 = v3->char_c.meta.cEffectSprite.y + 135.0;
          v493 = v492;
          v494 = v3->char_c.meta.cEffectSprite.x + 0.0;
          addbullet(&v3->char_c, 812, v494, v493, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1, (int)&v1528, 3);
          v3->char_c.meta.cEffectSprite.h_inerc = 25.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 12.5;
          v3->char_c.meta.cEffectSprite.v_force = 0.44999999;
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          char_c::add_card_energy(&v3->char_c, 50);
          char_c::play_sfx(&v3->char_c, 6);
          v3->char_c.meta.cEffectSprite.x_off = 0.0;
          v3->char_c.meta.cEffectSprite.y_off = 135.0;
        }
        return;
      case 520:
        v495 = v3->char_c.meta.viz.get_subseq;
        if ( !v495 || v495 == 4 )
        {
          char_c::sub10func(&v3->char_c);
          v1 = 0.0;
        }
        v3->char_c.meta.field_18C = 1;
        if ( !v3->char_c.meta.viz.get_subseq && v3->char_c.skills_1[1] >= 1 )
          v3->char_c.field_51C = 2;
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          if ( v3->char_c.meta.viz.get_elaps_frames > 20 )
          {
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v1 = 0.0;
          }
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 3) )
          {
            *(float *)&v1682 = (double)(MT_getnext() % 0x3Cu) + 95.0 - 30.0;
            v496 = (double)(unsigned int)get_MT_range(100) * 0.1000000014901161;
            v1683 = v496 + 10.0;
            v1684 = (double)(MT_getnext() & 3);
            v497 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v498 = v3->char_c.meta.cEffectSprite.y + 51.0;
            v499 = v498;
            v500 = (double)(40 * (char)v497) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 810, v500, v499, v497, 1, (int)&v1682, 3);
            v1 = 0.0;
          }
        }
        v501 = v3->char_c.meta.viz.get_subseq;
        if ( v501 > 0 && v501 < 4 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - 0.75;
          v502 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v3->char_c.meta.cEffectSprite.h_inerc = v502;
          if ( v502 < v1 )
            v3->char_c.meta.cEffectSprite.h_inerc = v1;
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          *(float *)&v1583 = -85.0;
          v1584 = 0.0;
          v1585 = 1.0;
          v503 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v504 = v3->char_c.meta.cEffectSprite.y + 232.0;
          v505 = v504;
          v506 = (double)(61 * (char)v503) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 849, v506, v505, v503, 1, (int)&v1583, 3);
          scene_add_effect(&v3->char_c, 127, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1);
          char_c::play_sfx(&v3->char_c, 5);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          char_c::add_card_energy(&v3->char_c, 50);
          v3->char_c.meta.cEffectSprite.h_inerc = 12.5;
          v3->char_c.meta.cEffectSprite.v_inerc = 17.5;
          v3->char_c.meta.cEffectSprite.v_force = 0.60000002;
          v3->char_c.field_51C = 0;
        }
        return;
      case 521:
        v507 = v3->char_c.meta.viz.get_subseq;
        if ( !v507 || v507 == 4 )
        {
          char_c::sub10func(&v3->char_c);
          v1 = 0.0;
        }
        v3->char_c.meta.field_18C = 1;
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          if ( v3->char_c.meta.viz.get_elaps_frames > 20 )
          {
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v1 = 0.0;
          }
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 3) )
          {
            *(float *)&v1730 = (double)(MT_getnext() % 60u) + 95.0 - 30.0;
            v508 = (double)(unsigned int)get_MT_range(100) * 0.1000000014901161;
            v1731 = v508 + 10.0;
            v1732 = (double)(MT_getnext() & 3);
            v509 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v510 = v3->char_c.meta.cEffectSprite.y + 51.0;
            v511 = v510;
            v512 = (double)(40 * (char)v509) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 810, v512, v511, v509, 1, (int)&v1730, 3);
            v1 = 0.0;
          }
        }
        v513 = v3->char_c.meta.viz.get_subseq;
        if ( v513 > 0 && v513 < 4 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - 0.75;
          v514 = v3->char_c.meta.cEffectSprite.h_inerc - 0.4000000059604645;
          v3->char_c.meta.cEffectSprite.h_inerc = v514;
          if ( v514 < v1 )
            v3->char_c.meta.cEffectSprite.h_inerc = v1;
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          *(float *)&v1589 = -85.0;
          v1590 = 0.0;
          v1591 = 1.0;
          v515 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v516 = v3->char_c.meta.cEffectSprite.y + 232.0;
          v517 = v516;
          v518 = (double)(61 * (char)v515) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 849, v518, v517, v515, 1, (int)&v1589, 3);
          scene_add_effect(&v3->char_c, 127, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1);
          char_c::play_sfx(&v3->char_c, 5);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          char_c::add_card_energy(&v3->char_c, 50);
          v3->char_c.meta.cEffectSprite.h_inerc = 15.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 25.0;
          v3->char_c.meta.cEffectSprite.v_force = 0.60000002;
        }
        return;
      case 525:
        v519 = v3->char_c.meta.viz.get_subseq;
        if ( !v519 || v519 == 4 )
        {
          char_c::sub10func(&v3->char_c);
          v1 = 0.0;
        }
        v3->char_c.meta.field_18C = 5;
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          if ( v3->char_c.meta.viz.get_elaps_frames > 20 )
          {
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc * 0.5;
            v1 = 0.0;
          }
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 3) )
          {
            *(float *)&v1688 = (double)(MT_getnext() % 0x3Cu) + 95.0 - 30.0;
            v520 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161;
            v1689 = v520 + 5.0;
            v1690 = 3.0;
            v521 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v522 = v3->char_c.meta.cEffectSprite.y + 51.0;
            v523 = v522;
            v524 = (double)(40 * (char)v521) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 810, v524, v523, v521, 1, (int)&v1688, 3);
            v1 = 0.0;
          }
        }
        v525 = v3->char_c.meta.viz.get_subseq;
        if ( v525 > 0 && v525 < 4 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - 0.550000011920929;
          v526 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v3->char_c.meta.cEffectSprite.h_inerc = v526;
          if ( v526 < v1 )
            v3->char_c.meta.cEffectSprite.h_inerc = v1;
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame || v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1519;
        *(float *)&v1499 = -85.0;
        v1500 = 0.0;
        if ( v3->char_c.skills_1[5] >= 4 )
          v1501 = 5.0;
        if ( v3->char_c.skills_1[5] <= 3 )
          v1501 = 4.0;
        if ( v3->char_c.skills_1[5] <= 1 )
          v1501 = 3.0;
        v527 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
        v528 = v3->char_c.meta.cEffectSprite.y + 232.0;
        v529 = v528;
        v530 = (double)(61 * (char)v527) + v3->char_c.meta.cEffectSprite.x;
        addbullet(&v3->char_c, 849, v530, v529, v527, 1, (int)&v1499, 3);
        scene_add_effect(&v3->char_c, 127, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1);
        char_c::play_sfx(&v3->char_c, 28);
        char_c::spell_energy_spend(&v3->char_c, 200, 120);
        char_c::add_card_energy(&v3->char_c, 50);
        v3->char_c.meta.cEffectSprite.h_inerc = 7.0;
        v531 = 17.5;
        goto LABEL_1518;
      case 526:
        v532 = v3->char_c.meta.viz.get_subseq;
        if ( !v532 || v532 == 4 )
        {
          char_c::sub10func(&v3->char_c);
          v1 = 0.0;
        }
        v3->char_c.meta.field_18C = 5;
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          if ( v3->char_c.meta.viz.get_elaps_frames > 30 )
          {
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v1 = 0.0;
          }
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 3) )
          {
            *(float *)&v1595 = (double)(MT_getnext() % 0x3Cu) + 95.0 - 30.0;
            v533 = (double)(unsigned int)get_MT_range(50) * 0.1000000014901161;
            v1596 = v533 + 5.0;
            v1597 = 3.0;
            v534 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v535 = v3->char_c.meta.cEffectSprite.y + 51.0;
            v536 = v535;
            v537 = (double)(40 * (char)v534) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 810, v537, v536, v534, 1, (int)&v1595, 3);
            v1 = 0.0;
          }
        }
        v538 = v3->char_c.meta.viz.get_subseq;
        if ( v538 > 0 && v538 < 4 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - 0.550000011920929;
          v539 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v3->char_c.meta.cEffectSprite.h_inerc = v539;
          if ( v539 < v1 )
            v3->char_c.meta.cEffectSprite.h_inerc = v1;
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          *(float *)&v1531 = -85.0;
          v1532 = 0.0;
          if ( v3->char_c.skills_1[5] <= 4 )
            v1533 = 4.0;
          if ( v3->char_c.skills_1[5] <= 2 )
            v1533 = 3.0;
          v540 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v541 = v3->char_c.meta.cEffectSprite.y + 232.0;
          v542 = v541;
          v543 = (double)(61 * (char)v540) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 849, v543, v542, v540, 1, (int)&v1531, 3);
          scene_add_effect(&v3->char_c, 127, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1);
          char_c::play_sfx(&v3->char_c, 28);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          char_c::add_card_energy(&v3->char_c, 50);
          v3->char_c.meta.cEffectSprite.h_inerc = 25.0;
          v531 = 20.0;
LABEL_1518:
          v3->char_c.meta.cEffectSprite.v_inerc = v531;
          v3->char_c.meta.cEffectSprite.v_force = 0.5;
          v3->char_c.meta.field_190 = 1;
        }
LABEL_1519:
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 3 )
          v3->char_c.meta.field_190 = 1;
        return;
      case 530:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 9;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame != 5 )
          return;
        *(float *)&v1712 = -70.0;
        a2h = &v1712;
        v1713 = 30.0;
        v1714 = 0.0;
        xe = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
        v544 = v3->char_c.meta.cEffectSprite.y + 164.0;
        v1344 = v544;
        v545 = (double)(18 * (char)xe) + v3->char_c.meta.cEffectSprite.x;
        v546 = v545;
        goto LABEL_1556;
      case 531:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 9;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 5 )
        {
          v1538 = -40.0;
          a2h = (int *)&v1538;
          v1539 = 50.0;
          v1540 = 0.0;
          xe = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v548 = v3->char_c.meta.cEffectSprite.y + 164.0;
          v1344 = v548;
          v549 = (double)(74 * v3->char_c.meta.cEffectSprite.dir) + v3->char_c.meta.cEffectSprite.x;
          v546 = v549;
LABEL_1556:
          v547 = v546;
          addbullet(&v3->char_c, 817, v547, v1344, xe, 1, (int)a2h, 3);
          scene_add_effect(&v3->char_c, 127, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1);
          char_c::play_sfx(&v3->char_c, 30);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          char_c::add_card_energy(&v3->char_c, 50);
          v3->char_c.meta.field_190 = 1;
        }
        return;
      case 540:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 2;
        if ( !v3->char_c.down_B )
          v3->char_c.not_charge_attack = 0;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 1 )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          v3->char_c.meta.field_190 = 1;
          *(float *)&v1694 = 4.0;
          v1695 = v3->char_c.field_7DC / 40.0;
          v1696 = 0.0;
          v550 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v551 = v3->char_c.meta.cEffectSprite.y + 165.0;
          v552 = v551;
          v553 = (double)(70 * (char)v550) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 820, v553, v552, v550, 1, (int)&v1694, 3);
          char_c::play_sfx(&v3->char_c, 7);
        }
        v554 = v3->char_c.meta.viz.get_subseq == 1;
        goto LABEL_1572;
      case 541:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 2;
        if ( !v3->char_c.down_C )
          v3->char_c.not_charge_attack = 0;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 1 )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          v3->char_c.meta.field_190 = 1;
          *(float *)&v1607 = 4.0;
          v1608 = v3->char_c.field_7DC / 40.0;
          v1609 = 0.0;
          v555 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v556 = v3->char_c.meta.cEffectSprite.y + 165.0;
          v557 = v556;
          v558 = (double)(70 * (char)v555) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 820, v558, v557, v555, 1, (int)&v1607, 3);
          char_c::play_sfx(&v3->char_c, 7);
        }
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          return;
        if ( !v3->char_c.not_charge_attack || v3->char_c.meta.viz.get_elaps_frames >= 60 )
          goto LABEL_1127;
        v3->char_c.field_7DC = v3->char_c.field_7DC + 2.0;
        return;
      case 542:
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          char_c::sub10func(&v3->char_c);
        }
        else
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
            goto LABEL_1607;
        }
        v3->char_c.meta.field_18C = 2;
        if ( !v3->char_c.down_B )
          v3->char_c.not_charge_attack = 0;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 3 )
          goto LABEL_831;
        if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          if ( v3->char_c.meta.viz.get_frame == 1 )
          {
            char_c::add_card_energy(&v3->char_c, 50);
            char_c::spell_energy_spend(&v3->char_c, 200, 120);
            v3->char_c.meta.field_190 = 1;
            *(float *)&v1724 = 4.0;
            v1725 = v3->char_c.field_7DC / 40.0;
            v1726 = 0.0;
            v559 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v560 = v3->char_c.meta.cEffectSprite.y + 165.0;
            v561 = v560;
            v562 = (double)(70 * (char)v559) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 820, v562, v561, v559, 1, (int)&v1724, 3);
            char_c::play_sfx(&v3->char_c, 7);
          }
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 4 )
            v3->char_c.meta.cEffectSprite.v_force = 0.5;
        }
        v554 = v3->char_c.meta.viz.get_subseq == 1;
LABEL_1572:
        if ( !v554 )
          return;
        if ( v3->char_c.not_charge_attack && v3->char_c.meta.viz.get_elaps_frames < 60 )
        {
          v3->char_c.field_7DC = v3->char_c.field_7DC + 1.0;
          return;
        }
        goto LABEL_1127;
      case 543:
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          char_c::sub10func(&v3->char_c);
        }
        else
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
LABEL_1607:
            char_c::reset_forces(&v3->char_c);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 3);
            return;
          }
        }
        v3->char_c.meta.field_18C = 2;
        if ( !v3->char_c.down_C )
          v3->char_c.not_charge_attack = 0;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 3 )
          goto LABEL_831;
        if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          if ( v3->char_c.meta.viz.get_frame == 1 )
          {
            char_c::add_card_energy(&v3->char_c, 50);
            char_c::spell_energy_spend(&v3->char_c, 200, 120);
            v3->char_c.meta.field_190 = 1;
            *(float *)&v1613 = 4.0;
            v1614 = v3->char_c.field_7DC / 40.0;
            v1615 = 0.0;
            v563 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v564 = v3->char_c.meta.cEffectSprite.y + 165.0;
            v565 = v564;
            v566 = (double)(70 * (char)v563) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 820, v566, v565, v563, 1, (int)&v1613, 3);
            char_c::play_sfx(&v3->char_c, 7);
          }
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 4 )
            v3->char_c.meta.cEffectSprite.v_force = 0.5;
        }
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          return;
        if ( !v3->char_c.not_charge_attack || v3->char_c.meta.viz.get_elaps_frames >= 60 )
          goto LABEL_1127;
        v3->char_c.field_7DC = v3->char_c.field_7DC + 2.0;
        return;
      case 545:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 6;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq != 2 || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame != 2 )
          return;
        char_c::add_card_energy(&v3->char_c, 50);
        char_c::spell_energy_spend(&v3->char_c, 200, 120);
        v3->char_c.meta.field_190 = 1;
        *(float *)&v1700 = 0.0;
        v1701 = 6.0;
        a2i = &v1700;
        v1702 = 4.5;
        xf = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
        v567 = v3->char_c.meta.cEffectSprite.y + 114.0;
        v1345 = v567;
        v568 = (double)(96 * (char)xf) + v3->char_c.meta.cEffectSprite.x;
        v569 = v568;
        goto LABEL_1636;
      case 546:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 6;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 2 )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          v3->char_c.meta.field_190 = 1;
          v1619 = 0.0;
          v1620 = 16.0;
          a2i = (int *)&v1619;
          v1621 = 4.5;
          xf = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v571 = v3->char_c.meta.cEffectSprite.y + 114.0;
          v1345 = v571;
          v572 = (double)(96 * (char)xf) + v3->char_c.meta.cEffectSprite.x;
          v569 = v572;
LABEL_1636:
          v570 = v569;
          addbullet(&v3->char_c, 821, v570, v1345, xf, 1, (int)a2i, 3);
          char_c::play_sfx(&v3->char_c, 7);
        }
        return;
      case 547:
        if ( v3->char_c.meta.viz.get_subseq == 1 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 6;
        if ( v3->char_c.meta.viz.get_subseq < 1 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
            goto LABEL_1647;
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          goto LABEL_831;
        if ( v3->char_c.meta.viz.get_subseq || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame != 6 )
          return;
        char_c::play_sfx(&v3->char_c, 7);
        v3->char_c.meta.cEffectSprite.h_inerc = -4.0;
        v3->char_c.meta.cEffectSprite.v_inerc = 8.0;
        a2j = &v1667;
        v3->char_c.meta.cEffectSprite.v_force = 0.5;
        v3->char_c.meta.field_190 = 1;
        *(float *)&v1667 = 0.0;
        v1668 = 3.0;
        v1669 = -20.0;
        xg = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
        v573 = v3->char_c.meta.cEffectSprite.y + 62.0;
        v1346 = v573;
        v574 = (double)(30 * (char)xg) + v3->char_c.meta.cEffectSprite.x;
        v575 = v574;
        goto LABEL_1658;
      case 548:
        if ( v3->char_c.meta.viz.get_subseq == 1 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 6;
        if ( v3->char_c.meta.viz.get_subseq < 1 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
LABEL_1647:
            char_c::reset_forces(&v3->char_c);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 1);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            return;
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          goto LABEL_831;
        if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 6 )
        {
          char_c::play_sfx(&v3->char_c, 7);
          v3->char_c.meta.cEffectSprite.h_inerc = -4.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 8.0;
          a2j = (int *)&v1625;
          v3->char_c.meta.cEffectSprite.v_force = 0.5;
          v3->char_c.meta.field_190 = 1;
          v1625 = 0.0;
          v1626 = 13.0;
          v1627 = -20.0;
          xg = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v577 = v3->char_c.meta.cEffectSprite.y + 62.0;
          v1346 = v577;
          v578 = (double)(30 * (char)xg) + v3->char_c.meta.cEffectSprite.x;
          v575 = v578;
LABEL_1658:
          v576 = v575;
          addbullet(&v3->char_c, 821, v576, v1346, xg, 1, (int)a2j, 3);
LABEL_1659:
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          char_c::add_card_energy(&v3->char_c, 50);
        }
        return;
      case 550:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 10;
        if ( !v3->char_c.down_B )
          v3->char_c.not_charge_attack = 0;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 3 )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          v3->char_c.meta.field_190 = 1;
          *(float *)&v1673 = 3.0;
          v1674 = 6.0;
          v1675 = 0.0;
          v579 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v580 = v3->char_c.meta.current_frame_params;
          v581 = v3->char_c.meta.cEffectSprite.y - (double)v580->extra_24byte[5];
          v582 = v581;
          v583 = (double)(v580->extra_24byte[4] * (char)v579) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 822, v583, v582, v579, 1, (int)&v1673, 3);
          char_c::play_sfx(&v3->char_c, 36);
        }
        if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.viz.get_elaps_frames >= 4 )
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        return;
      case 551:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 10;
        if ( !v3->char_c.down_B )
          v3->char_c.not_charge_attack = 0;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 3 )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          v3->char_c.meta.field_190 = 1;
          *(float *)&v1631 = 7.0;
          v1632 = 8.0;
          v1633 = 0.0;
          v584 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v585 = v3->char_c.meta.current_frame_params;
          v586 = v3->char_c.meta.cEffectSprite.y - (double)v585->extra_24byte[5];
          v587 = v586;
          v588 = (double)(v585->extra_24byte[4] * (char)v584) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 822, v588, v587, v584, 1, (int)&v1631, 3);
          char_c::play_sfx(&v3->char_c, 36);
        }
        if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.viz.get_elaps_frames >= 10 )
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        return;
      case 552:
        if ( v3->char_c.meta.viz.get_subseq == 1 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 10;
        if ( v3->char_c.meta.viz.get_subseq < 1 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
            goto LABEL_1700;
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          goto LABEL_803;
        if ( v3->char_c.meta.viz.get_subseq || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame != 6 )
          return;
        v3->char_c.meta.cEffectSprite.h_inerc = -4.0;
        v3->char_c.meta.cEffectSprite.v_inerc = 8.0;
        v3->char_c.meta.cEffectSprite.v_force = 0.5;
        v3->char_c.meta.field_190 = 1;
        *(float *)&v1679 = 7.0;
        v1680 = -8.0;
        v1681 = 0.0;
        v589 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
        v590 = v3->char_c.meta.current_frame_params;
        v591 = v3->char_c.meta.cEffectSprite.y - (double)v590->extra_24byte[5];
        v592 = v591;
        v593 = (double)(v590->extra_24byte[4] * (char)v589) + v3->char_c.meta.cEffectSprite.x;
        addbullet(&v3->char_c, 822, v593, v592, v589, 1, (int)&v1679, 3);
        char_c::play_sfx(&v3->char_c, 36);
        goto LABEL_1659;
      case 553:
        if ( v3->char_c.meta.viz.get_subseq == 1 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 10;
        if ( v3->char_c.meta.viz.get_subseq < 1 && (v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force, (unsigned __int8)char_c::char_on_ground_down(&v3->char_c)) )
        {
LABEL_1700:
          char_c::reset_forces(&v3->char_c);
          v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 1);
          v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
        }
        else
        {
          if ( viz_process(&v3->char_c) )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
          if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame || v3->char_c.meta.viz.get_subseq != 1 )
          {
            if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 6 )
            {
              v3->char_c.meta.cEffectSprite.h_inerc = -4.0;
              v3->char_c.meta.cEffectSprite.v_inerc = 8.0;
              v3->char_c.meta.cEffectSprite.v_force = 0.5;
              v3->char_c.meta.field_190 = 1;
              *(float *)&v1637 = 14.0;
              v1638 = -8.0;
              v1639 = 0.0;
              v594 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v595 = v3->char_c.meta.current_frame_params;
              v596 = v3->char_c.meta.cEffectSprite.y - (double)v595->extra_24byte[5];
              v597 = v596;
              v598 = (double)(v595->extra_24byte[4] * (char)v594) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 822, v598, v597, v594, 1, (int)&v1637, 3);
              char_c::spell_energy_spend(&v3->char_c, 200, 120);
              char_c::add_card_energy(&v3->char_c, 50);
              char_c::play_sfx(&v3->char_c, 36);
            }
          }
          else
          {
LABEL_803:
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 9);
          }
        }
        return;
      case 560:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 3;
        v599 = v3->char_c.meta.viz.get_subseq;
        if ( (!v599 || v599 == 1 && v3->char_c.meta.viz.get_elaps_frames <= 9) && !v3->char_c.down_B )
          v3->char_c.not_charge_attack = 0;
        v600 = v3->char_c.field_7D0;
        if ( v600 <= 0 )
          goto LABEL_1743;
        v601 = v3->char_c.meta.viz.get_subseq;
        if ( v601 != 2 && v601 != 3 && v601 != 4 )
          goto LABEL_1743;
        if ( v600 % 4 != 1 )
          goto LABEL_1742;
        v3->char_c.meta.field_190 = 1;
        if ( v3->char_c.not_charge_attack != 1 || v3->char_c.field_7D2 > 8 )
        {
          if ( v3->char_c.field_7D2 > 4 )
            goto LABEL_1741;
          *(float *)&v1643 = sinus(v3->char_c.field_7DC) * 20.0 + v3->char_c.field_7F0;
          v1644 = 15.0;
          v1645 = (double)(unsigned int)get_MT_range(4);
          a2k = &v1643;
          xh = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v605 = v3->char_c.meta.cEffectSprite.y + 85.0;
          v1347 = v605;
          v606 = (double)(44 * (char)xh) + v3->char_c.meta.cEffectSprite.x;
          v604 = v606;
        }
        else
        {
          v1685 = sinus(v3->char_c.field_7DC) * 20.0 + v3->char_c.field_7F0;
          v1686 = 15.0;
          v1687 = (double)(unsigned int)get_MT_range(4);
          a2k = (int *)&v1685;
          xh = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v602 = v3->char_c.meta.cEffectSprite.y + 85.0;
          v1347 = v602;
          v603 = (double)(44 * (char)xh) + v3->char_c.meta.cEffectSprite.x;
          v604 = v603;
        }
        v607 = v604;
        addbullet(&v3->char_c, 825, v607, v1347, xh, 1, (int)a2k, 3);
        char_c::play_sfx(&v3->char_c, 9);
        scene_add_effect(&v3->char_c, 129, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1);
LABEL_1741:
        v608 = (double)(30 - 60 * (v3->char_c.field_7DC < 0.0)) + v3->char_c.field_7DC;
        v3->char_c.field_7DC = -v608;
        ++v3->char_c.field_7D2;
LABEL_1742:
        ++v3->char_c.field_7D0;
LABEL_1743:
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1754;
        v609 = 4;
        if ( v3->char_c.skills_1[3] >= 1 )
          v609 = 2;
        v610 = v3->char_c.meta.viz.get_elaps_frames;
        if ( v610 < v609 || v610 > 10 )
          goto LABEL_1753;
        if ( !v3->char_c.not_charge_attack )
          goto LABEL_1106;
        if ( v610 == 10 )
        {
          v611 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v612 = v3->char_c.meta.cEffectSprite.y + 95.0;
          v613 = v612;
          v614 = v3->char_c.meta.cEffectSprite.x - (double)(23 * (char)v611);
          scene_add_effect(&v3->char_c, 62, v614, v613, v611, 1);
        }
LABEL_1753:
        if ( v3->char_c.meta.viz.get_elaps_frames >= 25 )
          goto LABEL_1106;
LABEL_1754:
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          *(float *)&v1691 = 0.0;
          v1692 = 0.0;
          v1693 = 4.0;
          v615 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v616 = v3->char_c.meta.cEffectSprite.y + 95.0;
          v617 = v616;
          v618 = v3->char_c.meta.cEffectSprite.x - (double)(24 * (char)v615);
          addbullet(&v3->char_c, 825, v618, v617, v615, 1, (int)&v1691, 3);
        }
        if ( v3->char_c.meta.viz.get_subseq == 2 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          v3->char_c.field_7D0 = 1;
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          char_c::add_card_energy(&v3->char_c, 50);
          char_c::sub_486FD0(&v3->char_c, 10.0, -10.0);
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          v619 = v3->char_c.skills_1[3];
          v620 = 10;
          if ( (char)v619 >= 1 )
            v620 = 7;
          if ( (char)v619 >= 4 )
            v620 = 4;
          v621 = v3->char_c.meta.viz.get_elaps_frames;
          if ( v621 > v620 && !v3->char_c.not_charge_attack || v621 > v620 + 10 )
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        }
        return;
      case 561:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 3;
        v622 = v3->char_c.meta.viz.get_subseq;
        if ( (!v622 || v622 == 1 && v3->char_c.meta.viz.get_elaps_frames <= 9) && !v3->char_c.down_C )
          v3->char_c.not_charge_attack = 0;
        v623 = v3->char_c.field_7D0;
        if ( v623 <= 0 )
          goto LABEL_1790;
        v624 = v3->char_c.meta.viz.get_subseq;
        if ( v624 != 2 && v624 != 3 && v624 != 4 )
          goto LABEL_1790;
        if ( v623 % 4 != 1 )
          goto LABEL_1789;
        v3->char_c.meta.field_190 = 1;
        if ( v3->char_c.not_charge_attack != 1 || v3->char_c.field_7D2 > 8 )
        {
          if ( v3->char_c.field_7D2 > 4 )
            goto LABEL_1788;
          *(float *)&v1697 = sinus(v3->char_c.field_7DC) * 30.0 + v3->char_c.field_7F0;
          v1698 = 15.0;
          v1699 = (double)(unsigned int)get_MT_range(4);
          a2l = &v1697;
          v628 = v3->char_c.meta.cEffectSprite.y + 85.0;
          xi = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1348 = v628;
          v629 = (double)(44 * (char)xi) + v3->char_c.meta.cEffectSprite.x;
          v627 = v629;
        }
        else
        {
          v1649 = sinus(v3->char_c.field_7DC) * 30.0 + v3->char_c.field_7F0;
          v1650 = 15.0;
          v1651 = (double)(unsigned int)get_MT_range(4);
          a2l = (int *)&v1649;
          v625 = v3->char_c.meta.cEffectSprite.y + 85.0;
          xi = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1348 = v625;
          v626 = (double)(44 * (char)xi) + v3->char_c.meta.cEffectSprite.x;
          v627 = v626;
        }
        v630 = v627;
        addbullet(&v3->char_c, 825, v630, v1348, xi, 1, (int)a2l, 3);
        char_c::play_sfx(&v3->char_c, 9);
        scene_add_effect(&v3->char_c, 129, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1);
LABEL_1788:
        ++v3->char_c.field_7D2;
        v631 = (double)(30 - 60 * (v3->char_c.field_7DC < 0.0)) + v3->char_c.field_7DC;
        v3->char_c.field_7DC = -v631;
LABEL_1789:
        ++v3->char_c.field_7D0;
LABEL_1790:
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1799;
        v632 = v3->char_c.meta.viz.get_elaps_frames;
        if ( v632 < 2 || v632 > 10 )
          goto LABEL_1798;
        if ( !v3->char_c.not_charge_attack )
          goto LABEL_1127;
        if ( v632 == 10 )
        {
          v633 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v634 = v3->char_c.meta.cEffectSprite.y + 95.0;
          v635 = v634;
          v636 = v3->char_c.meta.cEffectSprite.x - (double)(23 * (char)v633);
          scene_add_effect(&v3->char_c, 62, v636, v635, v633, 1);
        }
LABEL_1798:
        if ( v3->char_c.meta.viz.get_elaps_frames >= 25 )
          goto LABEL_1106;
LABEL_1799:
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          *(float *)&v1655 = 0.0;
          v1656 = 0.0;
          v1657 = 4.0;
          v637 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v638 = v3->char_c.meta.cEffectSprite.y + 95.0;
          v639 = v638;
          v640 = v3->char_c.meta.cEffectSprite.x - (double)(24 * (char)v637);
          addbullet(&v3->char_c, 825, v640, v639, v637, 1, (int)&v1655, 3);
        }
        if ( v3->char_c.meta.viz.get_subseq == 2 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          v3->char_c.field_7D0 = 1;
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          char_c::add_card_energy(&v3->char_c, 50);
          char_c::sub_486FD0(&v3->char_c, 10.0, -10.0);
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          v641 = v3->char_c.skills_1[3];
          v642 = 10;
          if ( (char)v641 >= 1 )
            v642 = 7;
          if ( (char)v641 >= 4 )
            v642 = 4;
          v643 = v3->char_c.meta.viz.get_elaps_frames;
          if ( v643 > v642 && !v3->char_c.not_charge_attack || v643 > v642 + 10 )
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        }
        return;
      case 562:
        if ( v3->char_c.meta.viz.get_subseq == 5 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 3;
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 5 )
          goto LABEL_1821;
        v644 = v3->char_c.meta.viz.get_subseq;
        if ( (!v644 || v644 == 1 && v3->char_c.meta.viz.get_elaps_frames <= 9) && !v3->char_c.down_B )
          v3->char_c.not_charge_attack = 0;
        v645 = v3->char_c.field_7D0;
        if ( v645 <= 0 )
          goto LABEL_1840;
        v646 = v3->char_c.meta.viz.get_subseq;
        if ( v646 != 2 && v646 != 3 && v646 != 4 )
          goto LABEL_1840;
        if ( v645 % 4 != 1 )
          goto LABEL_1839;
        v3->char_c.meta.field_190 = 1;
        if ( v3->char_c.not_charge_attack != 1 || v3->char_c.field_7D2 > 8 )
        {
          if ( v3->char_c.field_7D2 > 4 )
            goto LABEL_1838;
          *(float *)&v1661 = sinus(v3->char_c.field_7DC) * 20.0 + v3->char_c.field_7F0;
          v1662 = 15.0;
          v1663 = (double)(unsigned int)get_MT_range(4);
          a2m = &v1661;
          v650 = v3->char_c.meta.cEffectSprite.y + 85.0;
          xj = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1349 = v650;
          v651 = (double)(44 * (char)xj) + v3->char_c.meta.cEffectSprite.x;
          v649 = v651;
        }
        else
        {
          v1703 = sinus(v3->char_c.field_7DC) * 20.0 + v3->char_c.field_7F0;
          v1704 = 15.0;
          v1705 = (double)(unsigned int)get_MT_range(4);
          a2m = (int *)&v1703;
          v647 = v3->char_c.meta.cEffectSprite.y + 85.0;
          xj = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1349 = v647;
          v648 = (double)(44 * (char)xj) + v3->char_c.meta.cEffectSprite.x;
          v649 = v648;
        }
        v652 = v649;
        addbullet(&v3->char_c, 825, v652, v1349, xj, 1, (int)a2m, 3);
        char_c::play_sfx(&v3->char_c, 9);
LABEL_1838:
        v653 = (double)(30 - 60 * (v3->char_c.field_7DC < 0.0)) + v3->char_c.field_7DC;
        v3->char_c.field_7DC = -v653;
        ++v3->char_c.field_7D2;
LABEL_1839:
        ++v3->char_c.field_7D0;
LABEL_1840:
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        v654 = v3->char_c.meta.viz.get_elaps_frames;
        if ( !v654 && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 5 )
          goto LABEL_831;
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1853;
        if ( v654 < 4 || v654 > 10 )
          goto LABEL_1852;
        if ( !v3->char_c.not_charge_attack )
          goto LABEL_1127;
        if ( v654 == 10 )
        {
          v655 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v656 = v3->char_c.meta.cEffectSprite.y + 107.0;
          v657 = v656;
          v658 = v3->char_c.meta.cEffectSprite.x - (double)(23 * (char)v655);
          scene_add_effect(&v3->char_c, 62, v658, v657, v655, 1);
        }
LABEL_1852:
        v654 = v3->char_c.meta.viz.get_elaps_frames;
        if ( v654 >= 25 )
          goto LABEL_1106;
LABEL_1853:
        if ( v654 || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame || v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1859;
        *(float *)&v1541 = 0.0;
        v1542 = 0.0;
        a2n = &v1541;
        v1543 = 4.0;
        xk = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
        v659 = v3->char_c.meta.cEffectSprite.y + 107.0;
        v1350 = v659;
        v660 = v3->char_c.meta.cEffectSprite.x - (double)(23 * v3->char_c.meta.cEffectSprite.dir);
        v661 = v660;
        goto LABEL_1858;
      case 563:
        if ( v3->char_c.meta.viz.get_subseq == 5 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 3;
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 5 )
          goto LABEL_1821;
        v667 = v3->char_c.meta.viz.get_subseq;
        if ( (!v667 || v667 == 1 && v3->char_c.meta.viz.get_elaps_frames <= 9) && !v3->char_c.down_C )
          v3->char_c.not_charge_attack = 0;
        v668 = v3->char_c.field_7D0;
        if ( v668 <= 0 )
          goto LABEL_1897;
        v669 = v3->char_c.meta.viz.get_subseq;
        if ( v669 != 2 && v669 != 3 && v669 != 4 )
          goto LABEL_1897;
        if ( v668 % 4 != 1 )
          goto LABEL_1896;
        v3->char_c.meta.field_190 = 1;
        if ( v3->char_c.not_charge_attack != 1 || v3->char_c.field_7D2 > 8 )
        {
          if ( v3->char_c.field_7D2 > 4 )
            goto LABEL_1895;
          *(float *)&v1550 = sinus(v3->char_c.field_7DC) * 30.0 + v3->char_c.field_7F0;
          v1551 = 15.0;
          v1552 = (double)(unsigned int)get_MT_range(4);
          a2o = &v1550;
          v673 = v3->char_c.meta.cEffectSprite.y + 85.0;
          xl = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1351 = v673;
          v674 = (double)(44 * (char)xl) + v3->char_c.meta.cEffectSprite.x;
          v672 = v674;
        }
        else
        {
          v1544 = sinus(v3->char_c.field_7DC) * 30.0 + v3->char_c.field_7F0;
          v1545 = 15.0;
          v1546 = (double)(unsigned int)get_MT_range(4);
          a2o = (int *)&v1544;
          v670 = v3->char_c.meta.cEffectSprite.y + 85.0;
          xl = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1351 = v670;
          v671 = (double)(44 * (char)xl) + v3->char_c.meta.cEffectSprite.x;
          v672 = v671;
        }
        v675 = v672;
        addbullet(&v3->char_c, 825, v675, v1351, xl, 1, (int)a2o, 3);
        char_c::play_sfx(&v3->char_c, 9);
LABEL_1895:
        v676 = (double)(30 - 60 * (v3->char_c.field_7DC < 0.0)) + v3->char_c.field_7DC;
        v3->char_c.field_7DC = -v676;
        ++v3->char_c.field_7D2;
LABEL_1896:
        ++v3->char_c.field_7D0;
LABEL_1897:
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        v677 = v3->char_c.meta.viz.get_elaps_frames;
        if ( !v677 && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 5 )
          goto LABEL_831;
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1910;
        if ( v677 < 4 || v677 > 10 )
          goto LABEL_1909;
        if ( !v3->char_c.not_charge_attack )
          goto LABEL_1127;
        if ( v677 == 10 )
        {
          v678 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v679 = v3->char_c.meta.cEffectSprite.y + 107.0;
          v680 = v679;
          v681 = v3->char_c.meta.cEffectSprite.x - (double)(23 * (char)v678);
          scene_add_effect(&v3->char_c, 62, v681, v680, v678, 1);
        }
LABEL_1909:
        v677 = v3->char_c.meta.viz.get_elaps_frames;
        if ( v677 >= 25 )
          goto LABEL_1106;
LABEL_1910:
        if ( !v677 && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          v1556 = 0.0;
          v1557 = 0.0;
          a2n = (int *)&v1556;
          v1558 = 4.0;
          xk = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v682 = v3->char_c.meta.cEffectSprite.y + 107.0;
          v1350 = v682;
          v683 = v3->char_c.meta.cEffectSprite.x - (double)(23 * v3->char_c.meta.cEffectSprite.dir);
          v661 = v683;
LABEL_1858:
          v662 = v661;
          addbullet(&v3->char_c, 825, v662, v1350, xk, 1, (int)a2n, 3);
        }
LABEL_1859:
        if ( v3->char_c.meta.viz.get_subseq == 2 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          v3->char_c.field_7D0 = 1;
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          char_c::add_card_energy(&v3->char_c, 50);
          char_c::sub_486FD0(&v3->char_c, 10.0, -10.0);
        }
        v663 = v3->char_c.meta.viz.get_subseq;
        if ( v663 == 3 )
        {
          v664 = v3->char_c.skills_1[3];
          v665 = 10;
          if ( (char)v664 >= 1 )
            v665 = 7;
          if ( (char)v664 >= 4 )
            v665 = 4;
          v666 = v3->char_c.meta.viz.get_elaps_frames;
          if ( v666 > v665 && !v3->char_c.not_charge_attack )
            goto LABEL_1127;
          if ( v666 > v665 + 10 )
            goto LABEL_1127;
        }
        if ( v663 == 4 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 5 )
          v3->char_c.meta.cEffectSprite.v_force = 0.60000002;
        return;
      case 565:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 7;
        v684 = v3->char_c.meta.viz.get_subseq == 2;
        if ( v3->char_c.meta.viz.get_subseq < 2 )
        {
          if ( !v3->char_c.down_B )
            v3->char_c.not_charge_attack = 0;
          v684 = v3->char_c.meta.viz.get_subseq == 2;
        }
        if ( v684 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          v3->char_c.meta.field_190 = 1;
          char_c::play_sfx(&v3->char_c, 29);
          v685 = v3->char_c.meta.enemy;
          v686 = (v685->meta.cEffectSprite.x - v3->char_c.meta.cEffectSprite.x) * (double)v3->char_c.meta.cEffectSprite.dir;
          v687 = v686;
          v688 = v685->meta.cEffectSprite.y - v3->char_c.meta.cEffectSprite.y;
          v689 = -(signed __int16)(signed int)atan2_deg(v688, v687);
          v3->char_c.field_7D4 = v689;
          if ( v689 < -10 )
            v3->char_c.field_7D4 = -10;
          if ( v3->char_c.field_7D4 > 10 )
            v3->char_c.field_7D4 = 10;
          char_c::play_sfx(&v3->char_c, 4);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          *(float *)&v1489 = 1.75;
          v1490 = (double)(char)v3->char_c.skills_1[7] * 10.0 + 25.0;
          v1491 = 10.0;
          if ( v3->char_c.skills_1[7] > 3 )
            v1491 = 10.0;
          else
            *(float *)&v1489 = 1.5;
          v690 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v691 = v3->char_c.meta.cEffectSprite.y + 85.0;
          v692 = v691;
          v693 = (double)(44 * (char)v690) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 826, v693, v692, v690, 1, (int)&v1489, 3);
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame )
          goto LABEL_1938;
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1943;
        *(float *)&v1562 = 0.0;
        v1563 = 0.0;
        a2p = &v1562;
        v1564 = 4.0;
        xm = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
        v694 = v3->char_c.meta.cEffectSprite.y + 95.0;
        v1352 = v694;
        v695 = v3->char_c.meta.cEffectSprite.x - (double)(24 * (char)xm);
        v696 = v695;
        goto LABEL_1937;
      case 566:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 7;
        v702 = v3->char_c.meta.viz.get_subseq == 2;
        if ( v3->char_c.meta.viz.get_subseq < 2 )
        {
          if ( !v3->char_c.down_C )
            v3->char_c.not_charge_attack = 0;
          v702 = v3->char_c.meta.viz.get_subseq == 2;
        }
        if ( v702 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          v3->char_c.meta.field_190 = 1;
          char_c::play_sfx(&v3->char_c, 29);
          v703 = v3->char_c.meta.enemy;
          v704 = (v703->meta.cEffectSprite.x - v3->char_c.meta.cEffectSprite.x) * (double)v3->char_c.meta.cEffectSprite.dir;
          v705 = v704;
          v706 = v703->meta.cEffectSprite.y - v3->char_c.meta.cEffectSprite.y;
          v707 = -(signed __int16)(signed int)atan2_deg(v706, v705);
          v3->char_c.field_7D4 = v707;
          if ( v707 < -10 )
            v3->char_c.field_7D4 = -10;
          if ( v3->char_c.field_7D4 > 10 )
            v3->char_c.field_7D4 = 10;
          char_c::play_sfx(&v3->char_c, 4);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          *(float *)&v1486 = 1.75;
          v1487 = (double)(char)v3->char_c.skills_1[7] * 10.0 + 25.0;
          v1488 = 10.0;
          if ( v3->char_c.skills_1[7] > 3 )
            v1488 = 10.0;
          else
            *(float *)&v1486 = 1.5;
          v708 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v709 = v3->char_c.meta.cEffectSprite.y + 85.0;
          v710 = v709;
          v711 = (double)(44 * (char)v708) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 826, v711, v710, v708, 1, (int)&v1486, 3);
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame )
          goto LABEL_1938;
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          v1568 = 0.0;
          v1569 = 0.0;
          a2p = (int *)&v1568;
          v1570 = 4.0;
          xm = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v712 = v3->char_c.meta.cEffectSprite.y + 95.0;
          v1352 = v712;
          v713 = v3->char_c.meta.cEffectSprite.x - (double)(24 * (char)xm);
          v696 = v713;
LABEL_1937:
          v697 = v696;
          addbullet(&v3->char_c, 826, v697, v1352, xm, 1, (int)a2p, 3);
LABEL_1938:
          if ( v3->char_c.meta.viz.get_subseq == 1 )
          {
            v698 = v3->char_c.meta.viz.get_elaps_frames;
            if ( v698 >= 8 && (!v3->char_c.not_charge_attack || v698 > 25) )
              ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
          }
        }
LABEL_1943:
        if ( v3->char_c.meta.viz.get_subseq != 3 )
          return;
        v701 = __OFSUB__(v3->char_c.meta.viz.get_elaps_frames, 40);
        v699 = v3->char_c.meta.viz.get_elaps_frames == 40;
        v700 = v3->char_c.meta.viz.get_elaps_frames - 40 < 0;
        goto LABEL_1945;
      case 567:
        if ( v3->char_c.meta.viz.get_subseq == 5 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 7;
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 5 )
          goto LABEL_1821;
        v714 = v3->char_c.meta.viz.get_subseq == 2;
        if ( v3->char_c.meta.viz.get_subseq < 2 )
        {
          if ( !v3->char_c.down_B )
            v3->char_c.not_charge_attack = 0;
          v714 = v3->char_c.meta.viz.get_subseq == 2;
        }
        if ( v714 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          v3->char_c.meta.field_190 = 1;
          char_c::play_sfx(&v3->char_c, 29);
          v715 = v3->char_c.meta.enemy;
          v716 = (v715->meta.cEffectSprite.x - v3->char_c.meta.cEffectSprite.x) * (double)v3->char_c.meta.cEffectSprite.dir;
          v717 = v716;
          v718 = v715->meta.cEffectSprite.y - v3->char_c.meta.cEffectSprite.y;
          v719 = -(signed __int16)(signed int)atan2_deg(v718, v717);
          v3->char_c.field_7D4 = v719;
          if ( v719 < -10 )
            v3->char_c.field_7D4 = -10;
          if ( v3->char_c.field_7D4 > 10 )
            v3->char_c.field_7D4 = 10;
          char_c::play_sfx(&v3->char_c, 4);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          *(float *)&v1480 = 1.75;
          v1481 = (double)(char)v3->char_c.skills_1[7] * 5.0 + 25.0;
          v1482 = 10.0;
          if ( v3->char_c.skills_1[7] > 3 )
            v1482 = 10.0;
          else
            *(float *)&v1480 = 1.5;
          v720 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v721 = v3->char_c.meta.cEffectSprite.y + 104.0;
          v722 = v721;
          v723 = (double)(44 * (char)v720) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 826, v723, v722, v720, 1, (int)&v1480, 3);
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame || v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1996;
        *(float *)&v1574 = 0.0;
        v1575 = 0.0;
        a2q = &v1574;
        v1576 = 4.0;
        xn = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
        v724 = v3->char_c.meta.cEffectSprite.y + 104.0;
        v1353 = v724;
        v725 = v3->char_c.meta.cEffectSprite.x - (double)(48 * (char)xn);
        v726 = v725;
        goto LABEL_1995;
      case 568:
        if ( v3->char_c.meta.viz.get_subseq == 5 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 7;
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 5 )
        {
LABEL_1821:
          v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 5);
          goto LABEL_986;
        }
        v730 = v3->char_c.meta.viz.get_subseq == 2;
        if ( v3->char_c.meta.viz.get_subseq < 2 )
        {
          if ( !v3->char_c.down_C )
            v3->char_c.not_charge_attack = 0;
          v730 = v3->char_c.meta.viz.get_subseq == 2;
        }
        if ( v730 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          v3->char_c.meta.field_190 = 1;
          char_c::play_sfx(&v3->char_c, 29);
          v731 = v3->char_c.meta.enemy;
          v732 = (v731->meta.cEffectSprite.x - v3->char_c.meta.cEffectSprite.x) * (double)v3->char_c.meta.cEffectSprite.dir;
          v733 = v732;
          v734 = v731->meta.cEffectSprite.y - v3->char_c.meta.cEffectSprite.y;
          v735 = -(signed __int16)(signed int)atan2_deg(v734, v733);
          v3->char_c.field_7D4 = v735;
          if ( v735 < -10 )
            v3->char_c.field_7D4 = -10;
          if ( v3->char_c.field_7D4 > 10 )
            v3->char_c.field_7D4 = 10;
          char_c::play_sfx(&v3->char_c, 4);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          *(float *)&v1483 = 1.75;
          v1484 = (double)(char)v3->char_c.skills_1[7] * 5.0 + 25.0;
          v1485 = 10.0;
          if ( v3->char_c.skills_1[7] > 3 )
            v1485 = 10.0;
          else
            *(float *)&v1483 = 1.5;
          v736 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v737 = v3->char_c.meta.cEffectSprite.y + 104.0;
          v738 = v737;
          v739 = (double)(44 * (char)v736) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 826, v739, v738, v736, 1, (int)&v1483, 3);
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          v1580 = 0.0;
          v1581 = 0.0;
          a2q = (int *)&v1580;
          v1582 = 4.0;
          xn = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v740 = v3->char_c.meta.cEffectSprite.y + 104.0;
          v1353 = v740;
          v741 = v3->char_c.meta.cEffectSprite.x - (double)(48 * (char)xn);
          v726 = v741;
LABEL_1995:
          v727 = v726;
          addbullet(&v3->char_c, 826, v727, v1353, xn, 1, (int)a2q, 3);
        }
LABEL_1996:
        v728 = v3->char_c.meta.viz.get_elaps_frames;
        if ( !v728 && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 5 )
          goto LABEL_831;
        if ( v3->char_c.meta.viz.get_subseq == 1 && v728 >= 8 && (!v3->char_c.not_charge_attack || v728 > 25) )
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        if ( v3->char_c.meta.viz.get_subseq == 3 && v3->char_c.meta.viz.get_elaps_frames > 40 )
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        if ( v3->char_c.meta.viz.get_subseq != 4 || v3->char_c.meta.viz.get_frame_time )
          return;
        v729 = v3->char_c.meta.viz.get_frame == 5;
        goto LABEL_2011;
      case 570:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 11;
        v742 = v3->char_c.meta.viz.get_subseq == 2;
        if ( v3->char_c.meta.viz.get_subseq < 2 )
        {
          if ( !v3->char_c.down_C )
            v3->char_c.not_charge_attack = 0;
          v742 = v3->char_c.meta.viz.get_subseq == 2;
        }
        if ( v742 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          v3->char_c.meta.field_190 = 1;
          char_c::play_sfx(&v3->char_c, 34);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          *(float *)&v1429 = 30.0;
          v1430 = 0.0;
          v1431 = 4.0;
          v743 = v3->char_c.meta.cEffectSprite.y + 85.0;
          xo = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v744 = 44 * v3->char_c.meta.cEffectSprite.dir;
          if ( v3->char_c.field_7D8 == 1 )
          {
            v745 = v743;
            v746 = v745;
            v747 = (double)v744 + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 827, v747, v746, xo, 1, (int)&v1429, 3);
            v1397 = 0.0;
            v748 = (float)0.0;
            do
            {
              v1430 = v748 * 5.0 + 10.0;
              if ( v3->char_c.skills_1[11] > 3 )
                v749 = 6.0;
              else
                v749 = 0.0;
              v1431 = v749;
              v750 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v751 = v3->char_c.meta.cEffectSprite.y + 85.0;
              v752 = v751;
              v753 = (double)(44 * (char)v750) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v753, v752, v750, 1, (int)&v1429, 3);
              v1397 = v1397 + 1.0;
              v748 = v1397;
            }
            while ( v1397 < 3.0 );
            v1398 = 0.0;
            v754 = (float)0.0;
            do
            {
              v1430 = -v754 * 5.0 - 10.0;
              if ( v3->char_c.skills_1[11] > 3 )
                v755 = 6.0;
              else
                v755 = 0.0;
              v1431 = v755;
              v756 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v757 = v3->char_c.meta.cEffectSprite.y + 85.0;
              v758 = v757;
              v759 = (double)(44 * (char)v756) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v759, v758, v756, 1, (int)&v1429, 3);
              v1398 = v1398 + 1.0;
              v754 = v1398;
            }
            while ( v1398 < 3.0 );
          }
          else
          {
            v760 = v743;
            v761 = v760;
            v762 = (double)v744 + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 827, v762, v761, xo, 1, (int)&v1429, 3);
            v1399 = 0.0;
            v763 = (float)0.0;
            do
            {
              v1430 = v763 * 5.0 + 10.0;
              if ( v3->char_c.skills_1[11] > 3 )
                v764 = 6.0;
              else
                v764 = 0.0;
              v1431 = v764;
              v765 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v766 = v3->char_c.meta.cEffectSprite.y + 85.0;
              v767 = v766;
              v768 = (double)(44 * (char)v765) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v768, v767, v765, 1, (int)&v1429, 3);
              v1399 = v1399 + 1.0;
              v763 = v1399;
            }
            while ( v1399 < 3.0 );
            v1400 = 0.0;
            v769 = (float)0.0;
            do
            {
              v1430 = -v769 * 5.0 - 10.0;
              if ( v3->char_c.skills_1[11] > 3 )
                v770 = 6.0;
              else
                v770 = 0.0;
              v1431 = v770;
              v771 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v772 = v3->char_c.meta.cEffectSprite.y + 85.0;
              v773 = v772;
              v774 = (double)(44 * (char)v771) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v774, v773, v771, 1, (int)&v1429, 3);
              v1400 = v1400 + 1.0;
              v769 = v1400;
            }
            while ( v1400 < 3.0 );
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.viz.get_elaps_frames > 2 )
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        if ( v3->char_c.meta.viz.get_subseq != 3 )
          return;
        v701 = __OFSUB__(v3->char_c.meta.viz.get_elaps_frames, 10);
        v699 = v3->char_c.meta.viz.get_elaps_frames == 10;
        v700 = v3->char_c.meta.viz.get_elaps_frames - 10 < 0;
        goto LABEL_1945;
      case 571:
        char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 11;
        v775 = v3->char_c.meta.viz.get_subseq == 2;
        if ( v3->char_c.meta.viz.get_subseq < 2 )
        {
          if ( !v3->char_c.down_C )
            v3->char_c.not_charge_attack = 0;
          v775 = v3->char_c.meta.viz.get_subseq == 2;
        }
        if ( v775 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          v3->char_c.meta.field_190 = 1;
          char_c::play_sfx(&v3->char_c, 34);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          *(float *)&v1420 = 45.0;
          v1421 = 0.0;
          v1422 = 4.0;
          v776 = v3->char_c.meta.cEffectSprite.y + 85.0;
          xp = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v777 = 44 * v3->char_c.meta.cEffectSprite.dir;
          if ( v3->char_c.field_7D8 == 1 )
          {
            v778 = v776;
            v779 = v778;
            v780 = (double)v777 + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 827, v780, v779, xp, 1, (int)&v1420, 3);
            v1401 = 0.0;
            v781 = (float)0.0;
            do
            {
              v1421 = v781 * 5.0 + 20.0;
              if ( v3->char_c.skills_1[11] > 3 )
                v782 = 6.0;
              else
                v782 = 0.0;
              v1422 = v782;
              v783 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v784 = v3->char_c.meta.cEffectSprite.y + 85.0;
              v785 = v784;
              v786 = (double)(44 * (char)v783) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v786, v785, v783, 1, (int)&v1420, 3);
              v1401 = v1401 + 1.0;
              v781 = v1401;
            }
            while ( v1401 < 3.0 );
            v1402 = 0.0;
            v787 = (float)0.0;
            do
            {
              v1421 = -v787 * 5.0 - 20.0;
              if ( v3->char_c.skills_1[11] > 3 )
                v788 = 6.0;
              else
                v788 = 0.0;
              v1422 = v788;
              v789 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v790 = v3->char_c.meta.cEffectSprite.y + 85.0;
              v791 = v790;
              v792 = (double)(44 * (char)v789) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v792, v791, v789, 1, (int)&v1420, 3);
              v1402 = v1402 + 1.0;
              v787 = v1402;
            }
            while ( v1402 < 3.0 );
          }
          else
          {
            v793 = v776;
            v794 = v793;
            v795 = (double)v777 + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 827, v795, v794, xp, 1, (int)&v1420, 3);
            v1403 = 0.0;
            v796 = (float)0.0;
            do
            {
              v1421 = v796 * 5.0 + 20.0;
              if ( v3->char_c.skills_1[11] > 3 )
                v797 = 6.0;
              else
                v797 = 0.0;
              v1422 = v797;
              v798 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v799 = v3->char_c.meta.cEffectSprite.y + 85.0;
              v800 = v799;
              v801 = (double)(44 * (char)v798) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v801, v800, v798, 1, (int)&v1420, 3);
              v1403 = v1403 + 1.0;
              v796 = v1403;
            }
            while ( v1403 < 3.0 );
            v1404 = 0.0;
            v802 = (float)0.0;
            do
            {
              v1421 = -v802 * 5.0 - 20.0;
              if ( v3->char_c.skills_1[11] > 3 )
                v803 = 6.0;
              else
                v803 = 0.0;
              v1422 = v803;
              v804 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v805 = v3->char_c.meta.cEffectSprite.y + 85.0;
              v806 = v805;
              v807 = (double)(44 * (char)v804) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v807, v806, v804, 1, (int)&v1420, 3);
              v1404 = v1404 + 1.0;
              v802 = v1404;
            }
            while ( v1404 < 3.0 );
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.viz.get_elaps_frames > 2 )
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          v701 = __OFSUB__(v3->char_c.meta.viz.get_elaps_frames, 20);
          v699 = v3->char_c.meta.viz.get_elaps_frames == 20;
          v700 = v3->char_c.meta.viz.get_elaps_frames - 20 < 0;
LABEL_1945:
          if ( !((unsigned __int8)(v700 ^ v701) | (unsigned __int8)v699) )
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        }
        return;
      case 572:
        if ( v3->char_c.meta.viz.get_subseq == 5 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 11;
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 5 )
          goto LABEL_1148;
        v808 = v3->char_c.meta.viz.get_subseq == 2;
        if ( v3->char_c.meta.viz.get_subseq < 2 )
        {
          if ( !v3->char_c.down_C )
            v3->char_c.not_charge_attack = 0;
          v808 = v3->char_c.meta.viz.get_subseq == 2;
        }
        if ( v808 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          v3->char_c.meta.field_190 = 1;
          char_c::play_sfx(&v3->char_c, 34);
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          *(float *)&v1426 = 30.0;
          v1427 = 0.0;
          v1428 = 4.0;
          v809 = v3->char_c.meta.cEffectSprite.y + 85.0;
          xq = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v810 = 44 * v3->char_c.meta.cEffectSprite.dir;
          if ( v3->char_c.field_7D8 == 1 )
          {
            v811 = v809;
            v812 = v811;
            v813 = (double)v810 + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 827, v813, v812, xq, 1, (int)&v1426, 3);
            v1405 = 0.0;
            v814 = (float)0.0;
            do
            {
              v1427 = v814 * 5.0 + 10.0;
              if ( v3->char_c.skills_1[11] > 3 )
                v815 = 6.0;
              else
                v815 = 0.0;
              v1428 = v815;
              v816 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v817 = v3->char_c.meta.cEffectSprite.y + 104.0;
              v818 = v817;
              v819 = (double)(48 * (char)v816) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v819, v818, v816, 1, (int)&v1426, 3);
              v1405 = v1405 + 1.0;
              v814 = v1405;
            }
            while ( v1405 < 3.0 );
            v1406 = 0.0;
            v820 = (float)0.0;
            do
            {
              v1427 = -v820 * 5.0 - 10.0;
              if ( v3->char_c.skills_1[11] > 3 )
                v821 = 6.0;
              else
                v821 = 0.0;
              v1428 = v821;
              v822 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v823 = v3->char_c.meta.cEffectSprite.y + 104.0;
              v824 = v823;
              v825 = (double)(48 * (char)v822) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v825, v824, v822, 1, (int)&v1426, 3);
              v1406 = v1406 + 1.0;
              v820 = v1406;
            }
            while ( v1406 < 3.0 );
          }
          else
          {
            v826 = v809;
            v827 = v826;
            v828 = (double)v810 + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 827, v828, v827, xq, 1, (int)&v1426, 3);
            v1407 = 0.0;
            v829 = (float)0.0;
            do
            {
              v1427 = v829 * 5.0 + 10.0;
              if ( v3->char_c.skills_1[11] > 3 )
                v830 = 6.0;
              else
                v830 = 0.0;
              v1428 = v830;
              v831 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v832 = v3->char_c.meta.cEffectSprite.y + 104.0;
              v833 = v832;
              v834 = (double)(48 * (char)v831) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v834, v833, v831, 1, (int)&v1426, 3);
              v1407 = v1407 + 1.0;
              v829 = v1407;
            }
            while ( v1407 < 3.0 );
            v1408 = 0.0;
            v835 = (float)0.0;
            do
            {
              v1427 = -v835 * 5.0 - 10.0;
              if ( v3->char_c.skills_1[11] > 3 )
                v836 = 6.0;
              else
                v836 = 0.0;
              v1428 = v836;
              v837 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v838 = v3->char_c.meta.cEffectSprite.y + 104.0;
              v839 = v838;
              v840 = (double)(48 * (char)v837) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v840, v839, v837, 1, (int)&v1426, 3);
              v1408 = v1408 + 1.0;
              v835 = v1408;
            }
            while ( v1408 < 3.0 );
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        v841 = v3->char_c.meta.viz.get_elaps_frames;
        if ( !v841 && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 5 )
          goto LABEL_831;
        if ( v3->char_c.meta.viz.get_subseq == 1 && v841 > 2 )
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        if ( v3->char_c.meta.viz.get_subseq != 3 )
          goto LABEL_2157;
        v844 = __OFSUB__(v3->char_c.meta.viz.get_elaps_frames, 10);
        v842 = v3->char_c.meta.viz.get_elaps_frames == 10;
        v843 = v3->char_c.meta.viz.get_elaps_frames - 10 < 0;
        goto LABEL_2155;
      case 573:
        if ( v3->char_c.meta.viz.get_subseq == 5 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.field_18C = 11;
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 5 )
        {
LABEL_1148:
          v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 5);
LABEL_986:
          v3->char_c.air_dash_cnt = 0;
LABEL_987:
          v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
          char_c::reset_forces(&v3->char_c);
        }
        else
        {
          v845 = v3->char_c.meta.viz.get_subseq == 2;
          if ( v3->char_c.meta.viz.get_subseq < 2 )
          {
            if ( !v3->char_c.down_C )
              v3->char_c.not_charge_attack = 0;
            v845 = v3->char_c.meta.viz.get_subseq == 2;
          }
          if ( v845 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
          {
            char_c::add_card_energy(&v3->char_c, 50);
            v3->char_c.meta.field_190 = 1;
            char_c::play_sfx(&v3->char_c, 34);
            char_c::spell_energy_spend(&v3->char_c, 200, 120);
            *(float *)&v1423 = 45.0;
            v1424 = 0.0;
            v1425 = 4.0;
            v846 = v3->char_c.meta.cEffectSprite.y + 85.0;
            xr = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v847 = 44 * v3->char_c.meta.cEffectSprite.dir;
            if ( v3->char_c.field_7D8 == 1 )
            {
              v848 = v846;
              v849 = v848;
              v850 = (double)v847 + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v850, v849, xr, 1, (int)&v1423, 3);
              v1409 = 0.0;
              v851 = (float)0.0;
              do
              {
                v1424 = v851 * 5.0 + 20.0;
                if ( v3->char_c.skills_1[11] > 3 )
                  v852 = 6.0;
                else
                  v852 = 0.0;
                v1425 = v852;
                v853 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
                v854 = v3->char_c.meta.cEffectSprite.y + 104.0;
                v855 = v854;
                v856 = (double)(48 * (char)v853) + v3->char_c.meta.cEffectSprite.x;
                addbullet(&v3->char_c, 827, v856, v855, v853, 1, (int)&v1423, 3);
                v1409 = v1409 + 1.0;
                v851 = v1409;
              }
              while ( v1409 < 3.0 );
              v1410 = 0.0;
              v857 = (float)0.0;
              do
              {
                v1424 = -v857 * 5.0 - 20.0;
                if ( v3->char_c.skills_1[11] > 3 )
                  v858 = 6.0;
                else
                  v858 = 0.0;
                v1425 = v858;
                v859 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
                v860 = v3->char_c.meta.cEffectSprite.y + 104.0;
                v861 = v860;
                v862 = (double)(48 * (char)v859) + v3->char_c.meta.cEffectSprite.x;
                addbullet(&v3->char_c, 827, v862, v861, v859, 1, (int)&v1423, 3);
                v1410 = v1410 + 1.0;
                v857 = v1410;
              }
              while ( v1410 < 3.0 );
            }
            else
            {
              v863 = v846;
              v864 = v863;
              v865 = (double)v847 + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 827, v865, v864, xr, 1, (int)&v1423, 3);
              v1411 = 0.0;
              v866 = (float)0.0;
              do
              {
                v1424 = v866 * 5.0 + 20.0;
                if ( v3->char_c.skills_1[11] > 3 )
                  v867 = 6.0;
                else
                  v867 = 0.0;
                v1425 = v867;
                v868 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
                v869 = v3->char_c.meta.cEffectSprite.y + 104.0;
                v870 = v869;
                v871 = (double)(48 * (char)v868) + v3->char_c.meta.cEffectSprite.x;
                addbullet(&v3->char_c, 827, v871, v870, v868, 1, (int)&v1423, 3);
                v1411 = v1411 + 1.0;
                v866 = v1411;
              }
              while ( v1411 < 3.0 );
              v1412 = 0.0;
              v872 = (float)0.0;
              do
              {
                v1424 = -v872 * 5.0 - 20.0;
                if ( v3->char_c.skills_1[11] > 3 )
                  v873 = 6.0;
                else
                  v873 = 0.0;
                v1425 = v873;
                v874 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
                v875 = v3->char_c.meta.cEffectSprite.y + 104.0;
                v876 = v875;
                v877 = (double)(48 * (char)v874) + v3->char_c.meta.cEffectSprite.x;
                addbullet(&v3->char_c, 827, v877, v876, v874, 1, (int)&v1423, 3);
                v1412 = v1412 + 1.0;
                v872 = v1412;
              }
              while ( v1412 < 3.0 );
            }
          }
          if ( viz_process(&v3->char_c) )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
          v878 = v3->char_c.meta.viz.get_elaps_frames;
          if ( !v878 && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 5 )
            goto LABEL_831;
          if ( v3->char_c.meta.viz.get_subseq == 1 && v878 > 2 )
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
          if ( v3->char_c.meta.viz.get_subseq == 3 )
          {
            v844 = __OFSUB__(v3->char_c.meta.viz.get_elaps_frames, 20);
            v842 = v3->char_c.meta.viz.get_elaps_frames == 20;
            v843 = v3->char_c.meta.viz.get_elaps_frames - 20 < 0;
LABEL_2155:
            if ( !((unsigned __int8)(v843 ^ v844) | (unsigned __int8)v842) )
              ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
          }
LABEL_2157:
          if ( v3->char_c.meta.viz.get_subseq == 4 && !v3->char_c.meta.viz.get_frame_time )
          {
            v729 = v3->char_c.meta.viz.get_frame == 5;
LABEL_2011:
            if ( v729 )
              v3->char_c.meta.cEffectSprite.v_force = 0.60000002;
          }
        }
        return;
      case 599:
        v879 = v3->char_c.field_7D0;
        if ( v879 > 0 && v3->char_c.meta.viz.get_frame < 7 && v879 < 12 )
        {
          v880 = MT_getnext() % 0x23u;
          v3->char_c.field_7D4 = v880;
          *(float *)&v1462 = (double)(-20 - v880);
          v1463 = (double)(signed __int16)(MT_getnext() % 5u + 10);
          v1464 = 0.0;
          v881 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v882 = (double)(20 * (char)v881 * (v3->char_c.field_7D0 + 1)) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 807, v882, v3->char_c.meta.cEffectSprite.y, v881, 1, (int)&v1462, 3);
          *(float *)&v1462 = (double)(MT_getnext() % 0x168u);
          v1463 = 0.0;
          v1464 = 1.0;
          v883 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v884 = (double)(20 * (char)v883 * (v3->char_c.field_7D0 + 1)) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 801, v884, v3->char_c.meta.cEffectSprite.y, v883, 1, (int)&v1462, 3);
          if ( v3->char_c.field_7D0 == 1 )
          {
            char_c::play_sfx(&v3->char_c, 0);
            char_c::spell_energy_spend(&v3->char_c, 200, 120);
          }
          ++v3->char_c.field_7D0;
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 5 )
          v3->char_c.field_7D0 = 1;
        return;
      case 600:
        char_c::sub10func(&v3->char_c);
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_2219;
        v885 = v3->char_c.meta.viz.get_elaps_frames;
        if ( v885 > 60 )
          goto LABEL_1127;
        if ( !(v885 % 10) )
        {
          v886 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v887 = v3->char_c.meta.cEffectSprite.x - (double)(100 * (char)v886);
          scene_add_effect(&v3->char_c, 127, v887, v3->char_c.meta.cEffectSprite.y, v886, -1);
        }
LABEL_2219:
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_subseq && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::sub_4834E0(&v3->char_c, 40);
          scene_play_sfx(23);
          v888 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v889 = v3->char_c.meta.cEffectSprite.y + 94.0;
          v890 = v889;
          v891 = v3->char_c.meta.cEffectSprite.x - (double)(23 * (char)v888);
          scene_add_effect(&v3->char_c, 115, v891, v890, v888, 1);
          char_c::sub_469450(&v3->char_c, 0, 0, 60);
          char_c::sub_483570(&v3->char_c);
          weather_forecast_next();
        }
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          v892 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v893 = v3->char_c.meta.cEffectSprite.y + 130.0;
          v894 = v893;
          v895 = v3->char_c.meta.cEffectSprite.x - (double)(80 * (char)v892);
          addbullet(&v3->char_c, 990, v895, v894, v892, 1, 0, 0);
          char_c::play_sfx(&v3->char_c, 10);
          *(float *)&v1477 = 0.0;
          v1478 = 0.0;
          v1479 = 0.0;
          v896 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v897 = v3->char_c.meta.cEffectSprite.y + 87.0;
          v898 = v897;
          v899 = (double)(25 * (char)v896) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 850, v899, v898, v896, 1, (int)&v1477, 3);
          v1479 = 2.0;
          v900 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v901 = v3->char_c.meta.cEffectSprite.y + 87.0;
          v902 = v901;
          v903 = (double)(25 * (char)v900) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 850, v903, v902, v900, 1, (int)&v1477, 3);
          v1479 = 4.0;
          v904 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v905 = v3->char_c.meta.cEffectSprite.y + 87.0;
          v906 = v905;
          v907 = (double)(25 * (char)v904) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 850, v907, v906, v904, 1, (int)&v1477, 3);
        }
        return;
      case 601:
        char_c::sub10func(&v3->char_c);
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_2234;
        v908 = v3->char_c.meta.viz.get_elaps_frames;
        if ( v908 > 90 )
          goto LABEL_1127;
        if ( !(v908 % 10) )
        {
          v909 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v910 = v3->char_c.meta.cEffectSprite.x - (double)(100 * (char)v909);
          scene_add_effect(&v3->char_c, 127, v910, v3->char_c.meta.cEffectSprite.y, v909, -1);
        }
LABEL_2234:
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_subseq && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::sub_4834E0(&v3->char_c, 40);
          scene_play_sfx(23);
          v911 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v912 = v3->char_c.meta.cEffectSprite.y + 94.0;
          v913 = v912;
          v914 = v3->char_c.meta.cEffectSprite.x - (double)(23 * (char)v911);
          scene_add_effect(&v3->char_c, 115, v914, v913, v911, 1);
          char_c::sub_469450(&v3->char_c, 0, 0, 60);
          char_c::sub_483570(&v3->char_c);
          weather_forecast_next();
        }
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          v915 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v916 = v3->char_c.meta.cEffectSprite.y + 130.0;
          v917 = v916;
          v918 = v3->char_c.meta.cEffectSprite.x - (double)(80 * (char)v915);
          addbullet(&v3->char_c, 990, v918, v917, v915, 1, 0, 0);
          char_c::play_sfx(&v3->char_c, 10);
          *(float *)&v1435 = 0.0;
          v1436 = 2.0;
          v1437 = 0.0;
          v919 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v920 = v3->char_c.meta.cEffectSprite.y + 87.0;
          v921 = v920;
          v922 = (double)(25 * (char)v919) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 851, v922, v921, v919, 1, (int)&v1435, 3);
          v1436 = -2.0;
          v923 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v924 = v3->char_c.meta.cEffectSprite.y + 87.0;
          v925 = v924;
          v926 = (double)(25 * (char)v923) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 851, v926, v925, v923, 1, (int)&v1435, 3);
          v1436 = 0.0;
          v1437 = 2.0;
          v927 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v928 = v3->char_c.meta.cEffectSprite.y + 87.0;
          v929 = v928;
          v930 = (double)(25 * (char)v927) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 851, v930, v929, v927, 1, (int)&v1435, 3);
        }
        return;
      case 602:
        char_c::sub10func(&v3->char_c);
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 10) && v3->char_c.meta.viz.get_elaps_frames <= 90 )
          {
            *(float *)&v1586 = 0.0;
            v1587 = 0.0;
            v1588 = 5.0;
            v931 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v932 = v3->char_c.meta.cEffectSprite.y + 150.0;
            v933 = v932;
            v934 = (double)(25 * (char)v931) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 852, v934, v933, v931, 1, (int)&v1586, 3);
            v935 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v936 = v3->char_c.meta.cEffectSprite.x - (double)(100 * (char)v935);
            scene_add_effect(&v3->char_c, 127, v936, v3->char_c.meta.cEffectSprite.y, v935, -1);
          }
          if ( v3->char_c.meta.viz.get_elaps_frames > 120 )
            goto LABEL_1106;
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_subseq && v3->char_c.meta.viz.get_frame == 3 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::sub_4834E0(&v3->char_c, 40);
          scene_play_sfx(23);
          v937 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v938 = v3->char_c.meta.cEffectSprite.y + 83.0;
          v939 = v938;
          v940 = (double)(18 * (char)v937) + v3->char_c.meta.cEffectSprite.x;
          scene_add_effect(&v3->char_c, 115, v940, v939, v937, 1);
          char_c::sub_469450(&v3->char_c, 0, 0, 60);
          char_c::sub_483570(&v3->char_c);
          weather_forecast_next();
        }
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          v941 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v942 = v3->char_c.meta.cEffectSprite.y + 130.0;
          v943 = v942;
          v944 = v3->char_c.meta.cEffectSprite.x - (double)(80 * (char)v941);
          addbullet(&v3->char_c, 990, v944, v943, v941, 1, 0, 0);
          char_c::play_sfx(&v3->char_c, 11);
          *(float *)&v1450 = 0.0;
          v1451 = 0.0;
          v1452 = 0.0;
          v945 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v946 = v3->char_c.meta.cEffectSprite.y + 150.0;
          v947 = v946;
          v948 = (double)(25 * (char)v945) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 852, v948, v947, v945, 1, (int)&v1450, 3);
          v1452 = 2.0;
          v949 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v950 = v3->char_c.meta.cEffectSprite.y + 150.0;
          v951 = v950;
          v952 = (double)(25 * (char)v949) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 852, v952, v951, v949, 1, (int)&v1450, 3);
          v1452 = 4.0;
          v953 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v954 = v3->char_c.meta.cEffectSprite.y + 150.0;
          v955 = v954;
          v956 = (double)(25 * (char)v953) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 852, v956, v955, v953, 1, (int)&v1450, 3);
        }
        return;
      case 603:
        if ( v3->char_c.meta.viz.get_subseq == 6 )
          char_c::sub10func(&v3->char_c);
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        if ( v3->char_c.meta.viz.get_subseq == 1 )
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 10) && v3->char_c.meta.viz.get_elaps_frames <= 90 )
          {
            v1592 = SLODWORD(v3->char_c.field_7DC);
            v1593 = 0.0;
            v1594 = 5.0;
            v957 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v958 = v3->char_c.meta.cEffectSprite.y + 53.0;
            v959 = v958;
            v960 = (double)(30 * (char)v957) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 853, v960, v959, v957, 1, (int)&v1592, 3);
          }
          if ( v3->char_c.down_X * v3->char_c.meta.cEffectSprite.dir > 0 || v3->char_c.down_Y < 0 )
            v3->char_c.field_7DC = v3->char_c.field_7DC - 0.2000000029802322;
          if ( v3->char_c.down_X * v3->char_c.meta.cEffectSprite.dir < 0 || v3->char_c.down_Y > 0 )
            v3->char_c.field_7DC = v3->char_c.field_7DC + 0.2000000029802322;
          v961 = 180.0 - v3->char_c.field_7DC;
          v3->char_c.meta.cEffectSprite.h_inerc = cosinus(v961) * 3.0;
          v962 = 180.0 - v3->char_c.field_7DC;
          v3->char_c.meta.cEffectSprite.v_inerc = sinus(v962) * 3.0;
          if ( v3->char_c.meta.viz.get_elaps_frames > 120 )
            goto LABEL_1106;
        }
        v963 = v3->char_c.meta.viz.get_subseq;
        if ( (v963 == 4 || v963 == 5) && (v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force, (unsigned __int8)char_c::char_on_ground_down(&v3->char_c)) )
        {
          char_c::reset_forces(&v3->char_c);
          v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
          v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 6);
        }
        else
        {
          if ( viz_process(&v3->char_c) )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
          if ( !v3->char_c.meta.viz.get_subseq && v3->char_c.meta.viz.get_frame == 3 && !v3->char_c.meta.viz.get_frame_time )
          {
            char_c::sub_4834E0(&v3->char_c, 40);
            scene_play_sfx(23);
            v964 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v965 = v3->char_c.meta.cEffectSprite.y + 83.0;
            v966 = v965;
            v967 = (double)(18 * (char)v964) + v3->char_c.meta.cEffectSprite.x;
            scene_add_effect(&v3->char_c, 115, v967, v966, v964, 1);
            char_c::sub_469450(&v3->char_c, 0, 0, 60);
            char_c::sub_483570(&v3->char_c);
            weather_forecast_next();
          }
          if ( v3->char_c.meta.viz.get_subseq == 1 && !v3->char_c.meta.viz.get_frame_time )
          {
            if ( !v3->char_c.meta.viz.get_frame )
            {
              v3->char_c.meta.cEffectSprite.h_inerc = -4.0;
              v3->char_c.meta.cEffectSprite.v_inerc = 23.0;
              v3->char_c.meta.cEffectSprite.v_force = 0.60000002;
            }
            if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 9 )
            {
              v3->char_c.meta.cEffectSprite.h_inerc = v3->char_c.meta.cEffectSprite.h_inerc * 0.2000000029802322;
              v3->char_c.meta.cEffectSprite.v_inerc = 0.2000000029802322 * v3->char_c.meta.cEffectSprite.v_inerc;
              v3->char_c.meta.cEffectSprite.v_force = 0.0;
              char_c::reset_forces(&v3->char_c);
            }
          }
          if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 2 )
          {
            char_c::play_sfx(&v3->char_c, 11);
            v3->char_c.field_7DC = 60.0;
            *(float *)&v1474 = 60.0;
            v1475 = 0.0;
            v1476 = 0.0;
            v968 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v969 = v3->char_c.meta.cEffectSprite.y + 53.0;
            v970 = v969;
            v971 = (double)(30 * (char)v968) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 853, v971, v970, v968, 1, (int)&v1474, 3);
            v1476 = 2.0;
            v972 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v973 = v3->char_c.meta.cEffectSprite.y + 53.0;
            v974 = v973;
            v975 = (double)(30 * (char)v972) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 853, v975, v974, v972, 1, (int)&v1474, 3);
            v1476 = 4.0;
            v976 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v977 = v3->char_c.meta.cEffectSprite.y + 53.0;
            v978 = v977;
            v979 = (double)(30 * (char)v976) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 853, v979, v978, v976, 1, (int)&v1474, 3);
          }
          if ( v3->char_c.meta.viz.get_subseq == 4 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 1 )
            v3->char_c.meta.cEffectSprite.v_force = 0.5;
        }
        return;
      case 604:
        char_c::sub10func(&v3->char_c);
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          char_c::sub_4834E0(&v3->char_c, 40);
          scene_play_sfx(23);
          v980 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v981 = v3->char_c.meta.current_frame_params;
          v982 = v3->char_c.meta.cEffectSprite.y - (double)v981->extra_24byte[5];
          v983 = v982;
          v984 = (double)(v981->extra_24byte[4] * (char)v980) + v3->char_c.meta.cEffectSprite.x;
          scene_add_effect(&v3->char_c, 115, v984, v983, v980, 1);
          char_c::sub_469450(&v3->char_c, 0, 0, 60);
          char_c::sub_483570(&v3->char_c);
          weather_forecast_next();
        }
        v985 = 0.02500000037252903;
        if ( v3->char_c.meta.viz.get_subseq != 2 )
          goto LABEL_2318;
        if ( v3->char_c.meta.viz.get_frame_time )
          goto LABEL_2314;
        v987 = __OFSUB__(v3->char_c.meta.viz.get_frame, 2);
        v986 = (signed __int16)(v3->char_c.meta.viz.get_frame - 2) < 0;
        if ( v3->char_c.meta.viz.get_frame == 2 )
        {
          char_c::play_sfx(&v3->char_c, 39);
          v1413 = 0.0;
          v988 = (float)0.0;
          do
          {
            *(float *)&v1525 = 72.0 * v988;
            v1526 = 0.0;
            v1527 = v988;
            v989 = -*(float *)&v1525;
            v990 = cosinus(v989) > 0.0;
            LOBYTE(v991) = v3->char_c.meta.cEffectSprite.dir;
            v992 = v3->char_c.meta.current_frame_params;
            v993 = v3->char_c.meta.cEffectSprite.y - (double)v992->extra_24byte[5];
            v994 = v993;
            v995 = (double)(v992->extra_24byte[4] * (char)v991) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 854, v995, v994, v991, (unsigned __int8)(1 - 2 * v990), (int)&v1525, 3);
            v1413 = v1413 + 1.0;
            v988 = v1413;
          }
          while ( v1413 < 5.0 );
          v985 = 0.02500000037252903;
LABEL_2314:
          v987 = __OFSUB__(v3->char_c.meta.viz.get_frame, 2);
          v986 = (signed __int16)(v3->char_c.meta.viz.get_frame - 2) < 0;
        }
        if ( (unsigned __int8)v986 ^ v987 )
          goto LABEL_2318;
        v60 = 35.0 >= v3->char_c.field_7DC;
        v3->char_c.field_7DC = v3->char_c.field_7DC + v3->char_c.dash_angle;
        v996 = v3->char_c.dash_angle;
        if ( v60 )
        {
          v3->char_c.dash_angle = v996 + v985;
LABEL_2318:
          v997 = 0.0;
        }
        else
        {
          v998 = v996 - v985;
          v3->char_c.dash_angle = v998;
          v997 = 0.0;
          if ( v998 < 0.0 )
            v3->char_c.dash_angle = 0.0;
        }
        if ( v3->char_c.meta.viz.get_subseq != 3 )
          goto LABEL_2944;
        if ( v3->char_c.meta.viz.get_elaps_frames >= 0 )
        {
          if ( v3->char_c.field_7DC > 35.0 )
          {
            v3->char_c.field_7DC = v3->char_c.field_7DC + v3->char_c.dash_angle;
            v999 = v997;
            v1000 = v3->char_c.dash_angle - v985;
            v1001 = v999;
            v1002 = v1000;
            v3->char_c.dash_angle = v1002;
            if ( v1002 < v999 )
              v3->char_c.dash_angle = v1001;
          }
          else
          {
            v3->char_c.field_7DC = v3->char_c.field_7DC + v3->char_c.dash_angle;
            v3->char_c.dash_angle = v985 + v3->char_c.dash_angle;
          }
        }
        if ( v3->char_c.meta.viz.get_elaps_frames < 120 )
        {
LABEL_2944:
          if ( v3->char_c.meta.viz.get_subseq == 4 && v3->char_c.meta.viz.get_elaps_frames >= 20 )
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        }
        else
        {
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        }
        return;
      case 605:
        if ( v3->char_c.meta.viz.get_subseq == 4 )
          char_c::sub10func(&v3->char_c);
        if ( v3->char_c.meta.viz.get_subseq < 2 )
          char_c::sub_46AB50(&v3->char_c, 5, 2);
        if ( v3->char_c.meta.field_190 == 1 && !v3->char_c.field_7D2 )
        {
          v3->char_c.field_7D2 = 1;
          char_c::play_sfx(&v3->char_c, 14);
        }
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          if ( c_meta::get_border_near(&v3->char_c) && v3->char_c.meta.field_190 != 1 && ((v1003 = v3->char_c.meta.cEffectSprite.dir, v1003 == 1) && v3->char_c.meta.cEffectSprite.x > 640.0 || v1003 == -1 && v3->char_c.meta.cEffectSprite.x < 640.0) || !v3->char_c.meta.field_194 && v3->char_c.meta.field_190 == 2 )
          {
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v3->char_c.meta.cEffectSprite.h_inerc = -2.5;
            v3->char_c.meta.cEffectSprite.v_inerc = 15.0;
            v3->char_c.meta.cEffectSprite.v_force = 0.5;
          }
          *(float *)&v1598 = (double)(MT_getnext() % 0x3Cu) - 30.0;
          v1599 = (double)(MT_getnext() % 0xAu + 15);
          v1600 = 2.0;
          v1004 = v3->char_c.meta.cEffectSprite.dir;
          v1005 = v3->char_c.meta.cEffectSprite.y + 95.0;
          v1006 = v1005;
          v1007 = v3->char_c.meta.cEffectSprite.x - (double)(90 * v1004);
          addbullet(&v3->char_c, 810, v1007, v1006, (unsigned __int8)-v1004, 1, (int)&v1598, 3);
        }
        v1008 = v3->char_c.meta.viz.get_subseq;
        if ( v1008 == 2 || v1008 == 3 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            char_c::reset_forces(&v3->char_c);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 4);
            return;
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 2 )
        {
          char_c::sub_4834E0(&v3->char_c, 40);
          scene_play_sfx(23);
          char_c::sub_469450(&v3->char_c, 0, 0, 60);
          char_c::sub_483570(&v3->char_c);
          weather_forecast_next();
          v1009 = v3->char_c.meta.cEffectSprite.y + 70.0;
          v1010 = v1009;
          v1011 = v3->char_c.meta.cEffectSprite.x - 0.0;
          scene_add_effect(&v3->char_c, 115, v1011, v1010, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
        }
        if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame )
          goto LABEL_2366;
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          v3->char_c.meta.field_194 = 20;
          v3->char_c.meta.cEffectSprite.h_inerc = 30.0;
          char_c::play_sfx(&v3->char_c, 13);
          *(float *)&v1604 = 0.0;
          v1605 = 0.0;
          v1606 = 0.0;
          addbullet(&v3->char_c, 855, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1, (int)&v1604, 3);
          if ( (unsigned __int8)char_c::char_on_ground_flag(&v3->char_c) )
            scene_add_effect(&v3->char_c, 127, v3->char_c.meta.cEffectSprite.x, 0.0, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
LABEL_2366:
          if ( v3->char_c.meta.viz.get_subseq == 1 && !v3->char_c.meta.viz.get_frame_time )
          {
            v60 = v3->char_c.meta.field_190 == 0;
            v3->char_c.meta.field_190 = 0;
            if ( v60 )
              v3->char_c.meta.cEffectSprite.h_inerc = 25.0;
            else
              v3->char_c.meta.cEffectSprite.h_inerc = 10.0;
          }
        }
        return;
      case 606:
        v1012 = v3->char_c.meta.viz.get_subseq;
        if ( !v1012 || v1012 == 4 )
          char_c::sub10func(&v3->char_c);
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          if ( v3->char_c.meta.viz.get_elaps_frames > 40 )
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 3) )
          {
            *(float *)&v1610 = (double)(MT_getnext() % 0x3Cu) + 95.0 - 30.0;
            v1611 = 15.0;
            v1612 = (double)(MT_getnext() & 3);
            v1013 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1014 = v3->char_c.meta.cEffectSprite.y + 51.0;
            v1015 = v1014;
            v1016 = (double)(40 * (char)v1013) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 810, v1016, v1015, v1013, 1, (int)&v1610, 3);
          }
          if ( v3->char_c.meta.field_190 )
          {
            if ( ++v3->char_c.field_7D0 > 3 )
            {
              v3->char_c.field_7D0 = 0;
              v3->char_c.meta.field_190 = 0;
            }
          }
        }
        v1017 = v3->char_c.meta.viz.get_subseq;
        if ( v1017 > 0 && v1017 < 4 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - 0.8500000238418579;
          v1018 = v3->char_c.meta.cEffectSprite.h_inerc - 0.3499999940395355;
          v3->char_c.meta.cEffectSprite.h_inerc = v1018;
          if ( v1018 < 0.0 )
            v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 3 )
        {
          char_c::sub_4834E0(&v3->char_c, 40);
          scene_play_sfx(23);
          char_c::sub_469450(&v3->char_c, 0, 0, 60);
          char_c::sub_483570(&v3->char_c);
          weather_forecast_next();
          v1019 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1020 = v3->char_c.meta.cEffectSprite.y + 81.0;
          v1021 = v1020;
          v1022 = (double)(66 * (char)v1019) + v3->char_c.meta.cEffectSprite.x;
          scene_add_effect(&v3->char_c, 115, v1022, v1021, v1019, 1);
        }
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          *(float *)&v1616 = -80.0;
          v1617 = 0.0;
          v1618 = 2.0;
          v1023 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1024 = v3->char_c.meta.cEffectSprite.y + 232.0;
          v1025 = v1024;
          v1026 = (double)(61 * (char)v1023) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 849, v1026, v1025, v1023, 1, (int)&v1616, 3);
          scene_add_effect(&v3->char_c, 127, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1);
          char_c::play_sfx(&v3->char_c, 15);
          v3->char_c.meta.cEffectSprite.h_inerc = 15.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 32.5;
          v3->char_c.meta.cEffectSprite.v_force = 0.60000002;
        }
        return;
      case 607:
        if ( v3->char_c.meta.viz.get_subseq == 4 )
          char_c::sub10func(&v3->char_c);
        if ( v3->char_c.meta.viz.get_subseq < 3 )
          char_c::sub_46AB50(&v3->char_c, 5, 2);
        if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.viz.get_elaps_frames > 60 )
        {
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
          char_c::play_sfx(&v3->char_c, 16);
          *(float *)&v1502 = 0.0;
          v1503 = 0.0;
          v1504 = 3.0;
          v1027 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1028 = v3->char_c.meta.cEffectSprite.y + 275.0;
          v1029 = v1028;
          v1030 = v3->char_c.meta.cEffectSprite.x - (double)(200 * (char)v1027);
          addbullet(&v3->char_c, 857, v1030, v1029, v1027, 1, (int)&v1502, 3);
          v1504 = 4.0;
          v1031 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1032 = v3->char_c.meta.cEffectSprite.y + 275.0;
          v1033 = v1032;
          v1034 = v3->char_c.meta.cEffectSprite.x - (double)(200 * (char)v1031);
          addbullet(&v3->char_c, 857, v1034, v1033, v1031, 1, (int)&v1502, 3);
        }
        if ( v3->char_c.meta.viz.get_subseq == 2 && v3->char_c.field_7D0 == 1 )
        {
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
          char_c::reset_forces(&v3->char_c);
          v3->char_c.meta.cEffectSprite.v_force = 0.5;
          v3->char_c.meta.cEffectSprite.y = 1600.0;
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - 0.5;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          *(float *)&v1622 = 0.0;
          v1623 = 0.0;
          v1624 = 1.0;
          addbullet(&v3->char_c, 857, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1, (int)&v1622, 3);
          char_c::sub_4834E0(&v3->char_c, 40);
          scene_play_sfx(23);
          char_c::sub_469450(&v3->char_c, 0, 0, 60);
          char_c::sub_483570(&v3->char_c);
          weather_forecast_next();
          v1035 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1036 = v3->char_c.meta.cEffectSprite.y + 81.0;
          v1037 = v1036;
          v1038 = (double)(66 * (char)v1035) + v3->char_c.meta.cEffectSprite.x;
          scene_add_effect(&v3->char_c, 115, v1038, v1037, v1035, 1);
          v3->char_c.meta.cEffectSprite.h_inerc = -30.0;
        }
        return;
      case 608:
        char_c::sub10func(&v3->char_c);
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        v1039 = v3->char_c.meta.viz.get_subseq;
        if ( v1039 < 5 )
        {
          v1040 = v3->char_c.field_7D0;
          if ( v1040 > 0 )
          {
            if ( v1039 <= 3 && v1040 % 4 == 1 )
            {
              char_c::play_sfx(&v3->char_c, 19);
              *(float *)&v1752 = sinus(v3->char_c.field_7DC) * 20.0;
              v1753 = 10.0;
              v1754 = (double)(unsigned int)get_MT_range(4);
              v1755 = 0.0;
              v1041 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v1042 = v3->char_c.meta.cEffectSprite.y + 87.0;
              v1043 = v1042;
              v1044 = (double)(25 * (char)v1041) + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 858, v1044, v1043, v1041, 1, (int)&v1752, 4);
            }
            ++v3->char_c.field_7D0;
            v1045 = (double)(30 - 60 * (v3->char_c.field_7DC < 0.0)) + v3->char_c.field_7DC;
            v3->char_c.field_7DC = -v1045;
          }
        }
        v1046 = v3->char_c.meta.viz.get_subseq;
        v1047 = 1;
        if ( v1046 == 1 && v3->char_c.meta.viz.get_elaps_frames > 40 || v1046 == 3 && v3->char_c.meta.viz.get_elaps_frames > 40 )
          goto LABEL_1127;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_elaps_frames )
          goto LABEL_2441;
        if ( v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame || v3->char_c.meta.viz.get_subseq != 5 )
        {
          if ( !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          {
            char_c::sub_4834E0(&v3->char_c, 40);
            scene_play_sfx(23);
            v1048 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1049 = v3->char_c.meta.cEffectSprite.y + 94.0;
            v1050 = v1049;
            v1051 = v3->char_c.meta.cEffectSprite.x - (double)(23 * (char)v1048);
            scene_add_effect(&v3->char_c, 115, v1051, v1050, v1048, 1);
            char_c::sub_469450(&v3->char_c, 0, 0, 60);
            char_c::sub_483570(&v3->char_c);
            weather_forecast_next();
          }
LABEL_2441:
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 6 )
          {
            char_c::sub_4834E0(&v3->char_c, 40);
            scene_play_sfx(23);
            v1052 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1053 = v3->char_c.meta.cEffectSprite.y + 106.0;
            v1054 = v1053;
            v1055 = v3->char_c.meta.cEffectSprite.x - (double)(25 * (char)v1052);
            scene_add_effect(&v3->char_c, 115, v1055, v1054, v1052, 1);
            char_c::sub_469450(&v3->char_c, 0, 0, 60);
            char_c::sub_483570(&v3->char_c);
            weather_forecast_next();
          }
          if ( v3->char_c.meta.viz.get_subseq == 2 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
            v3->char_c.field_7D0 = 1;
          if ( v3->char_c.meta.viz.get_subseq == 7 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
LABEL_2453:
            v3->char_c.field_7D0 = v1047;
        }
        else
        {
LABEL_145:
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        }
        return;
      case 609:
        char_c::sub10func(&v3->char_c);
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          char_c::sub_4834E0(&v3->char_c, 40);
          scene_play_sfx(23);
          v1067 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1068 = v3->char_c.meta.current_frame_params;
          v1069 = v3->char_c.meta.cEffectSprite.y - (double)v1068->extra_24byte[5];
          v1070 = v1069;
          v1071 = (double)(v1068->extra_24byte[4] * (char)v1067) + v3->char_c.meta.cEffectSprite.x;
          scene_add_effect(&v3->char_c, 115, v1071, v1070, v1067, 1);
          char_c::sub_469450(&v3->char_c, 0, 0, 60);
          char_c::sub_483570(&v3->char_c);
          weather_forecast_next();
        }
        if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 4 )
        {
          char_c::play_sfx(&v3->char_c, 20);
          *(float *)&v1438 = -90.0;
          v1439 = 60.0;
          v1440 = 5.0;
          v1072 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1073 = v3->char_c.meta.current_frame_params;
          v1074 = v3->char_c.meta.cEffectSprite.y - (double)v1073->extra_24byte[5];
          v1075 = v1074;
          v1076 = (double)(v1073->extra_24byte[4] * (char)v1072) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 859, v1076, v1075, v1072, 1, (int)&v1438, 3);
          v1077 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1078 = (double)(200 * (char)v1077) + v3->char_c.meta.cEffectSprite.x;
          scene_add_effect(&v3->char_c, 127, v1078, v3->char_c.meta.cEffectSprite.y, v1077, -1);
          v1079 = v3->char_c.meta.cEffectSprite.dir;
          v1080 = v3->char_c.meta.cEffectSprite.x - (double)(200 * v1079);
          scene_add_effect(&v3->char_c, 127, v1080, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)-v1079, -1);
          v1414 = 0.0;
          do
          {
            *(float *)&v1438 = (double)(unsigned int)get_MT_range(10) + v1414 * 20.0;
            v1439 = (double)(unsigned int)get_MT_range(75) * 0.1000000014901161 + 15.0;
            v1440 = 8.0;
            v1081 = -*(float *)&v1438;
            v1082 = sinus(v1081) > 0.0;
            v1083 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1084 = (double)(v3->char_c.meta.current_frame_params->extra_24byte[4] * (char)v1083) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 859, v1084, v3->char_c.meta.cEffectSprite.y, v1083, (unsigned __int8)(1 - 2 * v1082), (int)&v1438, 3);
            v1414 = v1414 + 1.0;
          }
          while ( v1414 < 18.0 );
        }
        return;
      case 610:
        char_c::sub10func(&v3->char_c);
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          *(float *)&v1768 = (double)(6 * (v3->char_c.field_7D0 + 15 * v3->char_c.field_7D2));
          v1769 = 10.0;
          v1770 = (double)(v3->char_c.field_7D2 % 4);
          v1771 = 0.0;
          v1085 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1086 = v3->char_c.meta.cEffectSprite.y + 185.0;
          v1087 = v1086;
          v1088 = (double)(28 * (char)v1085) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 861, v1088, v1087, v1085, 1, (int)&v1768, 4);
          ++v3->char_c.field_7D2;
          ++v3->char_c.field_7D0;
          if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.viz.get_elaps_frames > 60 )
            goto LABEL_1106;
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 5 )
          goto LABEL_2928;
        if ( !v3->char_c.meta.viz.get_subseq && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::sub_4834E0(&v3->char_c, 40);
          scene_play_sfx(23);
          v1089 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1090 = v3->char_c.meta.cEffectSprite.y + 80.0;
          v1091 = v1090;
          v1092 = v3->char_c.meta.cEffectSprite.x - (double)(20 * (char)v1089);
          scene_add_effect(&v3->char_c, 115, v1092, v1091, v1089, 1);
          char_c::sub_469450(&v3->char_c, 0, 0, 60);
          char_c::sub_483570(&v3->char_c);
        }
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 6 )
        {
          char_c::sub_4834E0(&v3->char_c, 40);
          scene_play_sfx(23);
          v1093 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1094 = v3->char_c.meta.cEffectSprite.y + 106.0;
          v1095 = v1094;
          v1096 = v3->char_c.meta.cEffectSprite.x - (double)(25 * (char)v1093);
          scene_add_effect(&v3->char_c, 115, v1096, v1095, v1093, 1);
          char_c::sub_469450(&v3->char_c, 0, 0, 60);
          char_c::sub_483570(&v3->char_c);
          weather_forecast_next();
        }
        if ( !v3->char_c.meta.viz.get_subseq && v3->char_c.meta.viz.get_frame == 5 && !v3->char_c.meta.viz.get_frame_time )
        {
          v3->char_c.field_7D0 = 1;
          *(float *)&v1511 = 0.0;
          v1512 = 0.0;
          v1513 = 4.0;
          v1514 = 0.0;
          v1097 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1098 = v3->char_c.meta.cEffectSprite.y + 185.0;
          v1099 = v1098;
          v1100 = (double)(28 * (char)v1097) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 861, v1100, v1099, v1097, 1, (int)&v1511, 4);
          v1513 = 5.0;
          v1514 = 0.0;
          v1101 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1102 = v3->char_c.meta.cEffectSprite.y + 185.0;
          v1103 = v1102;
          v1104 = (double)(28 * (char)v1101) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 861, v1104, v1103, v1101, 1, (int)&v1511, 4);
        }
        if ( v3->char_c.meta.viz.get_subseq == 7 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
          v3->char_c.field_7D0 = 1;
        return;
      case 611:
        if ( v3->char_c.meta.viz.get_subseq == 3 )
          char_c::sub10func(&v3->char_c);
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        v1105 = v3->char_c.meta.viz.get_subseq;
        if ( v1105 == 1 || v1105 == 2 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          v1106 = v3->char_c.meta.cEffectSprite.h_inerc + 0.75;
          v3->char_c.meta.cEffectSprite.h_inerc = v1106;
          if ( v1106 > -1.0 )
            v3->char_c.meta.cEffectSprite.h_inerc = -1.0;
          if ( v3->char_c.meta.cEffectSprite.h_inerc > 0.0 )
            v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 3);
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 9 )
        {
          char_c::sub_4834E0(&v3->char_c, 40);
          scene_play_sfx(23);
          v1107 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1108 = v3->char_c.meta.cEffectSprite.y + 94.0;
          v1109 = v1108;
          v1110 = v3->char_c.meta.cEffectSprite.x - (double)(23 * (char)v1107);
          scene_add_effect(&v3->char_c, 115, v1110, v1109, v1107, 1);
          char_c::sub_469450(&v3->char_c, 0, 0, 60);
          char_c::sub_483570(&v3->char_c);
          weather_forecast_next();
        }
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          char_c::play_sfx(&v3->char_c, 20);
          char_c::sub_486FD0(&v3->char_c, 20.0, -20.0);
          v1776 = SLODWORD(v3->char_c.field_7F0);
          v1777 = 25.0;
          v1778 = 0.0;
          v1779 = 0.0;
          v3->char_c.meta.cEffectSprite.h_inerc = -25.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 10.0;
          v3->char_c.meta.cEffectSprite.v_force = 0.5;
          v1111 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1112 = v3->char_c.meta.cEffectSprite.y + 95.0;
          v1113 = v1112;
          v1114 = (double)(73 * (char)v1111) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 861, v1114, v1113, v1111, 1, (int)&v1776, 4);
          v1115 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1116 = (double)(200 * (char)v1115) + v3->char_c.meta.cEffectSprite.x;
          scene_add_effect(&v3->char_c, 127, v1116, v3->char_c.meta.cEffectSprite.y, v1115, -1);
        }
        return;
      case 612:
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        char_c::sub10func(&v3->char_c);
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 2 )
        {
          char_c::play_sfx(&v3->char_c, 36);
          v1630 = 0.0;
          v1415 = 0.0;
          do
          {
            *(float *)&v1628 = (double)(unsigned int)get_MT_range(20) * 0.1000000014901161 + 2.0 + 4.5 * v1415;
            v1629 = v1415 * 1.5 + 3.0;
            v1117 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1118 = v3->char_c.meta.current_frame_params;
            v1119 = v3->char_c.meta.cEffectSprite.y - (double)v1118->extra_24byte[5];
            v1120 = v1119;
            v1121 = (double)(v1118->extra_24byte[4] * (char)v1117) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 862, v1121, v1120, v1117, 1, (int)&v1628, 4);
            v1415 = v1415 + 1.0;
          }
          while ( v1415 < 5.0 );
        }
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          char_c::sub_4834E0(&v3->char_c, 40);
          scene_play_sfx(23);
          v1122 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1123 = v3->char_c.meta.current_frame_params;
          v1124 = v3->char_c.meta.cEffectSprite.y - (double)v1123->extra_24byte[5];
          v1125 = v1124;
          v1126 = (double)(v1123->extra_24byte[4] * (char)v1122) + v3->char_c.meta.cEffectSprite.x;
          scene_add_effect(&v3->char_c, 115, v1126, v1125, v1122, 1);
          char_c::sub_469450(&v3->char_c, 0, 0, 60);
          char_c::sub_483570(&v3->char_c);
          weather_forecast_next();
        }
        return;
      case 613:
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        v1128 = __OFSUB__(v3->char_c.meta.viz.get_subseq, 2);
        v1127 = (signed __int16)(v3->char_c.meta.viz.get_subseq - 2) < 0;
        if ( v3->char_c.meta.viz.get_subseq == 2 )
        {
          char_c::sub10func(&v3->char_c);
          v1128 = __OFSUB__(v3->char_c.meta.viz.get_subseq, 2);
          v1127 = (signed __int16)(v3->char_c.meta.viz.get_subseq - 2) < 0;
        }
        if ( (unsigned __int8)v1127 ^ v1128 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            char_c::reset_forces(&v3->char_c);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
            goto LABEL_1078;
          }
        }
        if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.viz.get_elaps_frames > 20 )
          goto LABEL_831;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time )
        {
          if ( v3->char_c.meta.viz.get_frame == 3 )
          {
            v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
            v3->char_c.meta.cEffectSprite.v_inerc = 0.0;
            v3->char_c.meta.cEffectSprite.v_force = 0.0;
            char_c::sub_4834E0(&v3->char_c, 40);
            scene_play_sfx(23);
            v1129 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1130 = v3->char_c.meta.cEffectSprite.y + 150.0;
            v1131 = v1130;
            v1132 = v3->char_c.meta.cEffectSprite.x - (double)(46 * (char)v1129);
            scene_add_effect(&v3->char_c, 115, v1132, v1131, v1129, 1);
            char_c::sub_469450(&v3->char_c, 0, 0, 60);
            char_c::sub_483570(&v3->char_c);
            weather_forecast_next();
          }
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 6 )
          {
            char_c::play_sfx(&v3->char_c, 7);
            v3->char_c.meta.cEffectSprite.h_inerc = -4.0;
            v3->char_c.meta.cEffectSprite.v_inerc = 8.0;
            v3->char_c.meta.cEffectSprite.v_force = 0.5;
            *(float *)&v1784 = 0.0;
            v1785 = 0.0;
            v1786 = 1.0;
            v1787 = 0.0;
            v1133 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1134 = v3->char_c.meta.cEffectSprite.y + 62.0;
            v1135 = v1134;
            v1136 = (double)(30 * (char)v1133) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 863, v1136, v1135, v1133, 1, (int)&v1784, 4);
          }
        }
        return;
      case 614:
        char_c::sub10func(&v3->char_c);
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_frame_time )
        {
          if ( v3->char_c.meta.viz.get_frame == 4 )
          {
            char_c::sub_4834E0(&v3->char_c, 40);
            scene_play_sfx(23);
            v1137 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1138 = v3->char_c.meta.current_frame_params;
            v1139 = v3->char_c.meta.cEffectSprite.y - (double)v1138->extra_24byte[5];
            v1140 = v1139;
            v1141 = (double)(v1138->extra_24byte[4] * (char)v1137) + v3->char_c.meta.cEffectSprite.x;
            scene_add_effect(&v3->char_c, 115, v1141, v1140, v1137, 1);
            char_c::sub_469450(&v3->char_c, 0, 0, 60);
            char_c::sub_483570(&v3->char_c);
            weather_forecast_next();
          }
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 7 )
          {
            *(float *)&v1634 = 3.0;
            v1635 = 6.0;
            v1636 = 0.0;
            v1142 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1143 = v3->char_c.meta.current_frame_params;
            v1144 = v3->char_c.meta.cEffectSprite.y - (double)v1143->extra_24byte[5];
            v1145 = v1144;
            v1146 = (double)(v1143->extra_24byte[4] * (char)v1142) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 864, v1146, v1145, v1142, 1, (int)&v1634, 3);
            char_c::play_sfx(&v3->char_c, 36);
          }
        }
        return;
      case 615:
        char_c::sub10func(&v3->char_c);
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time )
        {
          if ( v3->char_c.meta.viz.get_frame == 3 )
          {
            char_c::sub_4834E0(&v3->char_c, 40);
            scene_play_sfx(23);
            v1147 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1148 = v3->char_c.meta.cEffectSprite.y + 83.0;
            v1149 = v1148;
            v1150 = v3->char_c.meta.cEffectSprite.x - (double)(36 * (char)v1147);
            scene_add_effect(&v3->char_c, 115, v1150, v1149, v1147, 1);
            char_c::sub_469450(&v3->char_c, 0, 0, 60);
            char_c::sub_483570(&v3->char_c);
            weather_forecast_next();
          }
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 7 )
          {
            char_c::play_sfx(&v3->char_c, 24);
            v1416 = 0.0;
            v3->field_892 = 600;
            v1151 = (float)0.0;
            v3->field_890 = 0;
            do
            {
              *(float *)&v1432 = 90.0 * v1151;
              v1433 = 0.0;
              v1434 = v1151 + 0.0;
              v1152 = v3->char_c.meta.cEffectSprite.y + 100.0;
              addbullet(&v3->char_c, 865, v3->char_c.meta.cEffectSprite.x, v1152, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1, (int)&v1432, 3);
              v1416 = v1416 + 1.0;
              v1151 = v1416;
            }
            while ( v1416 < 4.0 );
            v1153 = 0;
            v1417 = 0;
            do
            {
              *(float *)&v1432 = (double)(unsigned int)get_MT_range(40) + (double)v1417 + 30.0;
              v1433 = 13.0;
              v1434 = 2.0;
              if ( *(float *)&v1432 < 0.0 || *(float *)&v1432 > 180.0 )
                addbullet(&v3->char_c, 848, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1, (int)&v1432, 3);
              else
                addbullet(&v3->char_c, 848, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1, (int)&v1432, 3);
              v1153 += 45;
              v1417 = v1153;
            }
            while ( v1153 < 360 );
          }
        }
        if ( v3->char_c.meta.viz.get_subseq == 1 && !v3->char_c.meta.viz.get_frame_time )
        {
          if ( v3->char_c.meta.viz.get_frame == 3 )
          {
            char_c::sub_4834E0(&v3->char_c, 40);
            scene_play_sfx(23);
            v1154 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1155 = v3->char_c.meta.cEffectSprite.y + 95.0;
            v1156 = v1155;
            v1157 = (double)(61 * (char)v1154) + v3->char_c.meta.cEffectSprite.x;
            scene_add_effect(&v3->char_c, 115, v1157, v1156, v1154, 1);
            char_c::sub_469450(&v3->char_c, 0, 0, 60);
            char_c::sub_483570(&v3->char_c);
            weather_forecast_next();
          }
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 5 )
          {
            char_c::play_sfx(&v3->char_c, 24);
            v3->field_890 = 50;
            char_c::sub_486FD0(&v3->char_c, 20.0, -20.0);
            v1640 = SLODWORD(v3->char_c.field_7F0);
            v1641 = 15.0;
            v1642 = 22.0;
            v1158 = v3->char_c.meta.cEffectSprite.y + 100.0;
            addbullet(&v3->char_c, 865, v3->char_c.meta.cEffectSprite.x, v1158, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1, (int)&v1640, 3);
            v3->field_8A0 = v3->char_c.meta.cEffectSprite.x;
            v3->field_8A4 = v3->char_c.meta.cEffectSprite.y + 100.0;
          }
        }
        return;
      case 619:
        char_c::sub10func(&v3->char_c);
        char_c::sub_46AB50(&v3->char_c, 5, 2);
        v1159 = v3->char_c.meta.viz.get_subseq;
        if ( v1159 == 1 && v3->char_c.meta.viz.get_elaps_frames >= 45 || v1159 == 4 && v3->char_c.meta.viz.get_elaps_frames >= 90 || v1159 == 5 && v3->char_c.meta.viz.get_elaps_frames >= 40 )
          goto LABEL_1106;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 4 )
        {
          v1160 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1161 = v3->char_c.meta.cEffectSprite.y + 130.0;
          v1162 = v1161;
          v1163 = v3->char_c.meta.cEffectSprite.x - (double)(80 * (char)v1160);
          addbullet(&v3->char_c, 990, v1163, v1162, v1160, 1, 0, 0);
        }
        if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time )
        {
          if ( v3->char_c.meta.viz.get_frame == 3 )
          {
            char_c::sub_4834E0(&v3->char_c, 40);
            scene_play_sfx(23);
            v1164 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1165 = v3->char_c.meta.cEffectSprite.y + 100.0;
            v1166 = v1165;
            v1167 = v3->char_c.meta.cEffectSprite.x - (double)(16 * (char)v1164);
            scene_add_effect(&v3->char_c, 115, v1167, v1166, v1164, 1);
            char_c::sub_469450(&v3->char_c, 0, 0, 60);
            char_c::sub_483570(&v3->char_c);
            weather_forecast_next();
          }
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 5 )
          {
            *(float *)&v1646 = 0.0;
            v1647 = 0.0;
            v1648 = 11.0;
            v1168 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1169 = v3->char_c.meta.cEffectSprite.y + 105.0;
            v1170 = v1169;
            v1171 = (double)(100 * (char)v1168) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 869, v1171, v1170, v1168, 1, (int)&v1646, 3);
            char_c::play_sfx(&v3->char_c, 10);
            ++v3->char_c.field_7D2;
          }
        }
        return;
      case 658:
        if ( v3->char_c.meta.viz.get_subseq == 5 )
          char_c::sub10func(&v3->char_c);
        else
          char_c::sub_46AB50(&v3->char_c, 5, 2);
        v1056 = v3->char_c.field_7D0;
        if ( v1056 > 0 )
        {
          if ( v3->char_c.meta.viz.get_subseq <= 3 && v1056 % 4 == 1 )
          {
            char_c::play_sfx(&v3->char_c, 19);
            *(float *)&v1760 = sinus(v3->char_c.field_7DC) * 20.0;
            v1761 = 10.0;
            v1762 = (double)(unsigned int)get_MT_range(4);
            v1763 = 0.0;
            v1057 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1058 = v3->char_c.meta.cEffectSprite.y + 107.0;
            v1059 = v1058;
            v1060 = (double)(25 * (char)v1057) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 858, v1060, v1059, v1057, 1, (int)&v1760, 4);
          }
          v1061 = (double)(30 - 60 * (v3->char_c.field_7DC < 0.0)) + v3->char_c.field_7DC;
          v3->char_c.field_7DC = -v1061;
          ++v3->char_c.field_7D0;
        }
        v1062 = v3->char_c.meta.viz.get_subseq;
        if ( v1062 == 1 && v3->char_c.meta.viz.get_elaps_frames > 40 || v1062 == 3 && v3->char_c.meta.viz.get_elaps_frames > 40 )
          goto LABEL_1127;
        if ( v1062 == 4 && (v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force, (unsigned __int8)char_c::char_on_ground_down(&v3->char_c)) )
        {
          v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 5);
LABEL_1077:
          char_c::reset_forces(&v3->char_c);
LABEL_1078:
          v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
        }
        else
        {
          if ( viz_process(&v3->char_c) )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
          if ( !v3->char_c.meta.viz.get_elaps_frames )
          {
            if ( !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 5 )
            {
LABEL_831:
              v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 9);
              return;
            }
            if ( !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
            {
              char_c::sub_4834E0(&v3->char_c, 40);
              scene_play_sfx(23);
              v1063 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v1064 = v3->char_c.meta.cEffectSprite.y + 106.0;
              v1065 = v1064;
              v1066 = v3->char_c.meta.cEffectSprite.x - (double)(23 * (char)v1063);
              scene_add_effect(&v3->char_c, 115, v1066, v1065, v1063, 1);
              char_c::sub_469450(&v3->char_c, 0, 0, 60);
              char_c::sub_483570(&v3->char_c);
              weather_forecast_next();
            }
          }
          if ( v3->char_c.meta.viz.get_subseq == 2 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
            v3->char_c.field_7D0 = 1;
          if ( v3->char_c.meta.viz.get_subseq == 4 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 5 )
            v3->char_c.meta.cEffectSprite.v_force = 0.30000001;
        }
        return;
      case 695:
        char_c::sub10func(&v3->char_c);
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 4 )
        {
          scene_play_sfx(55);
          v1172 = v3->char_c.meta.cEffectSprite.y + 100.0;
          scene_add_effect(&v3->char_c, 140, v3->char_c.meta.cEffectSprite.x, v1172, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
          v1173 = v3->char_c.meta.cEffectSprite.y + 100.0;
          scene_add_effect(&v3->char_c, 140, v3->char_c.meta.cEffectSprite.x, v1173, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
          v1174 = v3->char_c.meta.cEffectSprite.y + 100.0;
          scene_add_effect(&v3->char_c, 140, v3->char_c.meta.cEffectSprite.x, v1174, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
          v1175 = v3->char_c.meta.cEffectSprite.y + 100.0;
          scene_add_effect(&v3->char_c, 141, v3->char_c.meta.cEffectSprite.x, v1175, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1);
          scene_add_effect(&v3->char_c, 142, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, -1);
        }
        return;
      case 696:
        char_c::sub10func(&v3->char_c);
        if ( v3->char_c.meta.viz.get_frame > 5 )
        {
          v1176 = v3->char_c.meta.cEffectSprite.h_inerc - 3.0;
          v3->char_c.meta.cEffectSprite.h_inerc = v1176;
          if ( v1176 < 0.0 )
            v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_frame_time )
        {
          if ( v3->char_c.meta.viz.get_frame == 4 )
          {
            v3->char_c.meta.cEffectSprite.h_inerc = 15.0;
            v1652 = 0.0;
            v1653 = 0.0;
            v1654 = 0.0;
            addbullet(&v3->char_c, 848, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1, (int)&v1652, 3);
          }
LABEL_903:
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 5 )
          {
            scene_play_sfx(29);
            v3->char_c.field_49A = 0;
          }
        }
        return;
      case 707:
        char_c::sub10func(&v3->char_c);
        if ( v3->char_c.meta.cEffectSprite.h_inerc > 12.0 )
        {
          v1177 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v3->char_c.meta.cEffectSprite.h_inerc = v1177;
          if ( v1177 < 12.0 )
            v3->char_c.meta.cEffectSprite.h_inerc = 12.0;
        }
        if ( viz_process(&v3->char_c) )
        {
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 700);
          return;
        }
        if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 3 )
        {
          v3->char_c.meta.cEffectSprite.h_inerc = 15.0;
          v1178 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1179 = v3->char_c.meta.cEffectSprite.y + 80.0;
          v1180 = v1179;
          v1181 = (double)(80 * (char)v1178) + v3->char_c.meta.cEffectSprite.x;
          scene_add_effect(&v3->char_c, 125, v1181, v1180, v1178, 1);
          v1182 = v3->char_c.meta.cEffectSprite.y + 80.0;
          scene_add_effect(&v3->char_c, 126, v3->char_c.meta.cEffectSprite.x, v1182, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
          scene_play_sfx(31);
        }
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v1183 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1184 = v3->char_c.meta.cEffectSprite.x + 50.0;
            v1185 = (double)(MT_getnext() % 0xC8u) + v3->char_c.meta.cEffectSprite.y;
            v1186 = v1185;
            v1187 = v1184 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v3->char_c, 124, v1187, v1186, v1183, 1);
          }
          if ( v3->char_c.meta.viz.get_elaps_frames > 30 )
            goto LABEL_1106;
        }
        if ( v3->char_c.meta.viz.get_subseq == 2 )
        {
LABEL_693:
          v232 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
          v3->char_c.meta.cEffectSprite.h_inerc = v232;
          if ( v232 < 0.0 )
            v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
        }
        return;
      case 708:
        v1188 = v3->char_c.meta.viz.get_subseq;
        if ( !v1188 || v1188 == 2 )
        {
          char_c::sub10func(&v3->char_c);
          v1 = 0.0;
        }
        if ( v3->char_c.meta.viz.get_subseq == 2 )
        {
          v1189 = v3->char_c.meta.cEffectSprite.h_inerc + 2.0;
          v3->char_c.meta.cEffectSprite.h_inerc = v1189;
          if ( v1189 > v1 )
            v3->char_c.meta.cEffectSprite.h_inerc = v1;
        }
        if ( !(unsigned __int8)char_c::char_on_ground_flag(&v3->char_c) )
        {
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 5) )
          {
            v1190 = v3->char_c.meta.cEffectSprite.x + 50.0;
            v1191 = (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir;
            v1192 = (double)(MT_getnext() % 0xC8u) + v3->char_c.meta.cEffectSprite.y;
            v1193 = v1192;
            v1194 = v1190 - (double)(MT_getnext() % 0x64u);
            scene_add_effect(&v3->char_c, 124, v1194, v1193, v1191, 1);
          }
          v1195 = v3->char_c.meta.cEffectSprite.v_inerc - 0.5;
          v3->char_c.meta.cEffectSprite.v_inerc = v1195;
          v1196 = v1195 + v3->char_c.meta.cEffectSprite.y;
          if ( c_meta::getlvl_height(&v3->char_c) >= v1196 && v3->char_c.meta.cEffectSprite.v_inerc < 0.0 )
          {
            v3->char_c.meta.cEffectSprite.v_inerc = 0.0;
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
            return;
          }
        }
        if ( viz_process(&v3->char_c) )
          goto LABEL_2911;
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          v3->char_c.meta.cEffectSprite.h_inerc = -14.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 4.0;
          v1197 = v3->char_c.meta.cEffectSprite.y + 80.0;
          scene_add_effect(&v3->char_c, 125, v3->char_c.meta.cEffectSprite.x, v1197, (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir, 1);
          v1198 = v3->char_c.meta.cEffectSprite.y + 80.0;
          scene_add_effect(&v3->char_c, 126, v3->char_c.meta.cEffectSprite.x, v1198, (unsigned __int8)-v3->char_c.meta.cEffectSprite.dir, 1);
          scene_play_sfx(31);
        }
        return;
      case 710:
        char_c::sub10func(&v3->char_c);
        if ( !v3->char_c.meta.viz.get_subseq && !(v3->char_c.meta.viz.get_elaps_frames % 10) )
        {
          *(float *)&v1456 = (double)(unsigned int)get_MT_range(360);
          v1457 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1458 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1199 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1200 = -*(float *)&v1456;
          v1201 = sinus(v1200);
          v1202 = v1201 * v1457 + v3->char_c.meta.cEffectSprite.y - (double)v3->char_c.meta.current_frame_params->extra_24byte[5];
          v1203 = v1202;
          v1204 = -*(float *)&v1456;
          v1205 = cosinus(v1204);
          v1206 = (v1205 * v1457 + (double)v3->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 970, v1206, v1203, v1199, 1, (int)&v1456, 3);
        }
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 10) && v3->char_c.meta.viz.get_elaps_frames <= v3->char_c.field_7D0 - 30 )
          {
            *(float *)&v1468 = (double)(unsigned int)get_MT_range(360);
            v1469 = (double)(unsigned int)get_MT_range(400) + 200.0;
            v1470 = (double)(unsigned int)get_MT_range(8);
            v1207 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1208 = -*(float *)&v1468;
            v1209 = sinus(v1208);
            v1210 = v1209 * v1469 + v3->char_c.meta.cEffectSprite.y - (double)v3->char_c.meta.current_frame_params->extra_24byte[5];
            v1211 = v1210;
            v1212 = -*(float *)&v1468;
            v1213 = cosinus(v1212);
            v1214 = (v1213 * v1469 + (double)v3->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 970, v1214, v1211, v1207, 1, (int)&v1468, 3);
          }
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 3) && v3->char_c.meta.viz.get_elaps_frames <= v3->char_c.field_7D2 )
          {
            a4 = v3->char_c.field_7E8;
            v1493 = (double)(unsigned int)get_MT_range(25) + 100.0;
            v1494 = (double)(unsigned int)get_MT_range(4);
            v1495 = (double)(unsigned int)get_MT_range(v3->char_c.field_7D4) * 0.1000000014901161 + v3->char_c.field_7E4;
            v1215 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1216 = -a4;
            v1217 = sinus(v1216);
            v1218 = v1217 * v1493 + v3->char_c.meta.cEffectSprite.y - (double)v3->char_c.meta.current_frame_params->extra_24byte[5];
            v1219 = v1218;
            v1220 = -a4;
            v1221 = cosinus(v1220);
            v1222 = (v1221 * v1493 + (double)v3->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 900, v1222, v1219, v1215, 1, (int)&a4, 4);
            v3->char_c.field_7E8 = v3->char_c.field_7E8 - 23.0;
          }
          if ( v3->char_c.meta.viz.get_elaps_frames >= v3->char_c.field_7D0 )
            goto LABEL_2793;
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 && v3->char_c.meta.viz.get_elaps_frames > v3->char_c.field_7D0 )
          goto LABEL_1106;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames )
        {
          if ( !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          {
            switch ( GAME_HARDNESS )
            {
              case 0:
                v1223 = 1.5;
                v3->char_c.field_7D0 = 300;
                v3->char_c.field_7D2 = 120;
                v3->char_c.field_7D4 = 10;
                goto LABEL_2702;
              case 1:
                v1223 = 1.0;
                v3->char_c.field_7D0 = 300;
                v3->char_c.field_7D2 = 240;
                v3->char_c.field_7D4 = 20;
                goto LABEL_2702;
              case 2:
                v1223 = 0.5;
                v3->char_c.field_7D0 = 300;
                v3->char_c.field_7D2 = 270;
                v3->char_c.field_7D4 = 30;
                goto LABEL_2702;
              case 3:
                v1223 = 0.25;
                v3->char_c.field_7D0 = 300;
                v3->char_c.field_7D2 = 290;
                v3->char_c.field_7D4 = 45;
LABEL_2702:
                v3->char_c.field_7E4 = v1223;
                v3->char_c.field_7E8 = 0.0;
                break;
              default:
                break;
            }
          }
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 3 )
          {
            char_c::play_sfx(&v3->char_c, 21);
            switch ( GAME_HARDNESS )
            {
              case 0:
              case 1:
                v3->char_c.field_7D0 = 150;
                return;
              case 2:
                goto LABEL_2739;
              case 3:
                goto LABEL_2708;
              default:
                return;
            }
          }
        }
        return;
      case 720:
        char_c::sub10func(&v3->char_c);
        if ( !v3->char_c.meta.viz.get_subseq && !(v3->char_c.meta.viz.get_elaps_frames % 10) )
        {
          *(float *)&v1444 = (double)(unsigned int)get_MT_range(360);
          v1445 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1446 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1224 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1225 = -*(float *)&v1444;
          v1226 = sinus(v1225);
          v1227 = v1226 * v1445 + v3->char_c.meta.cEffectSprite.y - (double)v3->char_c.meta.current_frame_params->extra_24byte[5];
          v1228 = v1227;
          v1229 = -*(float *)&v1444;
          v1230 = cosinus(v1229);
          v1231 = (v1230 * v1445 + (double)v3->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 970, v1231, v1228, v1224, 1, (int)&v1444, 3);
        }
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 2) && v3->char_c.meta.viz.get_elaps_frames <= v3->char_c.field_7D0 - 30 )
          {
            *(float *)&v1447 = (double)(unsigned int)get_MT_range(360);
            v1448 = (double)(unsigned int)get_MT_range(400) + 200.0;
            v1449 = (double)(unsigned int)get_MT_range(8);
            v1232 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1233 = -*(float *)&v1447;
            v1234 = sinus(v1233);
            v1235 = v1234 * v1448 + v3->char_c.meta.cEffectSprite.y - (double)v3->char_c.meta.current_frame_params->extra_24byte[5];
            v1236 = v1235;
            v1237 = -*(float *)&v1447;
            v1238 = cosinus(v1237);
            v1239 = (v1238 * v1448 + (double)v3->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 970, v1239, v1236, v1232, 1, (int)&v1447, 3);
          }
          if ( v3->char_c.meta.viz.get_elaps_frames >= v3->char_c.field_7D0 )
            goto LABEL_2793;
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 && v3->char_c.meta.viz.get_elaps_frames > v3->char_c.field_7D0 )
          goto LABEL_1106;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        v1047 = 150;
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          switch ( GAME_HARDNESS )
          {
            case 0:
              v3->char_c.field_7D0 = 180;
              v3->char_c.field_7DC = 3.0;
              v3->char_c.dash_angle = 45.0;
              break;
            case 1:
              v3->char_c.field_7D0 = 150;
              v3->char_c.field_7DC = 3.0;
              v3->char_c.dash_angle = 45.0;
              break;
            case 2:
              v1240 = 4.0;
              goto LABEL_2728;
            case 3:
              v1240 = 5.0;
LABEL_2728:
              v3->char_c.field_7D0 = 120;
              v3->char_c.field_7DC = v1240;
              v3->char_c.dash_angle = 40.0;
              break;
            default:
              break;
          }
        }
        if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 2 )
        {
          char_c::play_sfx(&v3->char_c, 29);
          char_c::sub_486FD0(&v3->char_c, 45.0, -45.0);
          v1418 = 0.0;
          if ( v3->char_c.field_7DC > 0.0 )
          {
            v1241 = 1.0;
            v1242 = v1418;
            do
            {
              a1a = v1242 * v3->char_c.dash_angle - (v3->char_c.field_7DC - v1241) * v3->char_c.dash_angle * 0.5 + v3->char_c.field_7F0;
              v1509 = (double)(unsigned int)get_MT_range(20) * 0.1000000014901161 + 8.0;
              v1510 = 0.0;
              v1243 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v1244 = -a1a;
              v1245 = sinus(v1244) * 50.0 + v3->char_c.meta.cEffectSprite.y - (double)v3->char_c.meta.current_frame_params->extra_24byte[5];
              v1246 = v1245;
              v1247 = -a1a;
              v1248 = (cosinus(v1247) * 50.0 + (double)v3->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 910, v1248, v1246, v1243, 1, (int)&a1a, 3);
              v1241 = 1.0;
              v1418 = v1418 + 1.0;
              v1242 = v1418;
            }
            while ( v3->char_c.field_7DC > (double)v1418 );
          }
          switch ( GAME_HARDNESS )
          {
            case 0:
            case 1:
              goto LABEL_2453;
            case 2:
              goto LABEL_2739;
            case 3:
              goto LABEL_2708;
            default:
              return;
          }
        }
        return;
      case 721:
        v1249 = v3->char_c.meta.viz.get_subseq;
        if ( v1249 && v1249 != 8 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 8);
            char_c::reset_forces(&v3->char_c);
            return;
          }
        }
        else
        {
          char_c::sub10func(&v3->char_c);
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          v3->char_c.meta.cEffectSprite.h_inerc = v3->char_c.meta.cEffectSprite.h_inerc * 0.9800000190734863;
          v3->char_c.meta.cEffectSprite.v_inerc = 0.9800000190734863 * v3->char_c.meta.cEffectSprite.v_inerc;
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 2) && v3->char_c.meta.viz.get_elaps_frames <= v3->char_c.field_7D0 - 30 )
          {
            *(float *)&v1453 = (double)(unsigned int)get_MT_range(360);
            v1454 = (double)(unsigned int)get_MT_range(400) + 200.0;
            v1455 = (double)(unsigned int)get_MT_range(8);
            v1250 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1251 = -*(float *)&v1453;
            v1252 = sinus(v1251);
            v1253 = v1252 * v1454 + v3->char_c.meta.cEffectSprite.y - (double)v3->char_c.meta.current_frame_params->extra_24byte[5];
            v1254 = v1253;
            v1255 = -*(float *)&v1453;
            v1256 = cosinus(v1255);
            v1257 = (v1256 * v1454 + (double)v3->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 970, v1257, v1254, v1250, 1, (int)&v1453, 3);
          }
          if ( v3->char_c.meta.viz.get_elaps_frames >= v3->char_c.field_7D0 )
          {
            char_c::flip_with_force(&v3->char_c);
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            char_c::flip_with_force(&v3->char_c);
            return;
          }
        }
        if ( v3->char_c.meta.viz.get_subseq == 5 && v3->char_c.meta.viz.get_elaps_frames > 60 )
          goto LABEL_1127;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          v3->char_c.meta.cEffectSprite.h_inerc = -3.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 15.0;
          v3->char_c.meta.cEffectSprite.v_force = 0.40000001;
        }
        v1047 = 150;
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 3 )
        {
          v3->char_c.meta.cEffectSprite.v_force = 0.0;
          switch ( GAME_HARDNESS )
          {
            case 0:
              v3->char_c.field_7D0 = 180;
              v3->char_c.field_7DC = 3.0;
              v3->char_c.dash_angle = 45.0;
              break;
            case 1:
              v3->char_c.field_7D0 = 150;
              v3->char_c.field_7DC = 3.0;
              v3->char_c.dash_angle = 45.0;
              break;
            case 2:
              v1258 = 4.0;
              goto LABEL_2766;
            case 3:
              v1258 = 5.0;
LABEL_2766:
              v3->char_c.field_7D0 = 120;
              v3->char_c.field_7DC = v1258;
              v3->char_c.dash_angle = 40.0;
              break;
            default:
              break;
          }
        }
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 5 )
        {
          char_c::play_sfx(&v3->char_c, 29);
          char_c::sub_486FD0(&v3->char_c, 90.0, 45.0);
          v3->char_c.meta.cEffectSprite.h_inerc = -6.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 10.0;
          v3->char_c.meta.cEffectSprite.v_force = 0.34999999;
          v1419 = 0.0;
          if ( v3->char_c.field_7DC > 0.0 )
          {
            v1259 = 1.0;
            v1260 = v1419;
            do
            {
              *(float *)&v1496 = v1260 * v3->char_c.dash_angle - (v3->char_c.field_7DC - v1259) * v3->char_c.dash_angle * 0.5 + v3->char_c.field_7F0;
              v1497 = (double)(unsigned int)get_MT_range(20) * 0.1000000014901161 + 8.0;
              v1498 = 0.0;
              v1261 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
              v1262 = -*(float *)&v1496;
              v1263 = sinus(v1262) * 50.0 + v3->char_c.meta.cEffectSprite.y - (double)v3->char_c.meta.current_frame_params->extra_24byte[5];
              v1264 = v1263;
              v1265 = -*(float *)&v1496;
              v1266 = (cosinus(v1265) * 50.0 + (double)v3->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
              addbullet(&v3->char_c, 910, v1266, v1264, v1261, 1, (int)&v1496, 3);
              v1259 = 1.0;
              v1419 = v1419 + 1.0;
              v1260 = v1419;
            }
            while ( v3->char_c.field_7DC > (double)v1419 );
          }
          switch ( GAME_HARDNESS )
          {
            case 0:
            case 1:
              goto LABEL_2453;
            case 2:
LABEL_2739:
              v3->char_c.field_7D0 = 120;
              break;
            case 3:
LABEL_2708:
              v3->char_c.field_7D0 = 90;
              break;
            default:
              return;
          }
        }
        return;
      case 730:
        v1267 = v3->char_c.meta.viz.get_subseq;
        v1268 = v26;
        if ( v1267 <= 1 || v1267 == 6 )
        {
          char_c::sub10func(&v3->char_c);
        }
        else
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( v3->char_c.meta.viz.get_subseq != 5 )
            goto LABEL_2785;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            return;
          }
        }
        v1268 = 12.0;
LABEL_2785:
        if ( !v3->char_c.meta.viz.get_subseq && !(v3->char_c.meta.viz.get_elaps_frames % 10) )
        {
          *(float *)&v1459 = (double)(unsigned int)get_MT_range(360);
          v1460 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1461 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1269 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1270 = -*(float *)&v1459;
          v1271 = sinus(v1270);
          v1272 = v1271 * v1460 + v3->char_c.meta.cEffectSprite.y - (double)v3->char_c.meta.current_frame_params->extra_24byte[5];
          v1273 = v1272;
          v1274 = -*(float *)&v1459;
          v1275 = cosinus(v1274);
          v1276 = (v1275 * v1460 + (double)v3->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 970, v1276, v1273, v1269, 1, (int)&v1459, 3);
          v1268 = 12.0;
        }
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 2) && v3->char_c.meta.viz.get_elaps_frames <= v3->char_c.field_7D0 - 30 )
          {
            *(float *)&v1441 = (double)(unsigned int)get_MT_range(360);
            v1442 = (double)(unsigned int)get_MT_range(400) + 200.0;
            v1443 = (double)(unsigned int)get_MT_range(8);
            v1277 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1278 = -*(float *)&v1441;
            v1279 = sinus(v1278);
            v1280 = v1279 * v1442 + v3->char_c.meta.cEffectSprite.y - (double)v3->char_c.meta.current_frame_params->extra_24byte[5];
            v1281 = v1280;
            v1282 = -*(float *)&v1441;
            v1283 = cosinus(v1282);
            v1284 = (v1283 * v1442 + (double)v3->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 970, v1284, v1281, v1277, 1, (int)&v1441, 3);
            v1268 = 12.0;
          }
          if ( v3->char_c.meta.viz.get_elaps_frames >= v3->char_c.field_7D0 )
            goto LABEL_2793;
        }
        if ( v3->char_c.meta.viz.get_subseq != 3 )
          goto LABEL_2945;
        v1285 = v3->char_c.meta.cEffectSprite.dir == 1 ? 320.0 < v3->char_c.meta.cEffectSprite.x : v3->char_c.meta.cEffectSprite.x < 960.0;
        v1286 = v3->char_c.meta.cEffectSprite.h_inerc;
        v1287 = v1285 ? v1286 - 0.05000000074505806 : v1286 + 0.05000000074505806;
        v3->char_c.meta.cEffectSprite.h_inerc = v1287;
        if ( v1268 < v3->char_c.meta.cEffectSprite.h_inerc )
          v3->char_c.meta.cEffectSprite.h_inerc = v1268;
        if ( v3->char_c.meta.cEffectSprite.h_inerc < -12.0 )
          v3->char_c.meta.cEffectSprite.h_inerc = -12.0;
        v1288 = v3->char_c.meta.cEffectSprite.v_inerc;
        v1289 = v3->char_c.meta.cEffectSprite.y >= 150.0 ? v1288 - 0.02500000037252903 : v1288 + 0.02500000037252903;
        v3->char_c.meta.cEffectSprite.v_inerc = v1289;
        if ( v3->char_c.meta.cEffectSprite.v_inerc > 4.5 )
          v3->char_c.meta.cEffectSprite.v_inerc = 4.5;
        if ( v3->char_c.meta.cEffectSprite.v_inerc < -4.5 )
          v3->char_c.meta.cEffectSprite.v_inerc = -4.5;
        if ( v3->char_c.meta.viz.get_elaps_frames <= v3->char_c.field_7D0 )
        {
LABEL_2945:
          if ( viz_process(&v3->char_c) )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          {
            switch ( GAME_HARDNESS )
            {
              case 0:
                v3->char_c.field_7D0 = 240;
                goto LABEL_2825;
              case 1:
                v3->char_c.field_7D0 = 180;
LABEL_2825:
                v1290 = 1.0;
                goto LABEL_2826;
              case 2:
                v1290 = 1.5;
                v3->char_c.field_7D0 = 150;
                goto LABEL_2826;
              case 3:
                v1290 = 2.0;
                v3->char_c.field_7D0 = 120;
LABEL_2826:
                v3->char_c.field_7DC = v1290;
                break;
              default:
                break;
            }
            *(float *)&v1658 = 0.0;
            v1659 = 0.0;
            v1660 = 4.0;
            v1291 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1292 = v3->char_c.meta.current_frame_params;
            v1293 = v3->char_c.meta.cEffectSprite.y - (double)v1292->extra_24byte[5];
            v1294 = v1293;
            v1295 = (double)(v1292->extra_24byte[4] * (char)v1291) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 920, v1295, v1294, v1291, 1, (int)&v1658, 3);
          }
          if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 2 )
          {
            char_c::play_sfx(&v3->char_c, 10);
            *(float *)&v1792 = 0.0;
            v1793 = 25.0;
            v1794 = 10.0;
            v1795 = v3->char_c.field_7DC;
            v1296 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1297 = v3->char_c.meta.current_frame_params;
            v1298 = v3->char_c.meta.cEffectSprite.y - (double)v1297->extra_24byte[5];
            v1299 = v1298;
            v1300 = (double)(v1297->extra_24byte[4] * (char)v1296) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 920, v1300, v1299, v1296, 1, (int)&v1792, 4);
            switch ( GAME_HARDNESS )
            {
              case 0:
              case 1:
              case 2:
              case 3:
                v3->char_c.field_7D0 = 180;
                break;
              default:
                break;
            }
          }
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 5 )
          {
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 733);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
          }
        }
        else
        {
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        }
        return;
      case 733:
        v1301 = v3->char_c.meta.viz.get_subseq;
        if ( v1301 <= 1 || v1301 == 8 )
        {
          char_c::sub10func(&v3->char_c);
        }
        else
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( v3->char_c.meta.viz.get_subseq == 7 && char_c::char_on_ground_down(&v3->char_c) )
          {
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
LABEL_2843:
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            v3->char_c.meta.cEffectSprite.angZ = 0.0;
            return;
          }
        }
        v1302 = v3->char_c.meta.viz.get_subseq;
        if ( v1302 == 2 || v1302 == 3 )
        {
          v3->char_c.meta.cEffectSprite.h_inerc = v3->char_c.meta.cEffectSprite.h_inerc * 0.9800000190734863;
          v3->char_c.meta.cEffectSprite.v_inerc = 0.9800000190734863 * v3->char_c.meta.cEffectSprite.v_inerc;
        }
        if ( v3->char_c.meta.viz.get_subseq == 2 && !(v3->char_c.meta.viz.get_elaps_frames % 10) )
        {
          *(float *)&v1465 = (double)(unsigned int)get_MT_range(360);
          v1466 = (double)(unsigned int)get_MT_range(400) + 200.0;
          v1467 = (double)((unsigned int)get_MT_range(100) >= 0x32);
          v1303 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v1304 = -*(float *)&v1465;
          v1305 = sinus(v1304);
          v1306 = v1305 * v1466 + v3->char_c.meta.cEffectSprite.y - (double)v3->char_c.meta.current_frame_params->extra_24byte[5];
          v1307 = v1306;
          v1308 = -*(float *)&v1465;
          v1309 = cosinus(v1308);
          v1310 = (v1309 * v1466 + (double)v3->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 970, v1310, v1307, v1303, 1, (int)&v1465, 3);
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          if ( !(v3->char_c.meta.viz.get_elaps_frames % 2) && v3->char_c.meta.viz.get_elaps_frames <= v3->char_c.field_7D0 - 30 )
          {
            *(float *)&v1471 = (double)(unsigned int)get_MT_range(360);
            v1472 = (double)(unsigned int)get_MT_range(400) + 200.0;
            v1473 = (double)(unsigned int)get_MT_range(8);
            v1311 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1312 = -*(float *)&v1471;
            v1313 = sinus(v1312);
            v1314 = v1313 * v1472 + v3->char_c.meta.cEffectSprite.y - (double)v3->char_c.meta.current_frame_params->extra_24byte[5];
            v1315 = v1314;
            v1316 = -*(float *)&v1471;
            v1317 = cosinus(v1316);
            v1318 = (v1317 * v1472 + (double)v3->char_c.meta.current_frame_params->extra_24byte[4]) * (double)v3->char_c.meta.cEffectSprite.dir + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 970, v1318, v1315, v1311, 1, (int)&v1471, 3);
          }
          if ( v3->char_c.meta.viz.get_elaps_frames >= v3->char_c.field_7D0 )
          {
LABEL_2793:
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            char_c::flip_with_force(&v3->char_c);
            return;
          }
        }
        v1319 = v3->char_c.meta.viz.get_subseq;
        if ( v1319 == 3 && v3->char_c.meta.viz.get_elaps_frames > v3->char_c.field_7D0 )
        {
LABEL_1106:
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
          return;
        }
        if ( v1319 != 5 )
          goto LABEL_2880;
        v1320 = v3->char_c.dash_angle + 0.01999999955296516;
        v3->char_c.dash_angle = v1320;
        if ( v1320 > 3.0 )
          v3->char_c.dash_angle = 3.0;
        v1321 = v3->char_c.meta.current_frame_params;
        v3->char_c.meta.cEffectSprite.x_off = (double)v1321->extra_24byte[4];
        v3->char_c.meta.cEffectSprite.y_off = -(double)v1321->extra_24byte[5];
        v3->char_c.meta.cEffectSprite.angZ = v3->char_c.dash_angle + v3->char_c.meta.cEffectSprite.angZ;
        v1322 = v3->char_c.meta.cEffectSprite.h_inerc;
        if ( v3->char_c.meta.cEffectSprite.x <= 640.0 )
        {
          if ( v3->char_c.meta.cEffectSprite.dir == 1 )
          {
            v1323 = v1322 + 0.03999999910593033;
            goto LABEL_2867;
          }
        }
        else if ( v3->char_c.meta.cEffectSprite.dir != 1 )
        {
          v1323 = v1322 + 0.03999999910593033;
          goto LABEL_2867;
        }
        v1323 = v1322 - 0.03999999910593033;
LABEL_2867:
        v3->char_c.meta.cEffectSprite.h_inerc = v1323;
        if ( v3->char_c.meta.cEffectSprite.h_inerc > 6.0 )
          v3->char_c.meta.cEffectSprite.h_inerc = 6.0;
        if ( v3->char_c.meta.cEffectSprite.h_inerc < -6.0 )
          v3->char_c.meta.cEffectSprite.h_inerc = -6.0;
        v1324 = v3->char_c.meta.cEffectSprite.v_inerc;
        if ( v3->char_c.meta.cEffectSprite.y >= 270.0 )
          v1325 = v1324 - 0.01250000018626451;
        else
          v1325 = v1324 + 0.01250000018626451;
        v3->char_c.meta.cEffectSprite.v_inerc = v1325;
        if ( v3->char_c.meta.cEffectSprite.v_inerc > 2.5 )
          v3->char_c.meta.cEffectSprite.v_inerc = 2.5;
        if ( v3->char_c.meta.cEffectSprite.v_inerc < -2.5 )
          v3->char_c.meta.cEffectSprite.v_inerc = -2.5;
        if ( v3->char_c.meta.viz.get_elaps_frames > v3->char_c.field_7D0 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = 7.5;
          v3->char_c.meta.cEffectSprite.v_force = 0.25;
          v1326 = (void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5;
          v3->char_c.meta.cEffectSprite.angZ = (double)((signed int)v3->char_c.meta.cEffectSprite.angZ % 360) - 720.0;
          v1326(v3);
          return;
        }
LABEL_2880:
        v1327 = v3->char_c.meta.viz.get_subseq;
        if ( v1327 == 6 || v1327 == 7 )
          v3->char_c.meta.cEffectSprite.angZ = v3->char_c.meta.cEffectSprite.angZ * 0.9200000166893005;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames )
        {
          if ( !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 3 )
          {
            switch ( GAME_HARDNESS )
            {
              case 0:
                v3->char_c.field_7D0 = 180;
                goto LABEL_2894;
              case 1:
                v3->char_c.field_7D0 = 120;
LABEL_2894:
                v1328 = 1.0;
                goto LABEL_2895;
              case 2:
                v1328 = 1.5;
                v3->char_c.field_7D0 = 90;
                goto LABEL_2895;
              case 3:
                v1328 = 2.0;
                v3->char_c.field_7D0 = 60;
LABEL_2895:
                v3->char_c.field_7DC = v1328;
                break;
              default:
                break;
            }
          }
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 5 )
          {
            char_c::play_sfx(&v3->char_c, 10);
            *(float *)&v1736 = 0.0;
            v1737 = 25.0;
            v1738 = 12.0;
            v1739 = v3->char_c.field_7DC;
            v1329 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v1330 = v3->char_c.meta.current_frame_params;
            v1331 = v3->char_c.meta.cEffectSprite.y - (double)v1330->extra_24byte[5];
            v1332 = v1331;
            v1333 = (double)((char)v1329 * (v1330->extra_24byte[4] + 200)) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 920, v1333, v1332, v1329, 1, (int)&v1736, 4);
            switch ( GAME_HARDNESS )
            {
              case 0:
              case 1:
              case 2:
              case 3:
                v3->char_c.field_7D0 = 240;
                break;
              default:
                break;
            }
            v3->char_c.field_7D0 += get_MT_range(150);
          }
        }
        return;
      default:
        goto LABEL_2940;
    }
  }
  if ( v50 == 504 )
  {
    if ( v3->char_c.meta.viz.get_subseq == 3 )
      char_c::sub10func(&v3->char_c);
    v3->char_c.meta.field_18C = 0;
    v467 = v3->char_c.meta.viz.get_subseq;
    if ( !v467 || v467 == 1 || v467 == 2 )
    {
      v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
      if ( char_c::char_on_ground_down(&v3->char_c) )
      {
        v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
        char_c::reset_forces(&v3->char_c);
        v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 3);
      }
    }
    if ( viz_process(&v3->char_c) )
      v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
    if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame )
    {
      v466 = v3->char_c.meta.viz.get_subseq == 1;
LABEL_1342:
      if ( v466 && v3->char_c.skills_1[0] >= 1 )
        ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
    }
  }
  else
  {
    switch ( v50 )
    {
      case 301:
        char_c::sub10func(&v3->char_c);
        if ( !get_true(0) )
        {
          if ( v3->char_c.field_49A )
          {
            v229 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v3->char_c.meta.cEffectSprite.h_inerc = v229;
            v230 = 0.0;
            if ( v229 < 0.0 )
            {
              v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v3->char_c.field_49A = 0;
            }
          }
          else
          {
            v230 = 0.0;
          }
          if ( v3->char_c.meta.viz.get_frame > 4 )
          {
            v231 = v3->char_c.meta.cEffectSprite.h_inerc - 1.5;
            v3->char_c.meta.cEffectSprite.h_inerc = v231;
            if ( v231 < v230 )
              v3->char_c.meta.cEffectSprite.h_inerc = v230;
          }
          if ( viz_process(&v3->char_c) )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
          if ( !v3->char_c.meta.viz.get_frame_time )
          {
            if ( v3->char_c.meta.viz.get_frame == 3 )
              v3->char_c.meta.cEffectSprite.h_inerc = 30.0;
            if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 4 )
            {
              v3->char_c.meta.cEffectSprite.h_inerc = 10.0;
              scene_play_sfx(27);
              v3->char_c.field_49A = 0;
            }
          }
          if ( v3->char_c.meta.viz.get_frame > 3 )
            goto LABEL_693;
        }
        return;
      case 302:
        v233 = v3->char_c.meta.viz.get_subseq;
        if ( !v233 || v233 == 1 || v233 == 4 )
        {
          char_c::sub10func(&v3->char_c);
          v1 = 0.0;
        }
        if ( v3->char_c.meta.viz.get_frame < 2 && !v3->char_c.down_A )
          v3->char_c.not_charge_attack = 0;
        if ( !v3->char_c.meta.viz.get_subseq )
        {
          if ( v1 < v3->char_c.meta.cEffectSprite.h_inerc )
            v3->char_c.meta.cEffectSprite.h_inerc = v3->char_c.meta.cEffectSprite.h_inerc - 0.75;
          if ( v1 > v3->char_c.meta.cEffectSprite.h_inerc )
            v3->char_c.meta.cEffectSprite.h_inerc = v1;
        }
        if ( !v3->char_c.meta.viz.get_elaps_frames )
        {
          if ( !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 2 )
          {
            char_c::play_sfx(&v3->char_c, 17);
            v3->char_c.meta.cEffectSprite.h_inerc = 15.5;
            v3->char_c.meta.cEffectSprite.v_inerc = 4.0;
            v3->char_c.meta.cEffectSprite.v_force = 0.55000001;
          }
          if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 3 )
          {
            char_c::play_sfx(&v3->char_c, 17);
            v3->char_c.meta.cEffectSprite.h_inerc = 18.5;
            v3->char_c.meta.cEffectSprite.v_inerc = 7.5;
            v3->char_c.meta.cEffectSprite.v_force = 0.55000001;
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 5 )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_730;
        if ( !v3->char_c.not_charge_attack && v3->char_c.meta.viz.get_elaps_frames < 2 )
          goto LABEL_1106;
        v234 = v3->char_c.meta.viz.get_elaps_frames;
        if ( v234 > 12 )
        {
LABEL_287:
          v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 3);
          return;
        }
        if ( v234 == 2 )
        {
          v235 = v3->char_c.meta.cEffectSprite.y + 68.0;
          scene_add_effect(&v3->char_c, 62, v3->char_c.meta.cEffectSprite.x, v235, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1);
        }
LABEL_730:
        v236 = v3->char_c.meta.viz.get_subseq;
        if ( v236 == 3 || v236 == 2 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            char_c::play_sfx(&v3->char_c, 18);
            v237 = v3->char_c.meta.vtbl->set_subseq_func3;
            if ( v3->char_c.meta.viz.get_subseq == 2 )
              v237(&v3->char_c.meta, 4);
            else
              v237(&v3->char_c.meta, 5);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            v3->char_c.meta.cEffectSprite.v_inerc = 0.0;
            v3->char_c.meta.cEffectSprite.h_inerc = 5.0;
            return;
          }
        }
        v238 = v3->char_c.meta.viz.get_subseq;
        if ( v238 == 4 || v238 == 5 )
          goto LABEL_693;
        return;
      case 303:
        char_c::sub10func(&v3->char_c);
        if ( !get_true(0) )
        {
          if ( v3->char_c.field_49A > 0 )
          {
            v239 = v3->char_c.meta.cEffectSprite.h_inerc - 0.6000000238418579;
            v3->char_c.meta.cEffectSprite.h_inerc = v239;
            if ( v239 < 0.0 )
            {
              v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
              v3->char_c.field_49A = 0;
            }
          }
          if ( viz_process(&v3->char_c) )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 2);
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 3 )
            scene_play_sfx(27);
        }
        return;
      case 304:
        char_c::sub10func(&v3->char_c);
        if ( get_true(1) )
          return;
        if ( v3->char_c.meta.cEffectSprite.h_inerc > 0.0 )
        {
          v240 = v3->char_c.meta.cEffectSprite.h_inerc - 2.0;
          v3->char_c.meta.cEffectSprite.h_inerc = v240;
          if ( v240 < 0.0 )
            v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
        }
        if ( !v3->char_c.down_A )
          v3->char_c.not_charge_attack = 0;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          goto LABEL_2928;
        if ( v3->char_c.meta.viz.get_subseq || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame != 4 )
          goto LABEL_767;
        if ( v3->char_c.not_charge_attack == 1 )
        {
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
          v241 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v242 = v3->char_c.meta.cEffectSprite.y + 98.0;
          v243 = v242;
          v244 = (double)(75 * (char)v241) + v3->char_c.meta.cEffectSprite.x;
          scene_add_effect(&v3->char_c, 62, v244, v243, v241, 1);
        }
        else
        {
          v3->char_c.meta.cEffectSprite.h_inerc = 15.0;
          scene_play_sfx(28);
LABEL_767:
          if ( v3->char_c.meta.viz.get_subseq == 1 && !v3->char_c.meta.viz.get_frame_time )
          {
            if ( v3->char_c.meta.viz.get_frame == 1 )
            {
              v3->char_c.meta.cEffectSprite.h_inerc = 25.0;
              scene_play_sfx(28);
            }
            if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 4 )
              v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
        }
        return;
      case 305:
        char_c::sub10func(&v3->char_c);
        if ( !get_true(1) )
        {
          if ( v3->char_c.meta.viz.get_frame > 4 )
          {
            v245 = v3->char_c.meta.cEffectSprite.h_inerc - 1.0;
            v3->char_c.meta.cEffectSprite.h_inerc = v245;
            if ( v245 < 0.0 )
              v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
          if ( viz_process(&v3->char_c) )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 4 )
            scene_play_sfx(28);
        }
        return;
      case 306:
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v3->char_c) )
        {
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 10);
          v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
          char_c::reset_forces(&v3->char_c);
        }
        else
        {
          if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.viz.get_elaps_frames > 12 )
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
          if ( viz_process(&v3->char_c) )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 9);
          if ( !v3->char_c.meta.viz.get_subseq && v3->char_c.meta.viz.get_frame == 1 && !v3->char_c.meta.viz.get_frame_time )
            scene_play_sfx(27);
        }
        return;
      case 307:
        if ( !v3->char_c.down_A )
          v3->char_c.not_charge_attack = 0;
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        v246 = char_c::char_on_ground_down(&v3->char_c);
        v119 = v3;
        if ( v246 )
        {
LABEL_331:
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v119, 10);
          goto LABEL_332;
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 9);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          goto LABEL_803;
        if ( v3->char_c.meta.viz.get_subseq || v3->char_c.meta.viz.get_frame_time )
          goto LABEL_810;
        if ( v3->char_c.meta.viz.get_frame == 3 && v3->char_c.not_charge_attack == 1 )
          goto LABEL_1106;
        if ( v3->char_c.meta.viz.get_frame == 5 )
        {
          char_c::play_sfx(&v3->char_c, 1);
          v3->char_c.meta.cEffectSprite.h_inerc = -8.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 7.0;
          v3->char_c.meta.cEffectSprite.v_force = 0.5;
          *(float *)&v1721 = 0.0;
          v1722 = 0.0;
          v1723 = 1.0;
          v247 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v248 = v3->char_c.meta.cEffectSprite.y + 110.0;
          v249 = v248;
          v250 = (double)(67 * (char)v247) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 848, v250, v249, v247, 1, (int)&v1721, 3);
        }
LABEL_810:
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          return;
        if ( v3->char_c.meta.viz.get_frame )
          goto LABEL_818;
        if ( v3->char_c.not_charge_attack )
        {
          v251 = v3->char_c.meta.viz.get_elaps_frames == 5;
        }
        else
        {
          v251 = v3->char_c.meta.viz.get_elaps_frames == 5;
          if ( v3->char_c.meta.viz.get_elaps_frames < 5 )
          {
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 0);
            v3->char_c.meta.viz.get_frame = 3;
            return;
          }
        }
        if ( v251 )
        {
          v252 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v253 = v3->char_c.meta.cEffectSprite.y + 180.0;
          v254 = v253;
          v255 = v3->char_c.meta.cEffectSprite.x - (double)(70 * (char)v252);
          scene_add_effect(&v3->char_c, 62, v255, v254, v252, 1);
        }
LABEL_818:
        if ( v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame != 3 )
          return;
        char_c::play_sfx(&v3->char_c, 1);
        v3->char_c.meta.cEffectSprite.h_inerc = -8.0;
        v3->char_c.meta.cEffectSprite.v_inerc = 7.0;
        a2 = &v1796;
        v3->char_c.meta.cEffectSprite.v_force = 0.5;
        *(float *)&v1796 = 0.0;
        v1797 = 20.0;
        x = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
        v256 = v3->char_c.meta.cEffectSprite.y + 110.0;
        v1339 = v256;
        v257 = (double)(67 * v3->char_c.meta.cEffectSprite.dir) + v3->char_c.meta.cEffectSprite.x;
        v258 = v257;
        goto LABEL_821;
      case 308:
        if ( !v3->char_c.down_A )
          v3->char_c.not_charge_attack = 0;
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        v260 = char_c::char_on_ground_down(&v3->char_c);
        v189 = v3;
        if ( v260 )
          goto LABEL_588;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 9);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          goto LABEL_831;
        if ( v3->char_c.meta.viz.get_subseq || v3->char_c.meta.viz.get_frame_time )
          goto LABEL_838;
        if ( v3->char_c.meta.viz.get_frame == 3 && v3->char_c.not_charge_attack == 1 )
          goto LABEL_1127;
        if ( v3->char_c.meta.viz.get_frame == 5 )
        {
          char_c::play_sfx(&v3->char_c, 1);
          v3->char_c.meta.cEffectSprite.h_inerc = -4.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 8.0;
          v3->char_c.meta.cEffectSprite.v_force = 0.5;
          *(float *)&v1727 = 60.0;
          v1728 = 1.0;
          v1729 = 1.0;
          v261 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v262 = v3->char_c.meta.cEffectSprite.y + 30.0;
          v263 = v262;
          v264 = (double)(30 * (char)v261) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 848, v264, v263, v261, 1, (int)&v1727, 3);
        }
LABEL_838:
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          return;
        if ( v3->char_c.meta.viz.get_frame )
          goto LABEL_846;
        if ( v3->char_c.not_charge_attack )
        {
          v265 = v3->char_c.meta.viz.get_elaps_frames == 5;
        }
        else
        {
          v265 = v3->char_c.meta.viz.get_elaps_frames == 5;
          if ( v3->char_c.meta.viz.get_elaps_frames < 5 )
          {
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 0);
            v3->char_c.meta.viz.get_frame = 3;
            return;
          }
        }
        if ( v265 )
        {
          v266 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v267 = v3->char_c.meta.cEffectSprite.y + 180.0;
          v268 = v267;
          v269 = v3->char_c.meta.cEffectSprite.x - (double)(70 * (char)v266);
          scene_add_effect(&v3->char_c, 62, v269, v268, v266, 1);
        }
LABEL_846:
        if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 3 )
        {
          char_c::play_sfx(&v3->char_c, 1);
          v3->char_c.meta.cEffectSprite.h_inerc = -4.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 8.0;
          a2 = (int *)&v1798;
          v3->char_c.meta.cEffectSprite.v_force = 0.5;
          v1798 = 60.0;
          v1799 = 20.0;
          x = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v270 = v3->char_c.meta.cEffectSprite.y + 30.0;
          v1339 = v270;
          v271 = (double)(30 * (char)x) + v3->char_c.meta.cEffectSprite.x;
          v258 = v271;
LABEL_821:
          a3 = v258;
          addbullet(&v3->char_c, 804, a3, v1339, x, 1, (int)a2, 3);
          v3->char_c.meta.field_190 = 1;
        }
        return;
      case 309:
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( v1 < v3->char_c.meta.cEffectSprite.h_inerc )
        {
          v272 = v3->char_c.meta.cEffectSprite.h_inerc - 0.300000011920929;
          v3->char_c.meta.cEffectSprite.h_inerc = v272;
          if ( v272 < 2.0 )
            v3->char_c.meta.cEffectSprite.h_inerc = 2.0;
        }
        v273 = char_c::char_on_ground_down(&v3->char_c);
        v189 = v3;
        if ( v273 )
        {
LABEL_588:
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v189, 10);
          v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
          char_c::reset_forces(&v3->char_c);
          return;
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 9);
        if ( v3->char_c.meta.viz.get_subseq || v3->char_c.meta.viz.get_frame != 3 )
          goto LABEL_859;
        if ( !v3->char_c.meta.viz.get_frame_time )
        {
          scene_play_sfx(29);
          v3->char_c.meta.cEffectSprite.h_inerc = 10.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 15.0;
          v3->char_c.meta.cEffectSprite.v_force = 0.85000002;
LABEL_859:
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 4 )
          {
            v3->char_c.meta.field_194 = 1;
            v3->char_c.meta.field_190 = 0;
          }
        }
        return;
      case 310:
        if ( v3->char_c.meta.viz.get_subseq == 2 )
        {
          v274 = v3->char_c.meta.cEffectSprite.h_inerc - 1.0;
          v3->char_c.meta.cEffectSprite.h_inerc = v274;
          if ( v274 < v1 )
            v3->char_c.meta.cEffectSprite.h_inerc = v1;
          char_c::sub10func(&v3->char_c);
        }
        else
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 2);
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            v3->char_c.meta.cEffectSprite.v_inerc = 0.0;
            v3->char_c.meta.cEffectSprite.v_force = 0.0;
            v3->char_c.meta.field_190 = 1;
          }
        }
        if ( viz_process(&v3->char_c) )
        {
          v68 = v3->char_c.meta.vtbl->set_seq_func2;
          v69 = v3;
          if ( v3->char_c.down_Y > 0 )
LABEL_193:
            v68(&v69->char_c.meta, 2);
          else
            v68(&v3->char_c.meta, 3);
        }
        else if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 7 )
        {
          scene_play_sfx(29);
        }
        return;
      case 320:
        char_c::sub10func(&v3->char_c);
        if ( !get_true(0) )
        {
          if ( v3->char_c.meta.viz.get_frame > 1 )
          {
            v275 = v3->char_c.meta.cEffectSprite.h_inerc - 2.0;
            v3->char_c.meta.cEffectSprite.h_inerc = v275;
            if ( v275 < 0.0 )
              v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
          if ( viz_process(&v3->char_c) )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 2 )
          {
            scene_play_sfx(28);
            v3->char_c.field_49A = 0;
          }
        }
        return;
      case 321:
        char_c::sub10func(&v3->char_c);
        if ( !get_true(0) )
        {
          if ( v3->char_c.meta.viz.get_frame > 3 )
          {
            v276 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
            v3->char_c.meta.cEffectSprite.h_inerc = v276;
            if ( v276 < 0.0 )
              v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
          }
          if ( viz_process(&v3->char_c) )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 3 )
          {
            scene_play_sfx(28);
            v3->char_c.meta.cEffectSprite.h_inerc = 7.5;
            v3->char_c.field_49A = 0;
          }
        }
        return;
      case 322:
        char_c::sub10func(&v3->char_c);
        if ( get_true(1) )
          return;
        if ( v3->char_c.meta.viz.get_frame > 5 )
        {
          v277 = v3->char_c.meta.cEffectSprite.h_inerc - 3.0;
          v3->char_c.meta.cEffectSprite.h_inerc = v277;
          if ( v277 < 0.0 )
            v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_frame_time )
          return;
        if ( v3->char_c.meta.viz.get_frame == 4 )
        {
          v3->char_c.meta.cEffectSprite.h_inerc = 15.0;
          *(float *)&v1733 = 0.0;
          v1734 = 0.0;
          v1735 = 0.0;
          addbullet(&v3->char_c, 848, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1, (int)&v1733, 3);
        }
        goto LABEL_903;
      case 330:
        goto LABEL_667;
      case 400:
        char_c::sub10func(&v3->char_c);
        v278 = v3->char_c.meta.viz.get_subseq;
        if ( (!v278 || v278 == 1 && v3->char_c.meta.viz.get_elaps_frames <= 4) && !v3->char_c.down_B )
          v3->char_c.not_charge_attack = 0;
        v279 = v3->char_c.field_7D0;
        if ( v279 <= 0 )
          goto LABEL_920;
        v280 = v279 + 1;
        v3->char_c.field_7D0 = v280;
        v281 = v280 % 3;
        if ( v3->char_c.not_charge_attack )
        {
          if ( v281 == 1 && v3->char_c.field_7D2 < 5 )
          {
            v3->char_c.meta.field_190 = 1;
            char_c::add_card_energy(&v3->char_c, 10);
            a2a = &v1748;
            *(float *)&v1748 = (double)(-10 * v3->char_c.field_7D2) + v3->char_c.field_7F0;
            v1749 = 10.0;
            v1750 = 0.0;
            v1751 = 0.5;
            xa = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v285 = v3->char_c.meta.cEffectSprite.y + 102.0;
            v1340 = v285;
            v286 = (double)(94 * v3->char_c.meta.cEffectSprite.dir) + v3->char_c.meta.cEffectSprite.x;
            v284 = v286;
            goto LABEL_919;
          }
        }
        else if ( v281 == 1 && v3->char_c.field_7D2 < 3 )
        {
          v3->char_c.meta.field_190 = 1;
          char_c::add_card_energy(&v3->char_c, 10);
          a2a = (int *)&v1780;
          v1780 = (double)(-10 * v3->char_c.field_7D2) + v3->char_c.field_7F0;
          v1781 = 7.0;
          v1782 = 0.0;
          v1783 = 0.0;
          xa = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v282 = v3->char_c.meta.cEffectSprite.y + 102.0;
          v1340 = v282;
          v283 = (double)(94 * v3->char_c.meta.cEffectSprite.dir) + v3->char_c.meta.cEffectSprite.x;
          v284 = v283;
LABEL_919:
          v287 = v284;
          addbullet(&v3->char_c, 800, v287, v1340, xa, 1, (int)a2a, 4);
          char_c::play_sfx(&v3->char_c, 0);
          ++v3->char_c.field_7D2;
          goto LABEL_920;
        }
LABEL_920:
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_929;
        if ( !v3->char_c.not_charge_attack )
        {
          v288 = v3->char_c.meta.viz.get_elaps_frames;
          if ( v288 >= 2 && v288 < 5 )
            goto LABEL_1127;
        }
        v289 = v3->char_c.meta.viz.get_elaps_frames;
        if ( v289 > 15 )
          goto LABEL_1127;
        if ( v289 == 5 )
        {
          v290 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v291 = v3->char_c.meta.cEffectSprite.y + 100.0;
          v292 = v291;
          v293 = v3->char_c.meta.cEffectSprite.x - (double)(12 * (char)v290);
          scene_add_effect(&v3->char_c, 62, v293, v292, v290, 1);
        }
LABEL_929:
        if ( v3->char_c.meta.viz.get_subseq != 2 || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame != 2 )
          return;
        move_val = -25.0;
        v294 = 25.0;
        goto LABEL_933;
      case 401:
        char_c::sub10func(&v3->char_c);
        v296 = v3->char_c.meta.viz.get_subseq;
        if ( (!v296 || v296 == 1 && v3->char_c.meta.viz.get_elaps_frames <= 4) && !v3->char_c.down_B )
          v3->char_c.not_charge_attack = 0;
        v297 = v3->char_c.field_7D0;
        if ( v297 <= 0 )
          goto LABEL_949;
        v298 = v297 + 1;
        v3->char_c.field_7D0 = v298;
        v299 = v298 % 3;
        if ( v3->char_c.not_charge_attack )
        {
          if ( v299 == 1 && v3->char_c.field_7D2 < 5 )
          {
            v3->char_c.meta.field_190 = 1;
            char_c::add_card_energy(&v3->char_c, 10);
            a2b = &v1756;
            *(float *)&v1756 = (double)(-10 * v3->char_c.field_7D2) + v3->char_c.field_7F0;
            v1757 = 10.0;
            v1758 = 0.0;
            v1759 = 0.5;
            xb = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v303 = v3->char_c.meta.cEffectSprite.y + 130.0;
            v1341 = v303;
            v304 = (double)(96 * (char)xb) + v3->char_c.meta.cEffectSprite.x;
            v302 = v304;
            goto LABEL_948;
          }
        }
        else if ( v299 == 1 && v3->char_c.field_7D2 < 3 )
        {
          v3->char_c.meta.field_190 = 1;
          char_c::add_card_energy(&v3->char_c, 10);
          a2b = (int *)&v1772;
          v1772 = (double)(-10 * v3->char_c.field_7D2) + v3->char_c.field_7F0;
          v1773 = 7.0;
          v1774 = 0.0;
          v1775 = 0.0;
          xb = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v300 = v3->char_c.meta.cEffectSprite.y + 130.0;
          v1341 = v300;
          v301 = (double)(96 * (char)xb) + v3->char_c.meta.cEffectSprite.x;
          v302 = v301;
LABEL_948:
          v305 = v302;
          addbullet(&v3->char_c, 800, v305, v1341, xb, 1, (int)a2b, 4);
          char_c::play_sfx(&v3->char_c, 0);
          ++v3->char_c.field_7D2;
          goto LABEL_949;
        }
LABEL_949:
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_958;
        if ( !v3->char_c.not_charge_attack )
        {
          v306 = v3->char_c.meta.viz.get_elaps_frames;
          if ( v306 >= 2 && v306 < 5 )
            goto LABEL_1127;
        }
        v307 = v3->char_c.meta.viz.get_elaps_frames;
        if ( v307 > 15 )
          goto LABEL_1127;
        if ( v307 == 5 )
        {
          v308 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v309 = v3->char_c.meta.cEffectSprite.y + 100.0;
          v310 = v309;
          v311 = v3->char_c.meta.cEffectSprite.x - (double)(12 * (char)v308);
          scene_add_effect(&v3->char_c, 62, v311, v310, v308, 1);
        }
LABEL_958:
        if ( v3->char_c.meta.viz.get_subseq != 2 || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame != 2 )
          return;
        v312 = v3->char_c.meta.enemy;
        v313 = (v312->meta.cEffectSprite.x - v3->char_c.meta.cEffectSprite.x) * (double)v3->char_c.meta.cEffectSprite.dir;
        v314 = v313;
        v315 = v312->meta.cEffectSprite.y - v3->char_c.meta.cEffectSprite.y;
        v316 = -(signed __int16)(signed int)atan2_deg(v315, v314);
        v3->char_c.field_7D4 = v316;
        if ( v316 < -40 )
          v3->char_c.field_7D4 = -40;
        if ( v3->char_c.field_7D4 > -20 )
          v3->char_c.field_7D4 = -20;
        move_val = -55.0;
        v294 = -20.0;
LABEL_933:
        v295 = v294;
        char_c::sub_486FD0(&v3->char_c, v295, move_val);
        v3->char_c.field_7D0 = 1;
LABEL_934:
        char_c::spell_energy_spend(&v3->char_c, 200, 45);
        return;
      case 402:
        char_c::sub10func(&v3->char_c);
        if ( !v3->char_c.down_B )
          v3->char_c.not_charge_attack = 0;
        v317 = v3->char_c.field_7D0;
        if ( v317 >= 0 )
        {
          v318 = v317 - 1;
          v3->char_c.field_7D0 = v318;
          if ( !v318 && v3->char_c.meta.viz.get_subseq < 4 )
          {
            v3->char_c.meta.field_190 = 1;
            char_c::play_sfx(&v3->char_c, 0);
            char_c::add_card_energy(&v3->char_c, 5);
            *(float *)&v1670 = (double)(MT_getnext() % 0x1Eu) - 15.0;
            v1671 = (double)(2 * v3->char_c.field_7D2 + 15);
            v1672 = (double)(MT_getnext() & 3) + 2.0;
            v319 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v320 = v3->char_c.meta.cEffectSprite.y + 67.0;
            v321 = v320;
            v322 = (double)(87 * (char)v319) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 800, v322, v321, v319, 1, (int)&v1670, 3);
            v3->char_c.field_7D0 = 4;
            ++v3->char_c.field_7D2;
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 2);
        v323 = v3->char_c.meta.viz.get_subseq;
        if ( v323 == 3 && (!v3->char_c.not_charge_attack || v3->char_c.meta.viz.get_elaps_frames >= 30) )
          goto LABEL_1127;
        if ( v323 == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 2 )
        {
          v3->char_c.field_7D0 = 1;
          char_c::spell_energy_spend(&v3->char_c, 200, 45);
          v324 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v325 = v3->char_c.meta.cEffectSprite.y + 70.0;
          v326 = v325;
          v327 = (double)(90 * (char)v324) + v3->char_c.meta.cEffectSprite.x;
          scene_add_effect(&v3->char_c, 62, v327, v326, v324, 1);
        }
        return;
      case 404:
        if ( v3->char_c.meta.viz.get_subseq == 3 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 3 )
        {
          v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 3);
          goto LABEL_986;
        }
        v328 = v3->char_c.field_7D0;
        if ( v328 <= 0 )
          goto LABEL_997;
        v329 = v328 + 1;
        v3->char_c.field_7D0 = v329;
        v330 = v329 % 3;
        if ( v3->char_c.not_charge_attack )
        {
          if ( v330 == 1 && v3->char_c.field_7D2 < 5 )
          {
            v3->char_c.meta.field_190 = 1;
            char_c::add_card_energy(&v3->char_c, 10);
            a2c = &v1764;
            *(float *)&v1764 = (double)(-10 * v3->char_c.field_7D2) + v3->char_c.field_7F0;
            v1765 = 10.0;
            v1766 = 0.0;
            v1767 = 0.5;
            xc = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v334 = v3->char_c.meta.cEffectSprite.y + 115.0;
            v1342 = v334;
            v335 = (double)(80 * (char)xc) + v3->char_c.meta.cEffectSprite.x;
            v333 = v335;
            goto LABEL_996;
          }
        }
        else if ( v330 == 1 && v3->char_c.field_7D2 < 3 )
        {
          v3->char_c.meta.field_190 = 1;
          char_c::add_card_energy(&v3->char_c, 10);
          a2c = (int *)&v1788;
          v1788 = (double)(-10 * v3->char_c.field_7D2) + v3->char_c.field_7F0;
          v1789 = 7.0;
          v1790 = 0.0;
          v1791 = 0.0;
          xc = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v331 = v3->char_c.meta.cEffectSprite.y + 115.0;
          v1342 = v331;
          v332 = (double)(80 * (char)xc) + v3->char_c.meta.cEffectSprite.x;
          v333 = v332;
LABEL_996:
          v336 = v333;
          addbullet(&v3->char_c, 800, v336, v1342, xc, 1, (int)a2c, 4);
          char_c::play_sfx(&v3->char_c, 0);
          ++v3->char_c.field_7D2;
          goto LABEL_997;
        }
LABEL_997:
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        v337 = v3->char_c.meta.viz.get_subseq;
        if ( (!v337 || v337 == 1 && v3->char_c.meta.viz.get_elaps_frames <= 4) && !v3->char_c.down_B )
          v3->char_c.not_charge_attack = 0;
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1011;
        if ( !v3->char_c.not_charge_attack )
        {
          v338 = v3->char_c.meta.viz.get_elaps_frames;
          if ( v338 >= 2 && v338 <= 4 )
            goto LABEL_1127;
        }
        v339 = v3->char_c.meta.viz.get_elaps_frames;
        if ( v339 > 15 )
          goto LABEL_1127;
        if ( v339 == 5 )
        {
          v340 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v341 = v3->char_c.meta.cEffectSprite.y + 125.0;
          v342 = v341;
          v343 = v3->char_c.meta.cEffectSprite.x - (double)(25 * (char)v340);
          scene_add_effect(&v3->char_c, 62, v343, v342, v340, 1);
        }
LABEL_1011:
        if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 2 )
        {
          v344 = v3->char_c.meta.enemy;
          v3->char_c.meta.cEffectSprite.h_inerc = -6.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 6.0;
          v3->char_c.meta.cEffectSprite.v_force = 0.5;
          v345 = (v344->meta.cEffectSprite.x - v3->char_c.meta.cEffectSprite.x) * (double)v3->char_c.meta.cEffectSprite.dir;
          v346 = v345;
          v347 = v344->meta.cEffectSprite.y - v3->char_c.meta.cEffectSprite.y;
          v348 = -(signed __int16)(signed int)atan2_deg(v347, v346);
          v3->char_c.field_7D4 = v348;
          if ( v348 < -10 )
            v3->char_c.field_7D4 = -10;
          if ( v3->char_c.field_7D4 > 10 )
            v3->char_c.field_7D4 = 10;
          char_c::sub_486FD0(&v3->char_c, 25.0, 25.0);
          v3->char_c.field_7D0 = 1;
          char_c::spell_energy_spend(&v3->char_c, 200, 45);
        }
        if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame )
          return;
        v349 = v3->char_c.meta.viz.get_subseq == 3;
        goto LABEL_1023;
      case 406:
        if ( v3->char_c.meta.viz.get_subseq == 3 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 3 )
          goto LABEL_1029;
        v350 = v3->char_c.field_7D0;
        if ( v350 <= 0 )
          goto LABEL_1039;
        v351 = v350 + 1;
        v3->char_c.field_7D0 = v351;
        v352 = v351 % 3;
        if ( v3->char_c.not_charge_attack )
        {
          if ( v352 == 1 && v3->char_c.field_7D2 < 5 )
          {
            v3->char_c.meta.field_190 = 1;
            char_c::add_card_energy(&v3->char_c, 10);
            a2d = &v1744;
            *(float *)&v1744 = (double)(10 * v3->char_c.field_7D2) + v3->char_c.field_7F0;
            v1745 = 10.0;
            v1746 = 0.0;
            v1747 = 0.5;
            xd = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v356 = v3->char_c.meta.cEffectSprite.y + 87.0;
            v1343 = v356;
            v357 = (double)(69 * v3->char_c.meta.cEffectSprite.dir) + v3->char_c.meta.cEffectSprite.x;
            v355 = v357;
            goto LABEL_1038;
          }
        }
        else if ( v352 == 1 && v3->char_c.field_7D2 < 3 )
        {
          v3->char_c.meta.field_190 = 1;
          char_c::add_card_energy(&v3->char_c, 10);
          a2d = (int *)&v1740;
          v1740 = (double)(10 * v3->char_c.field_7D2) + v3->char_c.field_7F0;
          v1741 = 7.0;
          v1742 = 0.0;
          v1743 = 0.0;
          xd = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v353 = v3->char_c.meta.cEffectSprite.y + 87.0;
          v1343 = v353;
          v354 = (double)(69 * v3->char_c.meta.cEffectSprite.dir) + v3->char_c.meta.cEffectSprite.x;
          v355 = v354;
LABEL_1038:
          v358 = v355;
          addbullet(&v3->char_c, 800, v358, v1343, xd, 1, (int)a2d, 4);
          char_c::play_sfx(&v3->char_c, 0);
          ++v3->char_c.field_7D2;
          goto LABEL_1039;
        }
LABEL_1039:
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        v359 = v3->char_c.meta.viz.get_subseq;
        if ( (!v359 || v359 == 1 && v3->char_c.meta.viz.get_elaps_frames <= 4) && !v3->char_c.down_B )
          v3->char_c.not_charge_attack = 0;
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          v360 = v3->char_c.not_charge_attack;
          if ( !v360 && (v361 = v3->char_c.meta.viz.get_elaps_frames, v361 >= 2) && v361 <= 4 || (v362 = v3->char_c.meta.viz.get_elaps_frames, v362 > 15) )
          {
LABEL_1127:
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            return;
          }
          if ( v362 == 5 && v360 == 1 )
          {
            v363 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v364 = v3->char_c.meta.cEffectSprite.y + 125.0;
            v365 = v364;
            v366 = v3->char_c.meta.cEffectSprite.x - (double)(25 * (char)v363);
            scene_add_effect(&v3->char_c, 62, v366, v365, v363, 1);
          }
        }
        if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 2 )
        {
          v367 = v3->char_c.meta.enemy;
          v3->char_c.meta.cEffectSprite.h_inerc = -6.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 6.0;
          v3->char_c.meta.cEffectSprite.v_force = 0.5;
          v368 = (v367->meta.cEffectSprite.x - v3->char_c.meta.cEffectSprite.x) * (double)v3->char_c.meta.cEffectSprite.dir;
          v369 = v368;
          v370 = v367->meta.cEffectSprite.y - v3->char_c.meta.cEffectSprite.y;
          v371 = -(signed __int16)(signed int)atan2_deg(v370, v369);
          v3->char_c.field_7D4 = v371;
          if ( v371 < 20 )
            v3->char_c.field_7D4 = 20;
          if ( v3->char_c.field_7D4 > 40 )
            v3->char_c.field_7D4 = 40;
          char_c::sub_486FD0(&v3->char_c, 60.0, 20.0);
          v3->char_c.field_7D0 = 1;
LABEL_1062:
          char_c::spell_energy_spend(&v3->char_c, 200, 45);
        }
LABEL_1063:
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame )
        {
          v349 = v3->char_c.meta.viz.get_subseq == 3;
LABEL_1023:
          if ( v349 )
            v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 9);
          return;
        }
        break;
      case 408:
        char_c::sub10func(&v3->char_c);
        v372 = v3->char_c.meta.cEffectSprite.h_inerc - 0.75;
        v3->char_c.meta.cEffectSprite.h_inerc = v372;
        if ( v372 < 0.0 )
          v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 6 )
        {
          char_c::play_sfx(&v3->char_c, 1);
          *(float *)&v1664 = 0.0;
          v1665 = 2.0;
          v1666 = 1.0;
          v373 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v374 = v3->char_c.meta.cEffectSprite.y + 103.0;
          v375 = v374;
          v376 = (double)(106 * (char)v373) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 848, v376, v375, v373, 1, (int)&v1664, 3);
        }
        return;
      case 409:
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v3->char_c) )
        {
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 10);
          goto LABEL_1077;
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 9);
        return;
      case 410:
        char_c::sub10func(&v3->char_c);
        if ( !v3->char_c.down_C )
          v3->char_c.not_charge_attack = 0;
        if ( v3->char_c.meta.viz.get_subseq == 2 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          v377 = v3->char_c.meta.enemy;
          v378 = (v377->meta.cEffectSprite.x - v3->char_c.meta.cEffectSprite.x) * (double)v3->char_c.meta.cEffectSprite.dir;
          v379 = v378;
          v380 = v377->meta.cEffectSprite.y - v3->char_c.meta.cEffectSprite.y;
          v381 = -(signed __int16)(signed int)atan2_deg(v380, v379);
          v3->char_c.field_7D4 = v381;
          if ( v381 < -20 )
            v3->char_c.field_7D4 = -20;
          if ( v3->char_c.field_7D4 > 20 )
            v3->char_c.field_7D4 = 20;
          char_c::play_sfx(&v3->char_c, 2);
          char_c::spell_energy_spend(&v3->char_c, 200, 60);
          v3->char_c.meta.field_190 = 1;
          char_c::add_card_energy(&v3->char_c, 50);
          if ( v3->char_c.field_7D8 )
          {
            *(float *)&v1547 = (double)v3->char_c.field_7D4;
            v1548 = 5.0;
            v1549 = 1.0;
            v382 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v383 = v3->char_c.meta.cEffectSprite.y + 85.0;
            v384 = v383;
            v385 = (double)(44 * (char)v382) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 801, v385, v384, v382, 1, (int)&v1547, 3);
          }
          else
          {
            *(float *)&v1715 = (double)v3->char_c.field_7D4;
            v1716 = 5.0;
            v1717 = 0.0;
            v386 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v387 = v3->char_c.meta.cEffectSprite.y + 85.0;
            v388 = v387;
            v389 = (double)(44 * (char)v386) + v3->char_c.meta.cEffectSprite.x;
            addbullet(&v3->char_c, 801, v389, v388, v386, 1, (int)&v1715, 3);
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1102;
        v390 = v3->char_c.meta.viz.get_elaps_frames;
        if ( v390 <= 0 )
          goto LABEL_1102;
        if ( !v3->char_c.not_charge_attack && v390 <= 9 || v390 >= 30 )
          goto LABEL_1127;
        if ( v390 == 10 )
        {
          v391 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v392 = v3->char_c.meta.cEffectSprite.y + 93.0;
          v393 = v392;
          v394 = v3->char_c.meta.cEffectSprite.x - (double)(23 * (char)v391);
          scene_add_effect(&v3->char_c, 62, v394, v393, v391, 1);
          v3->char_c.field_7D8 = 1;
        }
LABEL_1102:
        v395 = v3->char_c.meta.viz.get_subseq == 3;
        goto LABEL_1103;
      case 411:
        char_c::sub10func(&v3->char_c);
        v399 = v3->char_c.meta.viz.get_subseq == 2;
        if ( v3->char_c.meta.viz.get_subseq < 2 )
        {
          if ( !v3->char_c.down_C )
            v3->char_c.not_charge_attack = 0;
          v399 = v3->char_c.meta.viz.get_subseq == 2;
        }
        if ( v399 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::add_card_energy(&v3->char_c, 50);
          v400 = v3->char_c.meta.enemy;
          v401 = (v400->meta.cEffectSprite.x - v3->char_c.meta.cEffectSprite.x) * (double)v3->char_c.meta.cEffectSprite.dir;
          v402 = v401;
          v403 = v400->meta.cEffectSprite.y - v3->char_c.meta.cEffectSprite.y;
          v404 = -(signed __int16)(signed int)atan2_deg(v403, v402);
          v3->char_c.field_7D4 = v404;
          if ( v404 < -10 )
            v3->char_c.field_7D4 = -10;
          if ( v3->char_c.field_7D4 > 10 )
            v3->char_c.field_7D4 = 10;
          char_c::play_sfx(&v3->char_c, 4);
          v3->char_c.meta.field_190 = 1;
          char_c::spell_energy_spend(&v3->char_c, 200, 60);
          *(float *)&v1519 = 0.0;
          v1520 = 0.0;
          v1521 = 4.0;
          v405 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v406 = v3->char_c.meta.cEffectSprite.y + 85.0;
          v407 = v406;
          v408 = (double)(44 * (char)v405) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 803, v408, v407, v405, 1, (int)&v1519, 3);
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        v409 = v3->char_c.meta.viz.get_subseq;
        if ( v409 == 1 )
        {
          v410 = v3->char_c.meta.viz.get_elaps_frames;
          if ( v410 > 4 && (!v3->char_c.not_charge_attack || v410 > 25) )
            goto LABEL_1127;
        }
        if ( v409 == 4 && v3->char_c.meta.viz.get_elaps_frames > 12 )
          goto LABEL_1127;
        return;
      case 412:
        char_c::sub10func(&v3->char_c);
        v411 = v3->char_c.meta.viz.get_subseq == 2;
        if ( v3->char_c.meta.viz.get_subseq < 2 )
        {
          if ( !v3->char_c.down_C )
            v3->char_c.not_charge_attack = 0;
          v411 = v3->char_c.meta.viz.get_subseq == 2;
        }
        if ( v411 && v3->char_c.meta.viz.get_frame == 1 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::play_sfx(&v3->char_c, 7);
          *(float *)&v1553 = 0.0;
          v1554 = v3->char_c.field_7DC / 40.0;
          v1555 = 0.0;
          v3->char_c.meta.field_190 = 1;
          char_c::spell_energy_spend(&v3->char_c, 200, 60);
          char_c::add_card_energy(&v3->char_c, 50);
          v412 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v413 = v3->char_c.meta.cEffectSprite.y + 162.0;
          v414 = v413;
          v415 = (double)(70 * (char)v412) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 802, v415, v414, v412, 1, (int)&v1553, 3);
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( v3->char_c.meta.viz.get_subseq == 1 && v3->char_c.meta.viz.get_elaps_frames > 4 )
        {
          if ( !v3->char_c.not_charge_attack || (v3->char_c.field_7DC = v3->char_c.field_7DC + 1.0, !v3->char_c.not_charge_attack) || v3->char_c.meta.viz.get_elaps_frames > 40 )
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        }
        return;
      case 414:
        if ( v3->char_c.meta.viz.get_subseq == 5 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 5 )
          goto LABEL_1148;
        if ( !v3->char_c.down_C )
          v3->char_c.not_charge_attack = 0;
        if ( v3->char_c.meta.viz.get_subseq == 2 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::spell_energy_spend(&v3->char_c, 200, 60);
          v3->char_c.meta.field_190 = 1;
          char_c::add_card_energy(&v3->char_c, 50);
          v416 = v3->char_c.meta.enemy;
          v417 = (v416->meta.cEffectSprite.x - v3->char_c.meta.cEffectSprite.x) * (double)v3->char_c.meta.cEffectSprite.dir;
          v418 = v417;
          v419 = v416->meta.cEffectSprite.y - v3->char_c.meta.cEffectSprite.y;
          v420 = -(signed __int16)(signed int)atan2_deg(v419, v418);
          v3->char_c.field_7D4 = v420;
          if ( v420 < -40 )
            v3->char_c.field_7D4 = -40;
          if ( v3->char_c.field_7D4 > 40 )
            v3->char_c.field_7D4 = 40;
          char_c::play_sfx(&v3->char_c, 2);
          if ( v3->char_c.field_7D8 )
          {
            a2e = (int *)&v1709;
            v1709 = (double)v3->char_c.field_7D4;
            v1710 = 0.0;
            v1711 = 1.0;
          }
          else
          {
            a2e = &v1559;
            *(float *)&v1559 = (double)v3->char_c.field_7D4;
            v1560 = 0.0;
            v1561 = 0.0;
          }
          v421 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v422 = v3->char_c.meta.cEffectSprite.y + 104.0;
          v423 = v422;
          v424 = (double)(48 * (char)v421) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 801, v424, v423, v421, 1, (int)a2e, 3);
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 5 )
          goto LABEL_831;
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1174;
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - 0.009999999776482582;
        if ( !v3->char_c.not_charge_attack && v3->char_c.meta.viz.get_elaps_frames <= 9 )
          goto LABEL_1127;
        v425 = v3->char_c.meta.viz.get_elaps_frames;
        if ( v425 > 30 )
          goto LABEL_1127;
        if ( v425 == 10 )
        {
          v3->char_c.field_7D8 = 1;
          v426 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v427 = v3->char_c.meta.cEffectSprite.y + 107.0;
          v428 = v427;
          v429 = v3->char_c.meta.cEffectSprite.x - (double)(23 * (char)v426);
          scene_add_effect(&v3->char_c, 62, v429, v428, v426, 1);
        }
LABEL_1174:
        v430 = v3->char_c.meta.viz.get_subseq;
        if ( v430 == 3 && v3->char_c.meta.viz.get_elaps_frames > 20 )
          goto LABEL_1106;
        if ( v430 == 4 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 5 )
          v3->char_c.meta.cEffectSprite.v_force = 0.60000002;
        return;
      case 415:
        v431 = 6;
        if ( v3->char_c.meta.viz.get_subseq == 6 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 6 )
          goto LABEL_1184;
        v432 = v3->char_c.meta.viz.get_subseq == 2;
        if ( v3->char_c.meta.viz.get_subseq < 2 )
        {
          if ( !v3->char_c.down_C )
            v3->char_c.not_charge_attack = 0;
          v432 = v3->char_c.meta.viz.get_subseq == 2;
        }
        if ( v432 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::play_sfx(&v3->char_c, 4);
          v3->char_c.meta.field_190 = 1;
          char_c::spell_energy_spend(&v3->char_c, 200, 60);
          char_c::add_card_energy(&v3->char_c, 50);
          if ( v3->char_c.field_7D8 == 1 )
          {
            v1718 = 0.0;
            a2f = (int *)&v1718;
            v1719 = 2.0;
            v1720 = 4.0;
          }
          else
          {
            *(float *)&v1565 = 0.0;
            a2f = &v1565;
            v1566 = 2.0;
            v1567 = 4.0;
          }
          v433 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v434 = v3->char_c.meta.cEffectSprite.y + 104.0;
          v435 = v434;
          v436 = (double)(48 * (char)v433) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 803, v436, v435, v433, 1, (int)a2f, 3);
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        v437 = v3->char_c.meta.viz.get_elaps_frames;
        if ( !v437 && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 6 )
          goto LABEL_831;
        v438 = v3->char_c.meta.viz.get_subseq;
        if ( v438 == 1 && v437 > 4 && (!v3->char_c.not_charge_attack || v437 > 25) || v438 == 4 && v437 > 12 )
          goto LABEL_1127;
        if ( v438 == 5 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 5 )
          v3->char_c.meta.cEffectSprite.v_force = 0.60000002;
        return;
      case 416:
        if ( v3->char_c.meta.viz.get_subseq == 1 )
          char_c::sub10func(&v3->char_c);
        if ( !v3->char_c.meta.viz.get_subseq )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
            goto LABEL_987;
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_elaps_frames && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
          goto LABEL_831;
        if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 5 )
        {
          char_c::play_sfx(&v3->char_c, 2);
          v3->char_c.meta.cEffectSprite.h_inerc = -4.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 8.0;
          v3->char_c.meta.cEffectSprite.v_force = 0.5;
          *(float *)&v1676 = 60.0;
          v1677 = 0.0;
          v1678 = 0.0;
          v3->char_c.meta.field_190 = 1;
          char_c::spell_energy_spend(&v3->char_c, 200, 60);
          char_c::add_card_energy(&v3->char_c, 50);
          v439 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v440 = v3->char_c.meta.cEffectSprite.y + 30.0;
          v441 = v440;
          v442 = (double)(30 * (char)v439) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 801, v442, v441, v439, 1, (int)&v1676, 3);
        }
        return;
      case 418:
        char_c::sub10func(&v3->char_c);
        v443 = v3->char_c.meta.cEffectSprite.h_inerc - 0.5;
        v3->char_c.meta.cEffectSprite.h_inerc = v443;
        if ( v443 < 0.0 )
          v3->char_c.meta.cEffectSprite.h_inerc = 0.0;
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_frame_time )
        {
          if ( v3->char_c.meta.viz.get_frame == 4 )
          {
            *(float *)&v1571 = 0.0;
            v1572 = 0.0;
            v1573 = 0.0;
            addbullet(&v3->char_c, 848, v3->char_c.meta.cEffectSprite.x, v3->char_c.meta.cEffectSprite.y, (unsigned __int8)v3->char_c.meta.cEffectSprite.dir, 1, (int)&v1571, 3);
          }
          if ( !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 5 )
          {
            scene_play_sfx(29);
            v3->char_c.field_49A = 0;
          }
        }
        return;
      case 420:
        char_c::sub10func(&v3->char_c);
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        v444 = v3->char_c.meta.viz.get_subseq;
        if ( v444 == 1 && v3->char_c.meta.viz.get_elaps_frames >= 2 )
          goto LABEL_1106;
        if ( v444 != 2 || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame != 2 )
          return;
        v3->char_c.meta.field_190 = 1;
        v3->field_894 = 40;
        v3->field_890 = 1;
        v3->char_c.field_7D0 = 1;
        goto LABEL_934;
      case 421:
        char_c::sub10func(&v3->char_c);
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 2);
        if ( v3->char_c.meta.viz.get_subseq != 2 || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame != 2 )
          return;
        v3->char_c.meta.field_190 = 1;
        v3->field_894 = 40;
        v3->field_890 = 1;
        v3->char_c.field_7D0 = 1;
        goto LABEL_934;
      case 422:
        if ( v3->char_c.meta.viz.get_subseq == 3 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 3 )
        {
LABEL_1029:
          v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 3);
          goto LABEL_986;
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        v445 = v3->char_c.meta.viz.get_subseq;
        if ( v445 == 1 && v3->char_c.meta.viz.get_elaps_frames >= 2 )
          goto LABEL_1106;
        if ( v445 != 2 || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame != 2 )
          goto LABEL_1063;
        v3->char_c.meta.field_190 = 1;
        v3->char_c.meta.cEffectSprite.h_inerc = -6.0;
        v3->char_c.meta.cEffectSprite.v_inerc = 6.0;
        v3->char_c.meta.cEffectSprite.v_force = 0.5;
        v3->field_894 = 40;
        v3->field_890 = 1;
        v3->char_c.field_7D0 = 1;
        goto LABEL_1062;
      case 430:
        char_c::sub10func(&v3->char_c);
        v446 = v3->char_c.meta.viz.get_subseq == 2;
        if ( v3->char_c.meta.viz.get_subseq < 2 )
        {
          if ( !v3->char_c.down_C )
            v3->char_c.not_charge_attack = 0;
          v446 = v3->char_c.meta.viz.get_subseq == 2;
        }
        if ( v446 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::spell_energy_spend(&v3->char_c, 200, 60);
          v3->field_894 = 60;
          v3->field_890 = 8;
          v3->char_c.meta.field_190 = 1;
          char_c::add_card_energy(&v3->char_c, 50);
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        v447 = v3->char_c.meta.viz.get_subseq;
        if ( v447 == 1 && v3->char_c.meta.viz.get_elaps_frames > 10 )
          goto LABEL_1106;
        v395 = v447 == 3;
LABEL_1103:
        if ( !v395 )
          return;
        v398 = __OFSUB__(v3->char_c.meta.viz.get_elaps_frames, 20);
        v396 = v3->char_c.meta.viz.get_elaps_frames == 20;
        v397 = v3->char_c.meta.viz.get_elaps_frames - 20 < 0;
        goto LABEL_1105;
      case 431:
        char_c::sub10func(&v3->char_c);
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 2);
        if ( v3->char_c.meta.viz.get_subseq == 2 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 2 )
        {
          v3->char_c.meta.field_190 = 1;
          v3->field_894 = 60;
          v3->field_890 = 8;
          v3->char_c.field_7D0 = 1;
          char_c::spell_energy_spend(&v3->char_c, 200, 60);
        }
        if ( v3->char_c.meta.viz.get_subseq == 3 )
        {
          v398 = __OFSUB__(v3->char_c.meta.viz.get_elaps_frames, 10);
          v396 = v3->char_c.meta.viz.get_elaps_frames == 10;
          v397 = v3->char_c.meta.viz.get_elaps_frames - 10 < 0;
LABEL_1105:
          if ( !((unsigned __int8)(v397 ^ v398) | (unsigned __int8)v396) )
            goto LABEL_1106;
        }
        return;
      case 432:
        if ( v3->char_c.meta.viz.get_subseq == 5 )
          char_c::sub10func(&v3->char_c);
        v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
        v431 = 5;
        if ( char_c::char_on_ground_down(&v3->char_c) && v3->char_c.meta.viz.get_subseq < 5 )
        {
LABEL_1184:
          v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, v431);
          goto LABEL_986;
        }
        if ( v3->char_c.meta.viz.get_subseq == 2 && v3->char_c.meta.viz.get_frame == 2 && !v3->char_c.meta.viz.get_frame_time )
        {
          char_c::spell_energy_spend(&v3->char_c, 200, 60);
          v3->char_c.meta.field_190 = 1;
          v3->field_894 = 60;
          v3->field_890 = 8;
          char_c::add_card_energy(&v3->char_c, 50);
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        v448 = v3->char_c.meta.viz.get_elaps_frames;
        if ( !v448 && !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 5 )
          goto LABEL_803;
        if ( v3->char_c.meta.viz.get_subseq == 1 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - 0.009999999776482582;
          v448 = v3->char_c.meta.viz.get_elaps_frames;
          if ( v448 > 10 )
            goto LABEL_1106;
        }
        v449 = v3->char_c.meta.viz.get_subseq;
        if ( v449 == 3 && v448 > 20 )
          goto LABEL_1106;
        if ( v449 == 4 && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 5 )
          v3->char_c.meta.cEffectSprite.v_force = 0.60000002;
        return;
      case 500:
        v450 = v9;
        if ( v3->char_c.meta.viz.get_subseq == 5 )
        {
          char_c::sub10func(&v3->char_c);
          v450 = 0.1000000014901161;
        }
        v3->char_c.meta.field_18C = 0;
        if ( v3->char_c.meta.viz.get_subseq != 1 )
          goto LABEL_1317;
        v451 = v3->char_c.meta.viz.get_elaps_frames;
        if ( v451 > 20 )
        {
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 504);
          return;
        }
        if ( !(v451 % 3) )
        {
          *(float *)&v1706 = (double)(MT_getnext() % 0x3Cu) + 180.0 - 30.0;
          v1707 = 15.0;
          v1708 = (double)(MT_getnext() & 3);
          v452 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v453 = v3->char_c.meta.cEffectSprite.y + 100.0;
          v454 = v453;
          v455 = v3->char_c.meta.cEffectSprite.x - (double)(95 * (char)v452);
          addbullet(&v3->char_c, 810, v455, v454, v452, 1, (int)&v1706, 3);
          v450 = 0.1000000014901161;
        }
        v456 = v3->char_c.meta.field_190;
        if ( v456 && v456 != 1 && v456 != 3 )
        {
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
          v3->char_c.meta.cEffectSprite.h_inerc = -5.0;
          v3->char_c.meta.cEffectSprite.v_inerc = 10.0;
          v3->char_c.meta.cEffectSprite.v_force = 0.34999999;
          return;
        }
LABEL_1317:
        v457 = v3->char_c.meta.viz.get_subseq;
        if ( v457 == 2 || v457 == 3 || v457 == 4 )
        {
          v3->char_c.meta.cEffectSprite.v_inerc = v3->char_c.meta.cEffectSprite.v_inerc - v3->char_c.meta.cEffectSprite.v_force;
          v458 = v450 + v3->char_c.meta.cEffectSprite.h_inerc;
          v3->char_c.meta.cEffectSprite.h_inerc = v458;
          if ( v458 > -1.0 )
            v3->char_c.meta.cEffectSprite.h_inerc = -1.0;
          if ( char_c::char_on_ground_down(&v3->char_c) )
          {
            v3->char_c.meta.cEffectSprite.y = c_meta::getlvl_height(&v3->char_c);
            char_c::reset_forces(&v3->char_c);
            v3->char_c.meta.vtbl->set_subseq_func3((c_meta *)v3, 5);
          }
        }
        if ( viz_process(&v3->char_c) )
          v3->char_c.meta.vtbl->set_seq_func2((c_meta *)v3, 0);
        if ( !v3->char_c.meta.viz.get_subseq && !v3->char_c.meta.viz.get_frame_time && v3->char_c.meta.viz.get_frame == 8 && v3->char_c.skills_1[0] >= 2 )
          ((void (__thiscall *)(char_marisa *))v3->char_c.meta.vtbl->next_subseq_func5)(v3);
        if ( v3->char_c.meta.viz.get_elaps_frames )
          return;
        if ( !v3->char_c.meta.viz.get_frame_time && !v3->char_c.meta.viz.get_frame && v3->char_c.meta.viz.get_subseq == 1 )
        {
          *(float *)&v1577 = 0.0;
          v1578 = 0.0;
          v1579 = 0.0;
          v459 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
          v460 = v3->char_c.meta.cEffectSprite.y + 84.0;
          v461 = v460;
          v462 = (double)(109 * (char)v459) + v3->char_c.meta.cEffectSprite.x;
          addbullet(&v3->char_c, 849, v462, v461, v459, 1, (int)&v1577, 3);
          v463 = v3->char_c.meta.cEffectSprite.y;
          if ( c_meta::getlvl_height(&v3->char_c) == v463 )
          {
            v464 = (unsigned __int8)v3->char_c.meta.cEffectSprite.dir;
            v465 = (double)(200 * (char)v464) + v3->char_c.meta.cEffectSprite.x;
            scene_add_effect(&v3->char_c, 128, v465, v3->char_c.meta.cEffectSprite.y, v464, -1);
          }
          v3->char_c.meta.cEffectSprite.h_inerc = 20.0;
          char_c::spell_energy_spend(&v3->char_c, 200, 120);
          char_c::add_card_energy(&v3->char_c, 50);
          char_c::play_sfx(&v3->char_c, 6);
        }
        if ( v3->char_c.meta.viz.get_elaps_frames || v3->char_c.meta.viz.get_frame_time || v3->char_c.meta.viz.get_frame )
          return;
        v466 = v3->char_c.meta.viz.get_subseq == 3;
        goto LABEL_1342;
      default:
        goto LABEL_2940;
    }
  }
}